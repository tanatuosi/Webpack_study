{"version":3,"file":"flow.js","sourceRoot":"","sources":["../../../src/widgets/layouts/flow.ts"],"names":[],"mappings":"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","sourcesContent":["import { createWidget, widget } from '../base';\r\nimport { Absolute } from './absolute';\r\n\r\nclass FlowLayout extends Absolute {\r\n    protected adjustAndGenerate($left: number) {\r\n        let left = $left;\r\n\r\n        const bounds = this.getBounds();\r\n\r\n        this.children = this.items.map((item, index) => {\r\n            const widget = item.el;\r\n            widget.top = bounds.top + (item.top || 0);\r\n            widget.left = left + (item.left || 0);\r\n            const width = this.children[index].getRealWidth();\r\n            widget.width =\r\n                index === 0 ? width : Math.min(bounds.width - (left - bounds.left) - (item.left || 0), width);\r\n            widget.height = this.children[index].height;\r\n\r\n            left += widget.width + (item.left || 0);\r\n\r\n            return createWidget(widget);\r\n        });\r\n    }\r\n}\r\n\r\n@widget('bi.flow_left')\r\nexport class FlowLeft extends FlowLayout {\r\n    protected digest(): void {\r\n        super.digest();\r\n\r\n        const bounds = this.getBounds();\r\n\r\n        const left = bounds.left;\r\n\r\n        this.adjustAndGenerate(left);\r\n    }\r\n}\r\n\r\n@widget('bi.flow_center')\r\nexport class FlowCenter extends FlowLayout {\r\n    protected digest(): void {\r\n        super.digest();\r\n\r\n        const bounds = this.getBounds();\r\n\r\n        const totalWidth = this.children.reduce(\r\n            (sum, child, index) => child.getRealWidth() + this.items[index].left + sum,\r\n            0,\r\n        );\r\n\r\n        const left = Math.max((bounds.width - totalWidth) / 2, 0) + bounds.left;\r\n\r\n        this.adjustAndGenerate(left);\r\n    }\r\n}\r\n\r\n@widget('bi.flow_right')\r\nexport class FlowRight extends FlowLayout {\r\n    protected digest(): void {\r\n        super.digest();\r\n\r\n        const bounds = this.getBounds();\r\n\r\n        const totalWidth = this.children.reduce(\r\n            (sum, child, index) => child.getRealWidth() + this.items[index].left + sum,\r\n            0,\r\n        );\r\n\r\n        const left = Math.max(bounds.width - totalWidth, 0) + bounds.left;\r\n\r\n        this.adjustAndGenerate(left);\r\n    }\r\n}\r\n"]}
const imageCache = new Map();
const loadingCache = new Map();
export function loadImage(imageUrl) {
    const image = imageCache.get(imageUrl);
    if (image) {
        return new Promise(resolve => {
            resolve(image);
        });
    }
    const loader = loadingCache.get(imageUrl) ||
        new Promise((resolve, reject) => {
            const image = new Image();
            image.src = imageUrl;
            image.onload = () => {
                imageCache.set(imageUrl, image);
                resolve(image);
            };
            image.onerror = (error) => {
                reject(error);
            };
        });
    loadingCache.set(imageUrl, loader);
    return loader;
}
export function getImageData(imageUrl) {
    return imageCache.get(imageUrl);
}
//# sourceMappingURL=imageloader.js.map
{"version":3,"file":"popover.js","sourceRoot":"","sources":["../../../../src/modules/components/popover/popover.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,cAAc,CAAC;AACxC,OAAO,EAAE,SAAS,EAAE,MAAM,cAAc,CAAC;AAGzC,IAAa,aAAa,GAA1B,MAAa,aAAc,SAAQ,EAAE,CAAC,OAAO;IAA7C;;QAKW,UAAK,GAgBR;YACA,OAAO,EAAE,qCAAqC;YAC9C,IAAI,EAAE,QAAQ;YACd,KAAK,EAAE;gBACH,OAAO,EAAE,KAAK;aACjB;YACD,MAAM,EAAE,IAAI;YACZ,YAAY,EAAE,EAAE;YAChB,IAAI,EAAE,IAAI;YACV,MAAM,EAAE,IAAI;YACZ,YAAY,EAAE,EAAE;YAChB,QAAQ,EAAE,IAAI;YACd,QAAQ,EAAE,CAAC;YACX,QAAQ,EAAE,CAAC;YACX,IAAI,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,QAAQ,CAAC,iBAAiB,CAAC,CAAC;YACpE,YAAY,EAAE,EAAE;SACnB,CAAA;IAuBL,CAAC;IArBU,OAAO;;QACV,MAAA,KAAK,CAAC,OAAO,oDAAI,CAAC;QAElB,WAAW;QACX,IAAI,CAAC,SAAS,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,UAAU;IACH,WAAW,CAAE,QAInB;QACG,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,QAAQ,CAAC;QAEvC,IAAI,MAAM,EAAE;YACR,OAAO;SACV;QAED,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;IACpD,CAAC;CACJ,CAAA;AA3DiB,mBAAK,GAAG,qBAAqB,CAAC;AADnC,aAAa;IADzB,QAAQ,EAAE;GACE,aAAa,CA4DzB;SA5DY,aAAa;AA+D1B,IAAa,gBAAgB,GAA7B,MAAa,gBAAiB,SAAQ,aAAa;IAGxC,YAAY;QACf,MAAM,CAAC,GAAG,IAAI,CAAC,OAAO,CAAC;QAEvB,CAAC,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,MAAM,GAAG;YACpB,IAAI,EAAE,EAAE,CAAC,wBAAwB,CAAC,KAAK;YACvC,IAAI,EAAE,EAAE;YACR,KAAK,EAAE,CAAC;oBACJ,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK;oBACrB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC1B,KAAK,EAAE,CAAC;oBACR,KAAK,EAAE,QAAQ;oBACf,OAAO,EAAE,CAAC,CAAM,EAAE,EAAE;wBAChB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC;wBAC3C,IAAI,CAAC,KAAK,EAAE,CAAC;oBACjB,CAAC;iBACJ,EAAE;oBACC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,KAAK;oBACrB,IAAI,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC;oBAC1B,YAAY,EAAE,CAAC,CAAC,YAAY;oBAC5B,KAAK,EAAE,CAAC;oBACR,OAAO,EAAE,CAAC,CAAM,EAAE,EAAE;wBAChB,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;wBAC5C,IAAI,CAAC,KAAK,EAAE,CAAC;oBACjB,CAAC;iBACJ,CAAC;SACE,CAAC,CAAC;IACd,CAAC;CACJ,CAAA;AA7BiB,sBAAK,GAAG,yBAAyB,CAAC;AADvC,gBAAgB;IAD5B,QAAQ,EAAE;GACE,gBAAgB,CA8B5B;SA9BY,gBAAgB","sourcesContent":["import { shortcut } from '@engine/core';\nimport { Resizable } from 'js-resizable';\n\n@shortcut()\nexport class ReportPopover extends BI.Popover {\n    public static xtype = 'report.main.popover';\n\n    private resizable: Resizable;\n\n    public props: {\n        baseCls: string,\n        size: string,\n        logic: {\n            dynamic: boolean,\n        },\n        header: string | null,\n        headerHeight: number,\n        body: string | null,\n        footer: string | null,\n        footerHeight: number,\n        closable: boolean,\n        bodyHgap: number,\n        bodyTgap: number,\n        btns: string[],\n        warningTitle: string,\n    } = {\n        baseCls: 'bi-popover bi-card bi-border-radius',\n        size: 'normal', // small, normal, big\n        logic: {\n            dynamic: false,\n        },\n        header: null,\n        headerHeight: 40,\n        body: null,\n        footer: null,\n        footerHeight: 44,\n        closable: true, // BI-40839 是否显示右上角的关闭按钮\n        bodyHgap: 0,\n        bodyTgap: 0,\n        btns: [BI.i18nText('BI-Basic_Sure'), BI.i18nText('BI-Basic_Cancel')],\n        warningTitle: '',\n    }\n\n    public mounted () {\n        super.mounted?.();\n\n        // 拖动改变弹窗大小\n        this.resizable = new Resizable(this.element.context);\n    }\n\n    // 自定义弹窗位置\n    public setPosition (position: {\n        center?: boolean;\n        top?: number,\n        left?: number,\n    }) {\n        const { center, left, top } = position;\n\n        if (center) {\n            return;\n        }\n\n        this.resizable.setPosition(top || 0, left || 0);\n    }\n}\n\n@shortcut()\nexport class ReportBarPopover extends ReportPopover {\n    public static xtype = 'report.main.bar_popover';\n\n    public beforeCreate() {\n        const o = this.options;\n\n        o.footer || (o.footer = {\n            type: BI.RightVerticalAdaptLayout.xtype,\n            lgap: 10,\n            items: [{\n                type: BI.Button.xtype,\n                text: this.options.btns[1],\n                value: 1,\n                level: 'ignore',\n                handler: (v: any) => {\n                    this.fireEvent(BI.Popover.EVENT_CANCEL, v);\n                    this.close();\n                },\n            }, {\n                type: BI.Button.xtype,\n                text: this.options.btns[0],\n                warningTitle: o.warningTitle,\n                value: 0,\n                handler: (v: any) => {\n                    this.fireEvent(BI.Popover.EVENT_CONFIRM, v);\n                    this.close();\n                },\n            }],\n        } as any);\n    }\n}\n"]}
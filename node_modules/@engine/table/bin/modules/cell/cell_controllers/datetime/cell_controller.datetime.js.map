{"version":3,"file":"cell_controller.datetime.js","sourceRoot":"","sources":["../../../../../src/modules/cell/cell_controllers/datetime/cell_controller.datetime.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA,OAAO,EAAE,MAAM,EAAE,iBAAiB,EAAE,KAAK,EAAE,MAAM,oBAAoB,CAAC;AACtE,OAAO,EAAc,QAAQ,EAAE,MAAM,cAAc,CAAC;AACpD,OAAO,EAAE,qCAAqC,EAAE,MAAM,6BAA6B,CAAC;AACpF,OAAO,EAAE,4BAA4B,EAAE,MAAM,yBAAyB,CAAC;AAGvE,IAAa,YAAY,GAAzB,MAAa,YAAa,SAAQ,qCAAqC;IAAvE;;QAGW,UAAK,GAWR;YACA,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,MAAM;YACd,QAAQ,EAAE,EAAE;YACZ,WAAW,EAAE,CAAC;YACd,QAAQ,EAAE;gBACN,GAAG,EAAE,CAAC;gBACN,MAAM,EAAE,CAAC;aACZ;YACD,UAAU,EAAE,EAAE;YACd,OAAO,EAAE,EAAE;SACd,CAAA;IAsEL,CAAC;IAlEU,MAAM;QACT,MAAM,KAA0D,IAAI,CAAC,OAAO,EAAtE,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE,OAAO,OAA0B,EAArB,IAAI,cAArD,oDAAuD,CAAe,CAAC;QAE7E,OAAO,gCACA,IAAI,KACP,SAAS,EAAE,MAAM,EACjB,IAAI,EAAE,iBAAiB,CAAC,KAAK,EAC7B,GAAG,EAAE,CAAC,GAAsB,EAAE,EAAE;gBAC5B,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;YACrB,CAAC,EACD,SAAS,EAAE,UAAU,EACrB,kBAAkB,EAAE,4BAA4B,EAChD,eAAe,EAAE,GAAG,EAAE;gBAClB,OAAO;oBACH,QAAQ,kCACD,QAAQ,KACX,WAAW,GACd;iBACJ,CAAC;YACN,CAAC,GACJ,CAAC;IACN,CAAC;IAEM,QAAQ;QACX,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,CAAC;IACjC,CAAC;IAEM,iBAAiB;QACpB,OAAO,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;IAC1C,CAAC;IAEM,gBAAgB;QACnB,OAAO,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE,CAAC;IACzC,CAAC;IAEM,KAAK,CAAC,kBAAkB,CAAC,CAExB;QACJ,MAAM,IAAI,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC;IAC3C,CAAC;IAEM,KAAK;QACR,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAEM,oBAAoB;QACvB,OAAO,IAAI,CAAC,KAAK,CAAC,oBAAoB,EAAE,CAAC;IAC7C,CAAC;IAEM,gBAAgB,CAAC,CAAS;QAC7B,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC,CAAC,CAAC;IACnC,CAAC;IAEM,iBAAiB;QACpB,IAAI,CAAC,KAAK,CAAC,gBAAgB,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;IAC5D,CAAC;IAEM,QAAQ,KAAI,CAAC;IAEb,KAAK;QACR,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAEM,IAAI;QACP,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACtB,CAAC;CACJ,CAAA;AA9FiB,kBAAK,GAAG,4CAA4C,CAAC;AAD1D,YAAY;IADxB,QAAQ,EAAE;GACE,YAAY,CA+FxB;SA/FY,YAAY","sourcesContent":["import { HEIGHT, ParameterDatetime, WIDTH } from '@engine/controller';\nimport { FrListener, shortcut } from '@engine/core';\nimport { AbstractParameterCellControllerWidget } from '../cell_controller.abstract';\nimport { fetchCellDatetimeControlAttr } from '../cell_controller.crud';\n\n@shortcut()\nexport class CellDatetime extends AbstractParameterCellControllerWidget {\n    public static xtype = 'report.main.table_cell.controller.datetime';\n\n    public props: {\n        position: {\n            row: number;\n            column: number;\n        };\n        reportIndex: number;\n        xlisteners: FrListener[];\n        width: number;\n        height: number;\n        fontSize: number;\n        baseCls: string;\n    } = {\n        width: WIDTH,\n        height: HEIGHT,\n        fontSize: 12,\n        reportIndex: 0,\n        position: {\n            row: 0,\n            column: 0,\n        },\n        xlisteners: [],\n        baseCls: '',\n    }\n\n    private combo: ParameterDatetime;\n\n    public render() {\n        const { xlisteners, position, reportIndex, baseCls, ...opts } = this.options;\n\n        return <Partial<ParameterDatetime['props']>>{\n            ...opts,\n            container: 'body',\n            type: ParameterDatetime.xtype,\n            ref: (ref: ParameterDatetime) => {\n                this.combo = ref;\n            },\n            listeners: xlisteners,\n            controlAttrFetcher: fetchCellDatetimeControlAttr,\n            extraOptsGetter: () => {\n                return {\n                    location: {\n                        ...position,\n                        reportIndex,\n                    },\n                };\n            },\n        };\n    }\n\n    public getValue() {\n        return this.combo.getValue();\n    }\n\n    public postGetValidation() {\n        return this.combo.postGetValidation();\n    }\n\n    public preGetValidation() {\n        return this.combo.preGetValidation();\n    }\n\n    public async setControllerValue(v: string | number | {\n        date_milliseconds: number;\n    } | Date) {\n        await this.combo.setControllerValue(v);\n    }\n\n    public reset() {\n        this.combo.reset();\n    }\n\n    public postValidateAndToast() {\n        return this.combo.postValidateAndToast();\n    }\n\n    public setInteractValue(v: string) {\n        this.combo.setInteractValue(v);\n    }\n\n    public reloadControlAttr() {\n        this.combo.setInteractValue(`${this.combo.getValue()}`);\n    }\n\n    public setStyle() {}\n\n    public focus () {\n        this.combo.focus();\n    }\n\n    public blur () {\n        this.combo.blur();\n    }\n}\n"]}
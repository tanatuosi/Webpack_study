{"version":3,"file":"chart_relate.link.js","sourceRoot":"","sources":["../../../src/modules/hyper_link/chart_relate.link.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAsC,MAAM,cAAc,CAAC;AAEhF,OAAO,EAAE,gBAAgB,EAAE,MAAM,6BAA6B,CAAC;AAE/D,MAAM,OAAO,eAAgB,SAAQ,YAAY;IAM7C,YAAmB,KAAuB;;QACtC,KAAK,CAAC,KAAK,CAAC,CAAC;QAFV,WAAM,GAAG,IAAI,CAAC;QAGjB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC;QACnC,IAAI,CAAC,cAAc,GAAG,MAAA,KAAK,CAAC,QAAQ,0CAAE,cAAc,CAAC;QACrD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC,YAAY,CAAC;IAC3C,CAAC;IAES,OAAO;;QACb,MAAM,MAAM,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,EAAE,EAAE;YAC9D,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,KAAK,CAAC;YAEnC,OAAO,MAAM,CAAC;QAClB,CAAC,EAAwB,EAAE,CAAC,CAAC;QAE7B,MAAM,gBAAgB,GAAiC,CAAC,MAAA,IAAI,CAAC,cAAc,+CAAnB,IAAI,EAAoB,GAAG,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;QAE5G,IAAI,CAAC,gBAAgB,EAAE;YACnB,OAAO;SACV;QAED,gBAAgB,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;IACrD,CAAC;CACJ","sourcesContent":["import { AbstractLink, HyperLinkParameter, HyperLinkProps } from '@engine/link';\nimport { WidgetManager } from '@engine/utils';\nimport { CellChartManager } from '../table.cell_chart_manager';\n\nexport class ChartRelateLink extends AbstractLink {\n    private managersGetter?: () => Map<string, WidgetManager<any>>;\n    private relateCCName: string;\n\n    protected parameters: HyperLinkParameter[];\n    public silent = true;\n    public constructor(props: ChartRelateProps) {\n        super(props);\n        this.parameters = props.parameters;\n        this.managersGetter = props.external?.managersGetter;\n        this.relateCCName = props.relateCCName;\n    }\n\n    protected _excute(): void {\n        const params = this.parameters.reduce((params, { value, name }) => {\n            params[name.toUpperCase()] = value;\n\n            return params;\n        }, <{[key: string]: any}>{});\n\n        const cellChartManager = <CellChartManager | undefined>(this.managersGetter?.().get(CellChartManager.NAME));\n\n        if (!cellChartManager) {\n            return;\n        }\n\n        cellChartManager.link(params, this.relateCCName);\n    }\n}\n\nexport interface ChartRelateProps extends HyperLinkProps {\n    chartId: string;\n    parameters: HyperLinkParameter[];\n    relateCCName: string;\n    external?: {\n        managersGetter: () => Map<string, WidgetManager<any>>;\n    };\n}\n"]}
{"version":3,"file":"table.api_row_column.abstract.js","sourceRoot":"","sources":["../../../src/modules/table_api/table.api_row_column.abstract.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,YAAY,EAAE,MAAM,0BAA0B,CAAC;AAIxD;;GAEG;AACH,MAAM,OAAgB,cAAc;IAoBhC,YAAoB,eAAgC,EAAE,IAAS;QAC3D,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;QACvC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;QACtB,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,eAAe,CAAC;IAChD,CAAC;IASM,QAAQ;QACX,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IACM,QAAQ,CAAE,MAAc,IAAG,CAAC;IAC5B,SAAS;QACZ,OAAO,CAAC,CAAC,CAAC;IACd,CAAC;IACM,SAAS,CAAE,OAAe,IAAG,CAAC;IAErC;;OAEG;IACI,QAAQ;QACX,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED;;;OAGG;IACI,QAAQ,CAAE,IAAsB;QACnC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,gBAAgB,kBAC/C,KAAK,EAAE,IAAI,IACR,IAAI,CAAC,kBAAkB,EAAE,EAC9B,CAAC;IACP,CAAC;IAED;;;OAGG;IACI,WAAW,CAAE,IAAqB;QACrC,IAAI,CAAC,IAAI,CAAC,IAAI;YAAE,OAAO;QAEvB,MAAM,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,IAAI,CAAC;QAEhC,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,YAAY,EAAE;YAC1C,QAAQ,EAAE,IAAI,CAAC,kBAAkB,EAAE;YACnC,SAAS,EAAE,WAAW;YACtB,IAAI,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,IAAI;YACnB,MAAM,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,MAAM;YACvB,KAAK,EAAE,OAAO,aAAP,OAAO,uBAAP,OAAO,CAAE,KAAK;YACrB,KAAK;SACR,CAAC,CAAC;IACP,CAAC;CACJ","sourcesContent":["import { PopupHandler } from '../handler/handler.popup';\nimport { CellSetStyleArgs, CellTooltipArgs, TableApiContext } from '../table.types';\nimport { TableCell } from './table.api_cell';\n\n/**\n * 行列对象\n */\nexport abstract class TableRowColumn {\n    /**\n     * 索引\n     */\n    protected index: number;\n\n    /**\n     * 公共坐标\n     */\n    protected unifiedPosition: number;\n\n    /**\n     * 行高或列宽\n     */\n    public size: number; // 行高或列宽\n    /**\n     * 上下文\n     */\n    protected externalContext: TableApiContext;\n    \n    public constructor (externalContext: TableApiContext, opts: any) {\n        this.externalContext = externalContext;\n        this.index = opts.index;\n        this.size = opts.size;\n        this.unifiedPosition = opts.unifiedPosition;\n    }\n\n    /**\n     * 获取第index行/列的单元格对象\n     * @param index 索引\n     */\n    abstract getCell (index: number): TableCell | undefined;\n    abstract getUnifiedPosition (): {x?: number, y?: number};\n    \n    public getWidth (): number {\n        return -1;\n    }\n    public setWidth (_width: number) {}\n    public getHeight (): number {\n        return -1;\n    }\n    public setHeight (_height: number) {}\n\n    /**\n     * 获取行/列索引\n     */\n    public getIndex () {\n        return this.index;\n    }\n\n    /**\n     * 设置行/列所有单元格样式\n     * @param opts 样式\n     */\n    public setStyle (opts: CellSetStyleArgs) {\n        this.externalContext.emitCellEvent('CELL_SET_STYLE', {\n            style: opts,\n            ...this.getUnifiedPosition(),\n        });\n    }\n\n    /**\n     * 设置行/列所有单元格提示\n     * @param opts 弹窗选项\n     */\n    public showToolTip (opts: CellTooltipArgs) {\n        if (!opts.show) return;\n        \n        const { content, style } = opts;\n\n        this.externalContext.addHandler(PopupHandler, {\n            position: this.getUnifiedPosition(),\n            scopeType: 'rowcolumn',\n            body: content?.text,\n            header: content?.header,\n            image: content?.image,\n            style,\n        });\n    }\n}\n"]}
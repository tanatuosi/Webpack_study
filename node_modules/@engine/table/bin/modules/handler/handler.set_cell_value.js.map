{"version":3,"file":"handler.set_cell_value.js","sourceRoot":"","sources":["../../../src/modules/handler/handler.set_cell_value.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,iCAAiC,EAAE,MAAM,iCAAiC,CAAC;AAEpF,OAAO,EAAE,mBAAmB,EAAE,MAAM,oBAAoB,CAAC;AAEzD,MAAM,OAAO,mBAAoB,SAAQ,mBAAmB;IAA5D;;QACW,eAAU,GAAG,CAAC,gBAAgB,CAAC,CAAC;QAEhC,SAAI,GAAG,gBAAgB,CAAC;QAExB,WAAM,GAAG,OAAO,CAAC;IAmB5B,CAAC;IAjBU,KAAK,CAAC,MAAM,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,EAA4B;QACzD,MAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,YAAY,EAAE,CAAC;QAExD,MAAM,YAAY,GAA2B,WAAW,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAE/D,IAAI,CAAC,YAAY,EAAE;YACf,OAAO,KAAK,CAAC;SAChB;QAED,MAAM,SAAS,GAAG,MAAM,iCAAiC,CAAC,QAAQ,CAAC,YAAY,EAAE;YAC7E,EAAE,EAAE,KAAK,aAAL,KAAK,cAAL,KAAK,GAAI,EAAE;SAClB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;QAEzB,SAAS,IAAI,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAE3D,OAAO,IAAI,CAAC;IAChB,CAAC;CACJ","sourcesContent":["import { tableCellValueTransformerProvider } from '../cell/transformer/transformer';\nimport { PageResult, XCellValue } from '../table.types';\nimport { AbstractCellHandler } from './handler.abstract';\n\nexport class CellSetValueHandler extends AbstractCellHandler {\n    public eventNames = ['CELL_SET_VALUE'];\n\n    public name = 'CELL_SET_VALUE';\n\n    public merger = 'uniqe';\n\n    public async action({ value, x, y }: TableCellSetValueHandler) {\n        const pageResults = this.externalContext.getTableData();\n        \n        const pageCellData: PageResult | undefined = pageResults[y][x];\n    \n        if (!pageCellData) {\n            return false;\n        }\n\n        const isUpdated = await tableCellValueTransformerProvider.setValue(pageCellData, {\n            cv: value ?? '',\n        }, this.externalContext);\n\n        isUpdated && this.externalContext.populate(this.tableData);\n\n        return true;\n    }\n}\n\nexport type TableCellSetValueHandler = Parameters<AbstractCellHandler['action']>[0] & { value: XCellValue['cv'] }\n"]}
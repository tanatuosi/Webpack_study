{"version":3,"file":"table.js","sourceRoot":"","sources":["../../src/modules/table.ts"],"names":[],"mappings":"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","sourcesContent":["import { shortcut, store } from '@engine/core';\nimport { Layout } from '@fui/core';\nimport finesheet from '@fui/sheet';\nimport { Bounds, Cell, SheetOptions } from '@fui/sheet/types';\nimport { DEFAUTL_LINK_TYPE, linkHandlerProvider } from '@engine/link';\nimport { Loading, WidgetManager } from '@engine/utils';\nimport jss, { StyleSheet } from 'jss';\nimport { AbstractCellControllerHoc } from './cell/cell_controllers/cell_controller_hoc/cell_controller_hoc.abstract';\nimport { HandlerConfig, TriggerType } from './handler/cell_style/handler.abstract.cell_style';\nimport { BackgroundColorHandler } from './handler/cell_style/handler.background_color';\nimport { FontStyleHandler } from './handler/cell_style/handler.font_style';\nimport { CellHandler } from './handler/handler';\nimport { AbstractCellHandler } from './handler/handler.abstract';\nimport { PopupHandler } from './handler/handler.popup';\nimport { TableCellSetRadiusHandler } from './handler/handler.set_cell_radius';\nimport { TableCellSetValueHandler } from './handler/handler.set_cell_value';\nimport { ChartNewLink } from './hyper_link/chart.link_new';\nimport { ChartRelateLink } from './hyper_link/chart_relate.link';\nimport { CellControllerManager } from './table.cell_controller_manager';\nimport { CellErrorTipManager } from './table.cell_error_tip_manager';\nimport { TableCellGenerator } from './table.cell_generator';\nimport { TableModel } from './table.model';\nimport { addNewStyles, address2Position, getCellValue, getCellValueByCell, removeOldStyles, transformPosition2Id } from './table.service';\nimport { CellSetStyleArgs, Frozen, PageResult, ReportFitAttr, ReportSettingDetail, TableApiContext, TableDirtyCell, TableEventCellSelectTextArgs, TableRadiusRangeArgs, XCellStyle, XCellValue } from './table.types';\nimport { TableCell } from './table_api/table.api_cell';\nimport { TableColumn } from './table_api/table.api_column';\nimport { TableRow } from './table_api/table.api_row';\n\n// table内单元格自带的超链\nlinkHandlerProvider.setHandler(DEFAUTL_LINK_TYPE.CHART_POPUP, ChartNewLink);\nlinkHandlerProvider.setHandler(DEFAUTL_LINK_TYPE.CHART_RELATE, ChartRelateLink);\n\n@shortcut()\n@store(TableModel, {\n    props(this: AxisSheet) {\n        return {\n            reportSettingDetail: this.options.reportSettingDetail,\n            reportFitAttr: this.options.reportFitAttr,\n            tableData: this.options.tableData,\n            frozen: this.options.frozen,\n            viewAtCenter: this.options.viewAtCenter,\n            activeBox: this.options.activeBox,\n            loadData: (data: SheetOptions) => {\n                this.sheet?.loadData(data);\n            },\n            tableCellGenerator: this.tableCellGenerator,\n            tableWidth: this.options.tableWidth,\n            tableHeight: this.options.tableHeight,\n            screenWidth: this.options.screenWidth,\n            webBackground: this.options.browserBg,\n        };\n    },\n})\nexport class AxisSheet extends BI.Widget {\n    public static xtype = 'report.table';\n\n    public static EVENT_LOADED = 'EVENT_LOADED';\n    public static EVENT_FETCH_DATA = 'EVENT_FETCH_DATA';\n    public static EVENT_SELECT_CELL = 'EVENT_SELECT_CELL';\n\n    private loading: Loading;\n\n    private store: TableModel['store'];\n\n    private model: TableModel['model'];\n\n    private background: Layout;\n\n    private table: Layout;\n\n    private sheet: ReturnType<typeof finesheet['createSheet']>;\n\n    private sheetStyles: StyleSheet;\n\n    private mouseInBounds: boolean = false;\n    private timer: number | undefined;\n\n    private isDisableContextMenu: boolean;\n\n    /**\n     * 作用于sticker部分任意组件的管理器\n     */\n    public stickerManagers = new Map<string, WidgetManager<any>>();\n\n    private tableCellGenerator = new TableCellGenerator({\n        attach: widget => BI.createWidget({\n            ...widget,\n            element: this,\n        }),\n\n        getTableData: () => this.store.getTableData(),\n\n        populate: pageResults => this.populate(pageResults, {\n            sync: true, silent: true, cache: true,\n        }),\n\n        partialPopulate: (cells: PageResult[]) => {\n            this.store.refreshCellValues(cells);\n        },\n\n        getWidgetName: () => this.options.widgetName,\n\n        getStickerManagers: () => this.stickerManagers,\n\n        getCellValueById: id => this.getCellValueById(id),\n\n        getCellValueByWidgetName: widgetName => {\n            const [controller] = this.getCellControllersByWidgetName(widgetName);\n\n            if (BI.isNull(controller)) return undefined;\n\n            const cellId = controller.attr('cellId');\n\n            return this.getCellValueById(cellId);\n        },\n\n        getWidgetByCell: (row: number, col: number) => this.getWidgetByCell(row, col),\n\n        setSelectCell: (info: TableEventCellSelectTextArgs) => {\n            this.store.setSelectedCell({ row: info.row, col: info.col });\n\n            this.fireEvent(AxisSheet.EVENT_SELECT_CELL, info);\n        },\n\n        getDependenceValueById: (realId: string) => this.getDependenceValueById(realId),\n\n        getFontResizable: () => this.model.reportFitAttr.fitFont,\n    })\n\n    /**\n     * 暴露给api的方法\n     */\n    private tableContext4Api: TableApiContext = {\n        addHandler: (handler: CellHandler, config?: any) => this.addHandler(handler, config),\n        emitCellEvent: (eventName: string, arg: any) => this.emitCellEvent(eventName, arg),\n        getRow: (row: number) => this.getRow(row),\n        getColumn: (col: number) => this.getColumn(col),\n        getCell: (row: number | string, col: number | string) => this.getCell(row, col),\n    }\n\n    public props: {\n        tableData?: PageResult[][]\n        baseCls?: string;\n        $testId?: string;\n        reportSettingDetail?: ReportSettingDetail;\n        reportFitAttr?: ReportFitAttr;\n        viewAtCenter?: boolean;\n        frozen?: Frozen;\n        browserBg?: {\n            [key: string]: any;\n        };\n        widgetName?: string;\n        activeBox?: boolean;\n        tableWidth?: number;\n        tableHeight?: number;\n        screenWidth?: number;\n        synchronize?: boolean;\n        supportCSSTransform?: boolean;\n        isDisableContextMenu?: boolean;\n    } = {\n        baseCls: 'report-table',\n        $testId: 'report-table',\n        tableData: [],\n        reportSettingDetail: {} as ReportSettingDetail,\n        reportFitAttr: {\n            fitFont: false,\n            fitStateInPC: 3,\n        },\n        viewAtCenter: false,\n        frozen: undefined,\n        browserBg: {},\n        widgetName: '',\n        activeBox: true,\n        synchronize: false,\n\n        /** 开启对css transform属性的支持，默认为false */\n        supportCSSTransform: false,\n        isDisableContextMenu: false,\n    };\n\n    public watch = {\n        reportSettingDetail: () => {\n            this.reLayout();\n        },\n        loading: (loading: boolean) => {\n            this.loading.setVisible(loading);\n        },\n        webBackground: () => {\n            this.changeBackground('webBackground');\n        },\n    }\n\n    public mounted() {\n        !this.model.tableWidth && this.store.setTableWidth(this.table.element.width());\n        !this.model.tableHeight && this.store.setTableHeight(this.table.element.height());\n        !this.model.screenWidth && this.store.setScreenWidth(this.element.width());\n        \n        const tableData = this.store.getTableData();\n        this.sheet = finesheet.createSheet(this.table.element[0], {\n            tableWidth: this.model.tableWidth,\n            tableHeight: this.model.tableHeight,\n            options: {\n                sheet: {\n                    colc: 0,\n                    rowc: 0,\n                },\n                contextMenuItems: [{\n                    key: 'copy',\n                    icon: '',\n                    label: BI.i18nText('Fine-Report_Copy'),\n                    accel: '',\n                }],\n                sync: this.options.synchronize,\n                supportCSSTransform: this.options.supportCSSTransform,\n                disableContextMenu: () => this.isDisableContextMenu,\n            },\n        });\n        const { sheet } = this.sheet;\n        sheet.addEventListener('scroll', ({ x, y }: {\n            x: number,\n            y: number,\n            deltaX: number,\n            deltaY: number,\n        }) => {\n            !this.model.isAdaptiveTable && this.background.element.css('transform', `translate(-${x}px, -${y}px)`);\n        });\n\n        this.populate(tableData);\n\n        this.table.element.on('mouseenter', () => {\n            this.mouseInBounds = true;\n        });\n        this.table.element.on('mouseleave', () => {\n            this.mouseInBounds = false;\n        });\n    }\n\n    public render() {\n        this.sheetStyles = jss\n            .createStyleSheet(\n                {\n                    paperBackground: this.model.paperBackground,\n                    webBackground: this.model.webBackground,\n                },\n                { link: true },\n            )\n            .attach();\n\n        return {\n            type: BI.AbsoluteLayout.xtype,\n            scrollable: false,\n            cls: `${this.sheetStyles.classes.webBackground}`,\n            items: [\n                {\n                    el: !this.model.isAdaptiveTable\n                        ? {\n                            type: BI.HorizontalLayout.xtype,\n                            scrollx: false,\n                            horizontalAlign: this.model.viewAtCenter ? BI.HorizontalAlign.Center : BI.HorizontalAlign.Left,\n                            items: [{\n                                type: BI.Layout.xtype,\n                                invisible: true,\n                                cls: `${this.sheetStyles.classes.paperBackground}`,\n                                ref: (_ref: Layout) => {\n                                    this.background = _ref;\n                                },\n                                // 测试发现65000时在windows上没有重影现象，但是也没有水印产生，25000可以在windows和Mac上正常显示水印\n                                // 查阅资料发现不同浏览器为了保证渲染性能，对canvas的最大宽高做了限定\n                                // 这里的限定只是暂时处理方案，保证Chrome正常，后续梳理resize相关逻辑写个最佳方案\n                                width: Math.min(this.model.paperWidth, 25000),\n                                height: Math.min(this.model.paperHeight, 25000),\n                            }],\n                        }\n                        : {\n                            type: BI.Layout.xtype,\n                            invisible: true,\n                            cls: `${this.sheetStyles.classes.paperBackground}`,\n                            ref: (_ref: Layout) => {\n                                this.background = _ref;\n                            },\n                        },\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                },\n                {\n                    el: {\n                        type: BI.Layout.xtype,\n                        ref: (_ref: Layout) => {\n                            this.table = _ref;\n                        },\n                    },\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                },\n                {\n                    el: {\n                        type: Loading.xtype,\n                        ref: (_ref: Loading) => {\n                            this.loading = _ref;\n                        },\n                        $testId: 'report-table-loading',\n                        invisible: !this.model.loading,\n                    },\n                    top: 0,\n                    left: 0,\n                    right: 0,\n                    bottom: 0,\n                },\n            ],\n        };\n    }\n\n    /**\n     * 获取纸张所在实例\n     */\n    public getPaperWidget() {\n        return this.background;\n    }\n\n    /**\n     * 根据位置获取id\n     * @param col 列\n     * @param row 行\n     */\n    private getCellIdByPosition(row: number, col: number) {\n        const cell = this.store.getTableData()[row][col];\n\n        return `${cell.id}` || transformPosition2Id(col, row);\n    }\n\n    /**\n     * 根据位置获取单元格控件\n     * @param row 行\n     * @param col 列\n     */\n    public getWidgetByCell(address: string): AbstractCellControllerHoc | undefined;\n    public getWidgetByCell(row: number, col: number): AbstractCellControllerHoc | undefined;\n    public getWidgetByCell(p1: number | string, p2?: number): AbstractCellControllerHoc | undefined {\n        const { address, position } = BI.isString(p1)\n            ? { address: p1, position: undefined }\n            : BI.isNumber(p1) && BI.isNumber(p2)\n                ? { address: undefined, position: { row: p1, col: p2 } }\n                : { address: undefined, position: undefined };\n\n        if (BI.isNull(address) && BI.isNull(position)) {\n            return undefined;\n        }\n\n        const id = position ? this.getCellIdByPosition(position.row, position.col) : address;\n\n        if (!id) {\n            return undefined;\n        }\n\n        const cellControllerManager = <CellControllerManager | undefined>(this.stickerManagers.get(CellControllerManager.NAME));\n\n        if (!cellControllerManager) return undefined;\n\n        cellControllerManager.initializeWidget(id);\n\n        const widget = cellControllerManager.getWidgetByName(id);\n\n        return widget;\n    }\n\n    /**\n     * 取依赖值（与控件取值不同，若有控件值为数组，应返回最后数组最后一位，即为树结构的子节点）\n     * @param realId 单元格id地址或控件id\n     */\n    public getDependenceValueById(realId: string) {\n        const widget = this.getWidgetByCell(realId);\n\n        const cellValue = BI.isNull(widget) ? this.getCellValueById(realId) : widget.getDependenceValue();\n\n        const [controller] = this.getCellControllersByWidgetName(realId);\n\n        return BI.isNull(cellValue) ? controller?.getDependenceValue() || '' : cellValue;\n    }\n\n    /**\n     * 根据控件名获取单元格控件数组\n     * @param widgetName 控件名\n     * @returns 单元格控件widget数组\n     */\n    public getCellControllersByWidgetName(widgetName: string) {\n        const cellControllerManager = <CellControllerManager | undefined>(this.stickerManagers.get(CellControllerManager.NAME));\n\n        if (!cellControllerManager) return [];\n\n        cellControllerManager.getUninitializedWidgetsDict()\n            .forEach(({ cellWidgetName }, id) => {\n                if (cellWidgetName.toUpperCase() === widgetName.toUpperCase()) {\n                    cellControllerManager.initializeWidget(id);\n                }\n            });\n\n        const controllers = cellControllerManager.getWidgets()\n            .filter(widget => widget.attr('cellWidgetName') && widget.attr('cellWidgetName').toUpperCase() === widgetName.toUpperCase());\n\n        return controllers;\n    }\n\n    /**\n     * 选中单元格\n     * @param position 单元格位置信息，为空则默认第一个带widget的单元格\n     */\n    public selectCell(id: string): { id: string; cell: PageResult } | undefined;\n    public selectCell(cell?: PageResult): { id: string; cell: PageResult } | undefined;\n    public selectCell(position?: { row: number; col: number }): { id: string; cell: PageResult } | undefined;\n    public selectCell(positionOrIdOrCell?: { row: number; col: number } | string | PageResult): { id: string; cell: PageResult } | undefined {\n        const { id, position, selectedCell } = BI.isString(positionOrIdOrCell)\n            ? { id: positionOrIdOrCell, position: undefined, selectedCell: undefined }\n            : BI.isNull(positionOrIdOrCell)\n                ? { position: undefined, id: undefined, selectedCell: undefined }\n                : 'row' in positionOrIdOrCell\n                    ? { position: positionOrIdOrCell, id: undefined, selectedCell: undefined }\n                    : { position: undefined, id: undefined, selectedCell: positionOrIdOrCell };\n\n        let cell: PageResult | undefined;\n\n        const tableData = this.store.getTableData();\n\n        if (selectedCell) {\n            cell = selectedCell;\n        } else if (id) {\n            tableData.some(rowData => rowData.some(cellData => {\n                if (cellData.id === id) {\n                    cell = cellData;\n\n                    return true;\n                }\n\n                return false;\n            }));\n        } else if (position) {\n            cell = tableData[position.row][position.col];\n        } else {\n            tableData.some(rowData => rowData.some(cellData => {\n                if (cellData.widget) {\n                    cell = cellData;\n\n                    return true;\n                }\n\n                return false;\n            }));\n        }\n\n        if (cell) {\n            const returnId = id || this.getCellIdByPosition(cell.position.y, cell.position.x);\n\n            this.emitCellEvent<void>('CELL_SELECT', { id: returnId, cell });\n\n            return {\n                id: returnId,\n                cell,\n            };\n        }\n\n        return undefined;\n    }\n\n    /**\n     * 选中下一个单元格\n     */\n    public selectNextCell() {\n        const { row, col } = this.model.selectedCell || { row: 0, col: 0 };\n\n        const tableData = this.store.getTableData();\n\n        let cell: PageResult | undefined;\n\n        tableData.some(rowData => rowData.some(cellData => {\n            // 当前行前，不处理\n            if (cellData.position.y < row) {\n                return false;\n            }\n\n            const hasWidget = !!cellData.widget;\n\n            // 当前行的下一行\n            if (cellData.position.y > row) {\n                hasWidget && (cell = cellData);\n\n                return hasWidget;\n            }\n\n            if (!!cellData.widget && cellData.position.x > col) {\n                cell = cellData;\n\n                return true;\n            }\n\n            return false;\n        }));\n\n        this.selectCell(cell);\n    }\n\n    /**\n     * 通过手动调用的方式选中单元格(区别于在页面中通过点击等行为选中单元格)\n     *   增加单元格状态统一的处理逻辑\n     * @param positionOrIdOrCell\n     * @returns\n     */\n    public setSelectCell(positionOrIdOrCell?: { row: number; col: number } | string | PageResult): { id: string; cell: PageResult } | undefined {\n        /** 获得当前选中的Cell */\n        const selectCell = this.getSelectedCell();\n\n        /** 如果之前有选中的Cell且处于激活状态, 那么此Cell可能为脏数据，对其进行联动更新 */\n        if (selectCell) {\n            const widget = this.getWidgetByCell(selectCell.row, selectCell.col);\n            widget?.isActive() && this.emitCellEvent('ACTIVE_CELL_FORCE_UPDATE', {});\n        }\n\n        return this.selectCell(positionOrIdOrCell as any);\n    }\n\n\n    /**\n     * 获取当前选中单元格信息\n     */\n    public getSelectedCell() {\n        return this.model.selectedCell;\n    }\n\n    public getTableData() {\n        return this.store.getTableData();\n    }\n\n    public populate(data?: PageResult[][], options?: {\n        sync?: boolean,\n        silent?: boolean,\n        cache?: boolean,\n    }) {\n        const { sync = false, cache = false, silent = false } = options || {};\n        const preResult = this.store.prePopulate({\n            tableWidth: this.model.tableWidth,\n            tableHeight: this.model.tableHeight,\n            screenWidth: this.model.screenWidth,\n        }, data);\n\n        if (!preResult) {\n            return;\n        }\n\n        cache ? this.updateInstances() : this.clearInstances();\n\n        this.model.isAdaptiveTable || sync || this.options.synchronize\n            ? this.store.completeLoadData(preResult)\n            : this.store.rowChunkLoadData(preResult);\n\n        !silent && this.fireEvent(AxisSheet.EVENT_LOADED, this);\n\n        this.background.visible();\n    }\n\n    public setLoading(loading: boolean) {\n        this.store.setTableLoading(loading);\n    }\n\n    public setReportSettingDetail(v: ReportSettingDetail) {\n        this.store.setReportSetting(v);\n    }\n\n    public setFrozen(frozen?: Frozen) {\n        this.store.setFrozen(frozen);\n    }\n\n    public setReportFitAttr (v: ReportFitAttr) {\n        this.store.setReportFitAttr(v);\n        this.reset();\n    }\n\n    public setViewAtCenter (viewAtCenter: boolean) {\n        this.store.setViewAtCenter(viewAtCenter);\n        this.reset();\n    }\n\n    public setActiveBox (activeBox: boolean) {\n        this.store.setActiveBox(activeBox);\n        this.reset();\n    }\n\n    public setTableWidth (width: number) {\n        this.store.setTableWidth(width);\n        this.reset();\n    }\n\n    public setTableHeight (height: number) {\n        this.store.setTableHeight(height);\n        this.reset();\n    }\n\n    public setScreenWidth (width: number) {\n        this.store.setScreenWidth(width);\n        this.reset();\n    }\n\n    public setWebBackground (background: {[key: string]: any}) {\n        this.store.setWebBackground(background);\n    }\n\n    /**\n     * 自适应表格\n     */\n    public resize(width: number, height: number) {\n        this.store.setTableWidth(width);\n        this.store.setTableHeight(height);\n        this.store.setScreenWidth(this.element.width());\n        this.updateInstances();\n        this.store.resize(width, height, this.element, this.model.screenWidth);\n        this.sheet.resize(width, height);\n    }\n\n    /**\n     * 重绘前清除所有sticker对象\n     */\n    private clearInstances() {\n        this.stickerManagers.forEach(manager => {\n            manager.destroy();\n        });\n    }\n\n    /**\n     * 重绘前更新所有sticker对象，可以控制不清除，manager内部处理\n     */\n    private updateInstances() {\n        this.stickerManagers.forEach(manager => {\n            manager.update();\n        });\n    }\n\n    /**\n     * 根据单元格行列坐标获取位置，e2e对外公开接口\n     * @param row 第n行，从1开始\n     * @param col 第n列，从1开始\n     */\n    public getCellPosition(row: number, col: number): Bounds {\n        // 因为适配层第一行多加了一行作为边距，所以这边要row + 1\n        return this.sheet.getCellPosition({\n            row: row + 1,\n            col,\n        });\n    }\n\n    /**\n     * 设置横向滚动条显隐\n     */\n    public setHScrollBarVisible(visible: boolean) {\n        this.sheet.sheet.setHScrollBarVisible(visible);\n    }\n\n    /**\n     * 设置纵向滚动条显隐\n     */\n    public setVScrollBarVisible(visible: boolean) {\n        this.sheet.sheet.setVScrollBarVisible(visible);\n    }\n\n\n    /**\n     * 开启跑马灯效果\n     * @param offset 每次的滚动距离\n     * @param interval 滚动间隔\n     */\n    public startMarquee(opt?: {\n        offset?: number;\n        interval?: number;\n        stopOnHover?: boolean;\n        to?: 'left' | 'right' | 'top' | 'bottom';\n    }) {\n        const { offset = 5, interval = 0.1, stopOnHover = true, to = 'top' } = opt || {};\n\n        const start = () => {\n            const handleScroll = () => {\n                /**\n                 * REPORT-69352 插件-新自适应-客户环境，跑马灯的报表块，在平台上切换标签页就会出现卡顿阴影，直接预览时切换浏览器标签页没问题\n                 * 加上判断，如果这个跑马灯表格的高度为0（即被隐藏了），那么跑马灯不移动\n                 */\n                const isHidden = this.table.element.width() === 0 || this.table.element.height() === 0;\n                if (!(stopOnHover && this.mouseInBounds || isHidden)) {\n                    to === 'left' || to === 'right' ?\n                        this.whellScrollX(to === 'right' ? 0 - offset : offset) :\n                        this.whellScrollY(to === 'bottom' ? 0 - offset : offset);\n                }\n                this.timer = window.setTimeout(handleScroll, interval * 1000);\n            };\n            !this.timer && (this.timer = window.setTimeout(handleScroll, interval * 1000));\n        };\n        \n        start();\n    }\n\n    /**\n     * 关闭跑马灯效果\n     */\n    public stopMarquee() {\n        window.clearTimeout(this.timer);\n        this.timer = undefined;\n    }\n\n    /**\n     * 改变背景色\n     */\n    public addBackgroundColorHandler(config: HandlerConfig) {\n        this.store.addHandler(BackgroundColorHandler, config);\n    }\n\n    public addHighlightRowEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'line',\n            trigger,\n        });\n    }\n\n    public addHighlightRowHoldEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'line',\n            hold: 'row',\n            trigger,\n        });\n    }\n\n    public addHighlightColEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'column',\n            trigger,\n        });\n    }\n\n    public addHighlightColHoldEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'column',\n            hold: 'column',\n            trigger,\n        });\n    }\n\n    public addHighlightCrossEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'cross',\n            trigger,\n        });\n    }\n\n    public addHighlightCrossHoldEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'cross',\n            hold: 'cross',\n            trigger,\n        });\n    }\n\n    public addHighlightCellEffect(color: string, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'cell',\n            trigger,\n        });\n    }\n\n    public addHighlightCellHoldEffect(color: string, singleLine = false, trigger: TriggerType) {\n        this.addBackgroundColorHandler({\n            style: color,\n            type: 'cell',\n            hold: singleLine ? 'row' : 'all',\n            trigger,\n        });\n    }\n\n    /**\n     * 改变字体样式\n     */\n    public addFontStyleHandler(config: HandlerConfig) {\n        this.store.addHandler(FontStyleHandler, config);\n    }\n\n    public addSetCellFontEffect(fontConfig: XCellStyle['fontStyle'], trigger: TriggerType) {\n        this.addFontStyleHandler({\n            style: fontConfig,\n            type: 'cell',\n            trigger,\n        });\n    }\n\n    public addSetCellFontHoldEffect(fontConfig: XCellStyle['fontStyle'], singleLine = false, trigger: TriggerType) {\n        this.addFontStyleHandler({\n            style: fontConfig,\n            type: 'cell',\n            hold: singleLine ? 'row' : 'all',\n            trigger,\n        });\n    }\n\n    public addSetRowFontEffect(fontConfig: XCellStyle['fontStyle'], trigger: TriggerType) {\n        this.addFontStyleHandler({\n            style: fontConfig,\n            type: 'line',\n            trigger,\n        });\n    }\n\n    public addSetRowFontHoldEffect(fontConfig: XCellStyle['fontStyle'], singleLine = false, trigger: TriggerType) {\n        this.addFontStyleHandler({\n            style: fontConfig,\n            type: 'line',\n            hold: singleLine ? 'row' : 'all',\n            trigger,\n        });\n    }\n\n    public addPopoverEffect(address: string, opts: { text?: string, header?: string, image?: string, style?: CellSetStyleArgs, type?: string }) {\n        this.store.addHandler(PopupHandler, {\n            position: address2Position(address),\n            scopeType: opts.type,\n            body: opts.text,\n            header: opts.header,\n            image: opts.image,\n            style: opts.style,\n        });\n    }\n\n    public addHandler(handler: CellHandler, config?: any) {\n        this.store.addHandler(handler, config);\n    }\n\n    /**\n     * 单元格实现圆角\n     * @param radius\n     */\n    public setCellRadius(radius: number, range?: TableRadiusRangeArgs, single?: boolean) {\n        this.emitCellEvent<boolean>('CELL_SET_RADIUS', {\n            radius,\n            range,\n            single,\n        } as TableCellSetRadiusHandler);\n    }\n\n    /**\n     * 改变单元格行高\n     * @param row 行号\n     * @param height 行高\n     */\n    public setRowHeight(row: number, height: number) {\n        const pageResults = this.store.getTableData();\n\n        pageResults[row - 1].forEach(cell => {\n            cell.celldimension.height = height;\n        });\n\n        this.populate(pageResults);\n    }\n\n    /**\n     * 改变单元格列宽\n     * @param col 列号\n     * @param height 列宽\n     */\n    public setColWidth(col: number, height: number) {\n        const pageResults = this.store.getTableData();\n\n        pageResults.forEach(rowCells => {\n            rowCells[col - 1].celldimension.width = height;\n        });\n\n        this.populate(pageResults);\n    }\n\n    /**\n     * 获取指定位置单元格的值（旧）\n     */\n    public getCellValue(col: number, row: number): XCellValue['cv'];\n    public getCellValue(address: string): XCellValue['cv'];\n    public getCellValue(x: string | number, y?: number): XCellValue['cv'] {\n        return BI.isNumber(x) && BI.isNumber(y)\n            ? this.getTableCellValueByPosition(y + 1, x + 1)\n            : this.getTableCellValueByPosition(x, y);\n    }\n\n    /**\n     * 获取指定位置单元格的值（新）\n     */\n    public getCellVal(row: number, col: number): XCellValue['cv'];\n    public getCellVal(address: string): XCellValue['cv'];\n    public getCellVal(x: string | number, y?: number): XCellValue['cv'] {\n        return this.getTableCellValueByPosition(x, y);\n    }\n\n    private getTableCellValueByPosition(x: string | number, y?: number): XCellValue['cv'] {\n        const tableData = this.store.getTableData();\n\n        const position = BI.isNumber(x) && BI.isNumber(y)\n            ? { x: y - 1, y: x - 1 }\n            : BI.isString(x)\n                ? address2Position(x)\n                : undefined;\n\n        if (position && tableData) {\n            const cell = tableData[position.y][position.x];\n\n            return getCellValueByCell(cell);\n        }\n\n        return undefined;\n    }\n\n    /**\n     * 校验单元格控件\n     */\n    public verifyCellControllers() {\n        const controllerManager = this.stickerManagers.get(CellControllerManager.NAME) as CellControllerManager | undefined;\n\n        if (!controllerManager) {\n            return [];\n        }\n\n        const results: { id: string, message: string }[] = [];\n\n        controllerManager.getWidgets()\n            .forEach(widget => {\n                const validation = widget.getValidation();\n\n                if (validation.result) {\n                    return;\n                }\n\n                results.push({\n                    id: widget.attr('cellId'),\n                    message: validation.errorMsg,\n                });\n            });\n\n        return results;\n    }\n\n    /**\n     * 获取所有脏数据\n     */\n    public getDirtyCells(clear = true): TableDirtyCell[] {\n        const tableData = this.store.getTableData();\n\n        const results: TableDirtyCell[] = [];\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (cell.dirty) {\n                    const { value, xtype = '' } = getCellValue(cell.value) || { value: '', xtype: '' };\n\n                    results.push({\n                        col: cell.position.x,\n                        row: cell.position.y,\n                        value,\n                        xtype: xtype || 'S',\n                        frs: !!cell.frs,\n                    });\n                }\n            });\n        });\n\n        clear && this.clearDirtyCells();\n\n        return results;\n    }\n\n    /**\n     * 清空脏数据状态\n     */\n    public clearDirtyCells() {\n        const tableData = this.store.getTableData();\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (cell.dirty) {\n                    cell.dirty = false;\n                }\n            });\n        });\n    }\n\n    /**\n     * 获取已编辑单元格\n     */\n    public getEditedCells() {\n        const editCells: PageResult[] = [];\n        const tableData = this.store.getTableData();\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (cell.edited) {\n                    editCells.push(cell);\n                }\n            });\n        });\n\n        return editCells;\n    }\n\n    /**\n     * 清空修改数据状态\n     */\n    public clearEditedCells() {\n        const tableData = this.store.getTableData();\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (cell.edited) {\n                    cell.edited = false;\n                }\n            });\n        });\n    }\n\n    /**\n     * 设置错误单元格\n     * @param cells 单元格信息\n     */\n    public setErrorCells(cells: { id: string; message: string }[]) {\n        const tableData = this.store.getTableData();\n\n        const map = cells.reduce((result, { id, message }) => {\n            result.set(id, message);\n\n            return result;\n        }, new Map<string | number, string>());\n\n        const results: { row: number; col: number; value: string }[] = [];\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (BI.isNull(cell.id)) return;\n\n                const message = map.get(cell.id);\n\n                if (!message) return;\n\n                cell.errorMsg = message;\n            });\n        });\n\n        return results;\n    }\n\n    /**\n     * 获取错误单元格\n     */\n    public getErrorCells() {\n        const tableData = this.store.getTableData();\n\n        const errorCells: PageResult[] = [];\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (BI.isNull(cell.id)) return;\n\n                if (BI.isNotNull(cell.errorMsg)) {\n                    errorCells.push(cell);\n                }\n            });\n        });\n\n        return errorCells;\n    }\n\n    /**\n     * 清空修改数据状态\n     */\n    public clearErrorCells() {\n        const tableData = this.store.getTableData();\n\n        const results: { row: number; col: number; value: string }[] = [];\n\n        tableData.forEach(row => {\n            row.forEach(cell => {\n                if (cell.errorMsg) {\n                    cell.errorMsg = undefined;\n                }\n            });\n        });\n\n        return results;\n    }\n\n    /**\n     * 设置指定单元格的值（旧）\n     * @param address 单元格位置 如：A1\n     * @param value 单元格值\n     */\n    public setCellValue(address: string, anything: any, value: string): boolean;\n    public setCellValue(col: number | string, row: number | string, value: string): boolean;\n    public setCellValue(address: string, value: string): boolean;\n    public setCellValue(x: string | number, y: number | string | any, value?: string): boolean {\n        return BI.isNumber(x) && BI.isNumber(y)\n            ? this.setTableCellValueByPosition(y + 1, x + 1, value)\n            : this.setTableCellValueByPosition(x, y, value);\n    }\n\n    /**\n     * 设置指定单元格的值（新）\n     * @param address 单元格位置 如：A1\n     * @param value 单元格值\n     */\n    public setCellVal(address: string, anything: any, value: string): boolean;\n    public setCellVal(row: number | string, col: number | string, value: string): boolean;\n    public setCellVal(address: string, value: string): boolean;\n    public setCellVal(x: string | number, y: number | string | any, value?: string): boolean {\n        return this.setTableCellValueByPosition(x, y, value);\n    }\n\n    private setTableCellValueByPosition(x: string | number, y: number | string | any, value?: string): boolean {\n        const position = BI.isNumber(x) && BI.isNumber(y)\n            ? { x: y - 1, y: x - 1 }\n            : BI.isString(x)\n                ? address2Position(x)\n                : undefined;\n\n        const $value = BI.isNaN(value)\n            ? ''\n            : BI.isNumber(x)\n                ? value ?? ''\n                : value ?? `${y ?? ''}`;\n\n        return this.setCellValueByPosition($value, position);\n    }\n\n    /**\n     * 设置指定单元格的值\n     * @param value 单元格值\n     * @param address 单元格位置\n     */\n    public setCellValueByPosition(value: string, position?: { x: number; y: number; }) {\n        if (!position) {\n            return false;\n        }\n\n        this.emitCellEvent<boolean>('CELL_SET_VALUE', {\n            value,\n            x: position.x,\n            y: position.y,\n        } as TableCellSetValueHandler);\n\n        return true;\n    }\n\n    public beforeDestroy() {\n        this.stopMarquee();\n    }\n\n    /**\n     * 高亮错误单元格错误信息\n     * @param id 错误单元格id\n     */\n    public highlightErrorCell(id: string, messgae?: string) {\n        const cellErrorTipManager = <CellErrorTipManager | undefined>(this.stickerManagers.get(CellErrorTipManager.NAME));\n\n        cellErrorTipManager?.getWidgets()\n            .forEach(widget => {\n                widget.invisible();\n            });\n\n        const widget = cellErrorTipManager?.getWidgetByName(id);\n\n        messgae && widget?.setText(messgae);\n\n        widget?.visible();\n    }\n\n    private reLayout() {\n        this.changeSize();\n        this.changeBackground('paperBackground');\n    }\n\n    private changeSize() {\n        this.background.setWidth(this.model.paperSetting.paperWidth);\n        this.background.setHeight(this.model.paperSetting.paperHeight);\n    }\n\n    private changeBackground(key: 'paperBackground' | 'webBackground') {\n        const rule = this.sheetStyles.getRule(key);\n        removeOldStyles(rule);\n        addNewStyles(rule, this.model[key]);\n    }\n\n    public emitCellEvent<T extends any>(eventName: string, arg: any): Promise<T> {\n        return Promise.resolve(this.tableCellGenerator.getListenerByName(eventName)?.action(arg));\n    }\n\n    /**\n     * 纵向滚动\n     * @param offset 滚动距离\n     * @param reverse 反向滚动\n     */\n    private whellScrollY(offset: number) {\n        // if (this.element.height() < Math.abs(offset)) {\n        //     return;\n        // }\n\n        const { maxScrollY, scrollY } = this.sheet.sheet.whellScroll(0, offset);\n        offset < 0 ?\n            scrollY === 0 && this.sheet.sheet.whellScroll(0, maxScrollY) :\n            scrollY >= Math.floor(maxScrollY) && this.sheet.sheet.whellScroll(0, 0 - maxScrollY);\n    }\n\n    /**\n     * 根据单元格id将单元格的位置调整到可视范围内\n     * @param id 单元格id\n     * @returns\n     */\n    public adjustCell2Visible(id: string) {\n        const position = this.getCellPositionById(id);\n\n        if (!position) return;\n\n        /** 因为getCellPositionById的行列是从0开始的，所以需要加 1 */\n        const cell = this.getCellPosition(position.row + 1, position.column + 1);\n        this.sheet.sheet.whellByBounds(cell);\n\n        const cellErrorTipManager = <CellErrorTipManager | undefined>(this.stickerManagers.get(CellErrorTipManager.NAME));\n        cellErrorTipManager?.adjustErrorTip(id, cell, this.sheet.sheet.getBounds());\n    }\n\n    /**\n     * 横向滚动\n     * @param offset 滚动距离\n     */\n    private whellScrollX(offset: number) {\n        // if (this.element.width() < Math.abs(offset)) {\n        //     return;\n        // }\n\n        const { maxScrollX, scrollX } = this.sheet.sheet.whellScroll(offset, 0);\n\n        offset < 0 ?\n            scrollX === 0 && this.sheet.sheet.whellScroll(maxScrollX, 0) :\n            scrollX >= Math.floor(maxScrollX) && this.sheet.sheet.whellScroll(0 - maxScrollX, 0);\n    }\n\n    /**\n     * 通过单元格位置获取单元格的值\n     * @param id 单元格位置 如：A1\n     * @returns 单元格的值\n     */\n    private getCellValueById(id: string) {\n        const value: XCellValue['cv'] = getCellValueByCell(this.getCellById(id));\n\n        return value;\n    }\n\n    /**\n     * 通过单元格位置获取单元格cell信息\n     * @param id 单元格位置 如：A1\n     * @returns 单元格cell信息\n     */\n    private getCellById(id: string): PageResult | undefined {\n        let targetCell: PageResult | undefined = undefined;\n\n        this.store.getTableData()\n            .some(rowData => rowData.some(cell => {\n                if (`${cell.id || ''}`.toUpperCase() === id.toUpperCase()) {\n                    targetCell = cell;\n\n                    return true;\n                }\n\n                return false;\n            }));\n\n        return targetCell;\n    }\n\n    /**\n     * 通过单元格位置获取单元格所在行列信息\n     * @param id 单元格位置 如：A1\n     * @returns 单元格行列信息\n     */\n    public getCellPositionById(id: string) {\n        const positon = this.getCellById(id)?.position;\n\n        return positon ? { row: positon.y, column: positon.x } : undefined;\n    }\n\n    /**\n     * 通过单元格id获得单元格所在行\n     * @param id 单元格id\n     * @returns 单元格所在行\n     */\n    public getTDRow(id: string) {\n        const position = this.getCellPositionById(id);\n\n        return position?.row;\n    }\n\n    /**\n     * 隐藏控件选中高亮提示\n     */\n    public hideSelectFrame() {\n        /**\n         * 之前的改法为什么不对\n         * 先达成一个共识，这个暴露出去的Api要做的事情是控制整个Sheet是否显示selectFrame\n         *   1、之前的这种方法获得到的控件只能是显示在页面的控件，而系统中存在着还没有被mounted的控件\n         *   2、就算是全部直接显示个控件，上面这样的改法也不对\n         *      控制selectFrame显示应该是一个在设置selectCell时主动去取是否显示selectFrame的值，\n         *      而不是调用这个Api的时候去将所有控件的selectFrame设置为不显示\n         * 如果是通过调用此方法将控件的selectFrame隐藏掉，那么这只是一次性的，如果后续又有选择cell的动作就G了\n         */\n        const cellControllerManager = <CellControllerManager | undefined>(this.stickerManagers.get(CellControllerManager.NAME));\n\n        if (!cellControllerManager) return;\n\n        cellControllerManager?.setHideSelectFrameSign(true);\n    }\n\n    /**\n     * 获取第col列，第row行的单元格对象，合并非首行的返回undefined\n     * @param col 列\n     * @param row 行\n     * @returns 单元格对象\n     */\n    public getCell(row: number | string, col: number | string): TableCell | undefined {\n        const tableData = this.store.getTableData();\n\n        const cell = tableData[+row - 1].find(cell => cell.position.x === +col - 1 && cell.value);\n\n        return BI.isNull(cell)\n            ? undefined\n            : new TableCell(this.tableContext4Api, cell);\n    }\n\n    /**\n     * 获取指定行对象\n     * @param row 索引\n     * @returns 行对象\n     */\n    public getRow(row: number): TableRow | undefined {\n        const tableData = this.store.getTableData();\n\n        if (BI.isNull(tableData[row - 1])) {\n            return;\n        }\n\n        const validRowCells = tableData[row - 1].filter(cell => cell.value);\n\n        return BI.size(validRowCells)\n            ? new TableRow(this.tableContext4Api, {\n                index: row,\n                size: validRowCells[0].celldimension.height,\n                unifiedPosition: validRowCells[0].position.y,\n            })\n            : undefined;\n    }\n\n    /**\n     * 获取指定列对象\n     * @param col 索引\n     * @returns 列对象\n     */\n    public getColumn(col: number): TableColumn | undefined {\n        const tableData = this.store.getTableData();\n\n        const validColumnCells = tableData.reduce((total, rowCells) => {\n            const cell = rowCells.find(cell => cell.value && cell.position.x === col - 1);\n            !BI.isNull(cell) && total.push(cell);\n\n            return total;\n        }, []);\n\n        return BI.size(validColumnCells)\n            ? new TableColumn(this.tableContext4Api, {\n                index: col,\n                size: validColumnCells[0].celldimension.width,\n                unifiedPosition: validColumnCells[0].position.x,\n            })\n            : undefined;\n    }\n\n    /**\n     * 获取行数\n     * @returns 行数\n     */\n    public getRowCount() {\n        const tableData = this.store.getTableData();\n\n        const rowCount = tableData.reduce((total, rowCells) =>\n            total + (BI.isNull(rowCells.some(cell => cell.value)) ? 0 : 1)\n        , 0);\n\n        return rowCount;\n    }\n\n    /**\n     * 获取列数\n     * @returns 列数\n     */\n    public getColumnCount() {\n        const tableData = this.store.getTableData();\n\n        const columnCount = tableData.reduce((max, rowCells) =>\n            Math.max(max, rowCells.filter(cell => cell.value).length),\n        0);\n\n        return columnCount;\n    }\n\n    /**\n     * 创建自定义事件监听handler\n     */\n    private createCustomEventHandler (actionType: string, callback: Function) {\n        const context = this;\n        \n        return class extends AbstractCellHandler {\n            public name = `${actionType}_CUSTOM_EVENT`;\n            \n            public eventNames = [actionType];\n\n            public merger = '';\n\n            public action(args: { [key: string]: any; e?: Event | undefined; cell: Cell }): void | Promise<any> {\n                const { e, cell } = args;\n                \n                if (!BI.isNull(cell)) {\n                    const { x, y } = cell.position;\n\n                    callback(e, context.getCell(y + 1, x + 1));\n                }\n            }\n        };\n    }\n\n    /**\n     * 添加事件监听\n     * @param actionType 事件type\n     * @param func 事件逻辑\n     */\n    public addMouseEventHandler(actionType: string, callback: Function) {\n        this.store.addHandler(this.createCustomEventHandler(actionType, callback));\n    }\n\n    /**\n     * 设置滚动位置\n     * @param x 横坐标\n     * @param y 纵坐标\n     */\n    public scrollTo(x: number, y: number) {\n        x && this.whellScrollX(x);\n        y && this.whellScrollY(y);\n    }\n\n    /**\n     * 获取滚动位置\n     * @returns 位置\n     */\n    public getScrollOffset(): {\n        x: number;\n        y: number;\n    } {\n        const { left, top } = this.sheet.sheet.getBounds();\n\n        return {\n            x: left,\n            y: top,\n        };\n    }\n\n    public destroyed() {\n        this.sheet?.tear();\n    }\n\n    /**\n     * 是否禁用表格contextMenu\n     * @param disable\n     */\n    public disableContextMenu(disable: boolean) {\n        this.isDisableContextMenu = disable;\n    }\n}\n"]}
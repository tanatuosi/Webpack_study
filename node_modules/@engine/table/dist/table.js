/*! time: 2022/9/27 下午6:29:22; branch: feature/x commit: 437e48188835f1aaeb28fce2dc1a5a12d2741c50 */
!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=44)}([function(t,e,r){"use strict";var n=r(16),i=Object.prototype,o=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||i)},a=function(t,e){return function(r){return t(e(r))}},c=a(Object.keys,Object),s=Object.prototype.hasOwnProperty,u=function(t){if(!o(t))return c(t);var e=[];for(var r in Object(t))s.call(t,r)&&"constructor"!=r&&e.push(r);return e},l=r(3),f=l.a.Symbol,h=Object.prototype,p=h.hasOwnProperty,d=h.toString,y=f?f.toStringTag:void 0,v=Object.prototype.toString,g=f?f.toStringTag:void 0,b=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":g&&g in Object(t)?function(t){var e=p.call(t,y),r=t[y];try{var n=!(t[y]=void 0)}catch(t){}var i=d.call(t);return n&&(e?t[y]=r:delete t[y]),i}(t):function(t){return v.call(t)}(t)};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w,O=function(t){var e=m(t);return null!=t&&("object"==e||"function"==e)},x=function(t){if(!O(t))return!1;var e=b(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},E=l.a["__core-js_shared__"],j=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",S=Function.prototype.toString,C=function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""},P=/^\[object .+?Constructor\]$/,I=Function.prototype,B=Object.prototype,T=I.toString,_=B.hasOwnProperty,k=RegExp("^"+T.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=function(t){return!(!O(t)||function(t){return!!j&&j in t}(t))&&(x(t)?k:P).test(C(t))},A=function(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return N(r)?r:void 0},V=A(l.a,"DataView"),D=A(l.a,"Map"),R=A(l.a,"Promise"),L=A(l.a,"Set"),M=A(l.a,"WeakMap"),z="[object Map]",H="[object Promise]",W="[object Set]",F="[object WeakMap]",G="[object DataView]",U=C(V),Y=C(D),X=C(R),q=C(L),K=C(M),$=b;(V&&$(new V(new ArrayBuffer(1)))!=G||D&&$(new D)!=z||R&&$(R.resolve())!=H||L&&$(new L)!=W||M&&$(new M)!=F)&&($=function(t){var e=b(t),r="[object Object]"==e?t.constructor:void 0,n=r?C(r):"";if(n)switch(n){case U:return G;case Y:return z;case X:return H;case q:return W;case K:return F}return e});var J=$;function Q(t){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Z=function(t){return null!=t&&"object"==Q(t)},tt=function(t){return Z(t)&&"[object Arguments]"==b(t)},et=Object.prototype,rt=et.hasOwnProperty,nt=et.propertyIsEnumerable,it=tt(function(){return arguments}())?tt:function(t){return Z(t)&&rt.call(t,"callee")&&!nt.call(t,"callee")},ot=Array.isArray,at=function(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991},ct=function(t){return null!=t&&at(t.length)&&!x(t)},st=r(5),ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var lt=function(t){return function(e){return t(e)}},ft=r(6),ht=ft.a&&ft.a.isTypedArray,pt=ht?lt(ht):function(t){return Z(t)&&at(t.length)&&!!ut[b(t)]},dt=Object.prototype.hasOwnProperty;function yt(t){if(null==t)return!0;if(ct(t)&&(ot(t)||"string"==typeof t||"function"==typeof t.splice||Object(st.a)(t)||pt(t)||it(t)))return!t.length;var e=J(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(o(t))return!u(t).length;for(var r in t)if(dt.call(t,r))return!1;return!0}function vt(t){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var gt=function(t){return"symbol"==vt(t)||Z(t)&&"[object Symbol]"==b(t)},bt=/^\s+|\s+$/g,mt=/^[-+]0x[0-9a-f]+$/i,wt=/^0b[01]+$/i,Ot=/^0o[0-7]+$/i,xt=parseInt,Et=function(t){if("number"==typeof t)return t;if(gt(t))return NaN;if(O(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=O(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(bt,"");var r=wt.test(t);return r||Ot.test(t)?xt(t.slice(2),r?2:8):mt.test(t)?NaN:+t};function jt(t,e,r){return void 0===r&&(r=e,e=void 0),void 0!==r&&(r=(r=Et(r))==r?r:0),void 0!==e&&(e=(e=Et(e))==e?e:0),function(t,e,r){return t==t&&(void 0!==r&&(t=t<=r?t:r),void 0!==e&&(t=e<=t?t:e)),t}(Et(t),e,r)}var St=function(t,e){return t===e||t!=t&&e!=e},Ct=function(t,e){for(var r=t.length;r--;)if(St(t[r][0],e))return r;return-1},Pt=Array.prototype.splice;function It(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}It.prototype.clear=function(){this.__data__=[],this.size=0},It.prototype.delete=function(t){var e=this.__data__,r=Ct(e,t);return!(r<0||(r==e.length-1?e.pop():Pt.call(e,r,1),--this.size,0))},It.prototype.get=function(t){var e=this.__data__,r=Ct(e,t);return r<0?void 0:e[r][1]},It.prototype.has=function(t){return-1<Ct(this.__data__,t)},It.prototype.set=function(t,e){var r=this.__data__,n=Ct(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Bt=It;var Tt=A(Object,"create");var _t=Object.prototype.hasOwnProperty;var kt=Object.prototype.hasOwnProperty;function Nt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nt.prototype.clear=function(){this.__data__=Tt?Tt(null):{},this.size=0},Nt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Nt.prototype.get=function(t){var e=this.__data__;if(Tt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return _t.call(e,t)?e[t]:void 0},Nt.prototype.has=function(t){var e=this.__data__;return Tt?void 0!==e[t]:kt.call(e,t)},Nt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Tt&&void 0===e?"__lodash_hash_undefined__":e,this};var At=Nt;function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Dt=function(t,e){var r=t.__data__;return function(t){var e=Vt(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map};function Rt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Rt.prototype.clear=function(){this.size=0,this.__data__={hash:new At,map:new(D||Bt),string:new At}},Rt.prototype.delete=function(t){var e=Dt(this,t).delete(t);return this.size-=e?1:0,e},Rt.prototype.get=function(t){return Dt(this,t).get(t)},Rt.prototype.has=function(t){return Dt(this,t).has(t)},Rt.prototype.set=function(t,e){var r=Dt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};var Lt=Rt;function Mt(t){var e=this.__data__=new Bt(t);this.size=e.size}Mt.prototype.clear=function(){this.__data__=new Bt,this.size=0},Mt.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Mt.prototype.get=function(t){return this.__data__.get(t)},Mt.prototype.has=function(t){return this.__data__.has(t)},Mt.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Bt){var n=r.__data__;if(!D||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Lt(n)}return r.set(t,e),this.size=r.size,this};var zt=Mt;function Ht(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Lt;++e<r;)this.add(t[e])}Ht.prototype.add=Ht.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Ht.prototype.has=function(t){return this.__data__.has(t)};var Wt=Ht,Ft=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1},Gt=function(t,e){return t.has(e)},Ut=function(t,e,r,n,i,o){var a=1&r,c=t.length,s=e.length;if(c!=s&&!(a&&c<s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,f=!0,h=2&r?new Wt:void 0;for(o.set(t,e),o.set(e,t);++l<c;){var p=t[l],d=e[l];if(n)var y=a?n(d,p,l,e,t,o):n(p,d,l,t,e,o);if(void 0!==y){if(y)continue;f=!1;break}if(h){if(!Ft(e,(function(t,e){if(!Gt(h,e)&&(p===t||i(p,t,r,n,o)))return h.push(e)}))){f=!1;break}}else if(p!==d&&!i(p,d,r,n,o)){f=!1;break}}return o.delete(t),o.delete(e),f},Yt=l.a.Uint8Array;function Xt(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function qt(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Kt=f?f.prototype:void 0,$t=Kt?Kt.valueOf:void 0,Jt=function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t},Qt=function(t,e,r){var n=e(t);return ot(t)?n:Jt(n,r(t))};function Zt(){return[]}var te=Object.prototype.propertyIsEnumerable,ee=Object.getOwnPropertySymbols,re=ee?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,o=[];++r<n;){var a=t[r];e(a,r,t)&&(o[i++]=a)}return o}(ee(t),(function(e){return te.call(t,e)})))}:Zt;function ne(t){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ie=/^(?:0|[1-9]\d*)$/,oe=function(t,e){var r=ne(t);return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&ie.test(t))&&-1<t&&t%1==0&&t<e},ae=Object.prototype.hasOwnProperty,ce=function(t,e){var r=ot(t),n=!r&&it(t),i=!r&&!n&&Object(st.a)(t),o=!r&&!n&&!i&&pt(t),a=r||n||i||o,c=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],s=c.length;for(var u in t)!e&&!ae.call(t,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||oe(u,s))||c.push(u);return c},se=function(t){return ct(t)?ce(t):u(t)},ue=function(t){return Qt(t,se,re)},le=Object.prototype.hasOwnProperty,fe="[object Arguments]",he="[object Array]",pe="[object Object]",de=Object.prototype.hasOwnProperty,ye=function(t,e,r,n,i,o){var a=ot(t),c=ot(e),s=a?he:J(t),u=c?he:J(e),l=(s=s==fe?pe:s)==pe,f=(u=u==fe?pe:u)==pe,h=s==u;if(h&&Object(st.a)(t)){if(!Object(st.a)(e))return!1;l=!(a=!0)}if(h&&!l)return o=o||new zt,a||pt(t)?Ut(t,e,r,n,i,o):function(t,e,r,n,i,o,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!o(new Yt(t),new Yt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return St(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var c=Xt;case"[object Set]":var s=1&n;if(c=c||qt,t.size!=e.size&&!s)return!1;var u=a.get(t);if(u)return u==e;n|=2,a.set(t,e);var l=Ut(c(t),c(e),n,i,o,a);return a.delete(t),l;case"[object Symbol]":if($t)return $t.call(t)==$t.call(e)}return!1}(t,e,s,r,n,i,o);if(!(1&r)){var p=l&&de.call(t,"__wrapped__"),d=f&&de.call(e,"__wrapped__");if(p||d)return i(p?t.value():t,d?e.value():e,r,n,o=o||new zt)}return h&&function(t,e,r,n,i,o){var a=1&r,c=ue(t),s=c.length;if(s!=ue(e).length&&!a)return!1;for(var u=s;u--;){var l=c[u];if(!(a?l in e:le.call(e,l)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var h=!0;o.set(t,e),o.set(e,t);for(var p=a;++u<s;){var d=t[l=c[u]],y=e[l];if(n)var v=a?n(y,d,l,e,t,o):n(d,y,l,t,e,o);if(!(void 0===v?d===y||i(d,y,r,n,o):v)){h=!1;break}p=p||"constructor"==l}if(h&&!p){var g=t.constructor,b=e.constructor;g!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(h=!1)}return o.delete(t),o.delete(e),h}(t,e,r,n,i,o=o||new zt)},ve=function t(e,r,n,i,o){return e===r||(null==e||null==r||!Z(e)&&!Z(r)?e!=e&&r!=r:ye(e,r,n,i,t,o))},ge=function(t){return t==t&&!O(t)},be=function(t,e){return function(r){return null!=r&&r[t]===e&&(void 0!==e||t in Object(r))}},me=function(t){var e=function(t){for(var e=se(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,ge(i)]}return e}(t);return 1==e.length&&e[0][2]?be(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var i=r.length,o=i,a=!n;if(null==t)return!o;for(t=Object(t);i--;){var c=r[i];if(a&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++i<o;){var s=(c=r[i])[0],u=t[s],l=c[1];if(a&&c[2]){if(void 0===u&&!(s in t))return!1}else{var f=new zt;if(n)var h=n(u,l,s,t,e,f);if(!(void 0===h?ve(l,u,3,n,f):h))return!1}}return!0}(r,t,e)}};function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xe=/^\w*$/,Ee=function(t,e){if(ot(t))return!1;var r=we(t);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!gt(t))||xe.test(t)||!Oe.test(t)||null!=e&&t in Object(e)};function je(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");function r(){var n=arguments,i=e?e.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=t.apply(this,n);return r.cache=o.set(i,a)||o,a}return r.cache=new(je.Cache||Lt),r}je.Cache=Lt;var Se=je,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/\\(\\)?/g,Ie=function(t){var e=Se((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ce,(function(t,r,n,i){e.push(n?i.replace(Pe,"$1"):r||t)})),e}),(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}(),Be=f?f.prototype:void 0,Te=Be?Be.toString:void 0,_e=function t(e){if("string"==typeof e)return e;if(ot(e))return function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}(e,t)+"";if(gt(e))return Te?Te.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r},ke=function(t,e){return ot(t)?t:Ee(t,e)?[t]:Ie(function(t){return null==t?"":_e(t)}(t))},Ne=function(t){if("string"==typeof t||gt(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Ae=function(t,e){for(var r=0,n=(e=ke(e,t)).length;null!=t&&r<n;)t=t[Ne(e[r++])];return r&&r==n?t:void 0};function Ve(t,e){return null!=t&&e in Object(t)}var De=function(t,e){return null!=t&&function(t,e,r){for(var n=-1,i=(e=ke(e,t)).length,o=!1;++n<i;){var a=Ne(e[n]);if(!(o=null!=t&&r(t,a)))break;t=t[a]}return o||++n!=i?o:!!(i=null==t?0:t.length)&&at(i)&&oe(a,i)&&(ot(t)||it(t))}(t,e,Ve)},Re=function(t,e){return Ee(t)&&ge(e)?be(Ne(t),e):function(r){var n=function(t,e,r){var n=null==t?void 0:Ae(t,e);return void 0===n?r:n}(r,t);return void 0===n&&n===e?De(r,t):ve(e,n,3)}};function Le(t){return t}var Me=function(t){return Ee(t)?function(t){return function(e){return null==e?void 0:e[t]}}(Ne(t)):function(t){return function(e){return Ae(e,t)}}(t)};function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var He=function(t){return"function"==typeof t?t:null==t?Le:"object"==ze(t)?ot(t)?Re(t[0],t[1]):me(t):Me(t)},We=function(t){return t?(t=Et(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0},Fe=Math.max,Ge=function(t){return function(e,r,n){var i=Object(e);if(!ct(e)){var o=He(r);e=se(e),r=function(t){return o(i[t],t,i)}}var a=t(e,r,n);return-1<a?i[o?e[a]:a]:void 0}}((function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:function(t){var e=We(t),r=e%1;return e==e?r?e-r:e:0}(r);return i<0&&(i=Fe(n+i,0)),function(t,e,r,n){for(var i=t.length,o=r+(n?1:-1);n?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,He(e),i)}));function Ue(t,e){return ve(t,e)}var Ye=function(t,e){return e.length<2?t:Ae(t,function(t,e,r){var n=-1,i=t.length;e<0&&(e=i<-e?0:i+e),(r=i<r?i:r)<0&&(r+=i),i=r<e?0:r-e>>>0,e>>>=0;for(var o=Array(i);++n<i;)o[n]=t[n+e];return o}(e,0,-1))},Xe=function(t,e){return e=ke(e,t),null==(t=Ye(t,e))||delete t[Ne(function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}(e))]},qe=Array.prototype.splice;function Ke(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],o=t.length;for(e=He(e);++n<o;){var a=t[n];e(a,n,t)&&(r.push(a),i.push(n))}return function(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==o){var o=i;oe(i)?qe.call(t,i,1):Xe(t,i)}}}(t,i),r}var $e=function(){try{var t=A(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Je=function(t,e,r){"__proto__"==e&&$e?$e(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},Qe=Object.prototype.hasOwnProperty,Ze=function(t,e,r){var n=t[e];Qe.call(t,e)&&St(n,r)&&(void 0!==r||e in t)||Je(t,e,r)},tr=function(t,e,r,n){var i=!r;r=r||{};for(var o=-1,a=e.length;++o<a;){var c=e[o],s=n?n(r[c],t[c],c,r,t):void 0;void 0===s&&(s=t[c]),i?Je(r,c,s):Ze(r,c,s)}return r},er=Object.prototype.hasOwnProperty,rr=function(t){if(!O(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=o(t),r=[];for(var n in t)("constructor"!=n||!e&&er.call(t,n))&&r.push(n);return r},nr=function(t){return ct(t)?ce(t,!0):rr(t)},ir=r(39),or=a(Object.getPrototypeOf,Object),ar=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Jt(e,re(t)),t=or(t);return e}:Zt,cr=function(t){return Qt(t,nr,ar)},sr=Object.prototype.hasOwnProperty,ur=function(t){var e=new t.constructor(t.byteLength);return new Yt(e).set(new Yt(t)),e},lr=/\w*$/,fr=f?f.prototype:void 0,hr=fr?fr.valueOf:void 0,pr=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return ur(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return function(t,e){var r=e?ur(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return function(t,e){var r=e?ur(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return function(t){var e=new t.constructor(t.source,lr.exec(t));return e.lastIndex=t.lastIndex,e}(t);case"[object Set]":return new n;case"[object Symbol]":return function(t){return hr?Object(hr.call(t)):{}}(t)}},dr=Object.create;function yr(){}var vr=function(t){return"function"!=typeof t.constructor||o(t)?{}:function(t){if(!O(t))return{};if(dr)return dr(t);yr.prototype=t;var e=new yr;return yr.prototype=void 0,e}(or(t))};var gr=ft.a&&ft.a.isMap,br=gr?lt(gr):function(t){return Z(t)&&"[object Map]"==J(t)};var mr=ft.a&&ft.a.isSet,wr=mr?lt(mr):function(t){return Z(t)&&"[object Set]"==J(t)},Or="[object Arguments]",xr="[object Function]",Er="[object Object]",jr={};jr[Or]=jr["[object Array]"]=jr["[object ArrayBuffer]"]=jr["[object DataView]"]=jr["[object Boolean]"]=jr["[object Date]"]=jr["[object Float32Array]"]=jr["[object Float64Array]"]=jr["[object Int8Array]"]=jr["[object Int16Array]"]=jr["[object Int32Array]"]=jr["[object Map]"]=jr["[object Number]"]=jr[Er]=jr["[object RegExp]"]=jr["[object Set]"]=jr["[object String]"]=jr["[object Symbol]"]=jr["[object Uint8Array]"]=jr["[object Uint8ClampedArray]"]=jr["[object Uint16Array]"]=jr["[object Uint32Array]"]=!0,jr["[object Error]"]=jr[xr]=jr["[object WeakMap]"]=!1;var Sr=function t(e,r,n,i,o,a){var c,s=1&r,u=2&r,l=4&r;if(n&&(c=o?n(e,i,o,a):n(e)),void 0!==c)return c;if(!O(e))return e;var f=ot(e);if(f){if(c=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&sr.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(e),!s)return function(t,e){var r=-1,n=t.length;for(e=e||Array(n);++r<n;)e[r]=t[r];return e}(e,c)}else{var h=J(e),p=h==xr||"[object GeneratorFunction]"==h;if(Object(st.a)(e))return Object(ir.a)(e,s);if(h==Er||h==Or||p&&!o){if(c=u||p?{}:vr(e),!s)return u?function(t,e){return tr(t,ar(t),e)}(e,function(t,e){return t&&tr(e,nr(e),t)}(c,e)):function(t,e){return tr(t,re(t),e)}(e,function(t,e){return t&&tr(e,se(e),t)}(c,e))}else{if(!jr[h])return o?e:{};c=pr(e,h,s)}}var d=(a=a||new zt).get(e);if(d)return d;if(a.set(e,c),wr(e))return e.forEach((function(i){c.add(t(i,r,n,i,e,a))})),c;if(br(e))return e.forEach((function(i,o){c.set(o,t(i,r,n,o,e,a))})),c;var y=l?u?cr:ue:u?keysIn:se,v=f?void 0:y(e);return function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););}(v||e,(function(i,o){v&&(i=e[o=i]),Ze(c,o,t(i,r,n,o,e,a))})),c};function Cr(t){return Sr(t,5)}var Pr=r(28),Ir=r.n(Pr),Br=function(){return l.a.Date.now()},Tr=Math.max,_r=Math.min;function kr(t,e,r){var n,i,o,a,c,s,u=0,l=!1,f=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var r=n,o=i;return n=i=void 0,u=e,a=t.apply(o,r)}function d(t){var r=t-s;return void 0===s||e<=r||r<0||f&&o<=t-u}function y(){var t=Br();if(d(t))return v(t);c=setTimeout(y,function(t){var r=e-(t-s);return f?_r(r,o-(t-u)):r}(t))}function v(t){return c=void 0,h&&n?p(t):(n=i=void 0,a)}function g(){var t=Br(),r=d(t);if(n=arguments,i=this,s=t,r){if(void 0===c)return function(t){return u=t,c=setTimeout(y,e),l?p(t):a}(s);if(f)return c=setTimeout(y,e),p(s)}return void 0===c&&(c=setTimeout(y,e)),a}return e=Et(e)||0,O(r)&&(l=!!r.leading,o=(f="maxWait"in r)?Tr(Et(r.maxWait)||0,e):o,h="trailing"in r?!!r.trailing:h),g.cancel=function(){void 0!==c&&clearTimeout(c),n=s=i=c=void(u=0)},g.flush=function(){return void 0===c?a:v(Br())},g}var Nr=Math.max,Ar=Math.min;function Vr(t,e,r){return e=We(e),void 0===r?(r=e,e=0):r=We(r),function(t,e,r){return t>=Ar(e,r)&&t<Nr(e,r)}(t=Et(t),e,r)}function Dr(t){return"number"==typeof t||Z(t)&&"[object Number]"==b(t)}function Rr(t,e){return!(e[0][1]>t[1][1]||e[1][1]<t[0][1]||e[0][0]>t[1][0]||e[1][0]<t[0][0])}function Lr(){}function Mr(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return Array.from(new Array(e-t),(function(e,r){return r+t}))}function zr(t){return parseInt(t+"",10).toString(26).split("").reduce((function(t,e){return t+String.fromCharCode(parseInt(parseInt(e,26).toString(10))+65)}),"")}function Hr(t,e){return Rr(t,e)?[[Math.min(t[0][0],e[0][0]),Math.min(t[0][1],e[0][1])],[Math.max(t[1][0],e[1][0]),Math.max(t[1][1],e[1][1])]]:t}function Wr(t){if(t.length<=1)return[t];var e=t.replace(new RegExp(/(\r\n|\\n)/g),"\n").split("\n"),r=[];return e.forEach((function(t){for(;0<t.length;){var e=t.substring(0,1);if(/[\d|A-Za-z|_]/.test(e)){var n=t.replace(/^([\d|A-Za-z|_]+).*$/,"$1");t=t.replace(n,""),r.push(n)}else r.push(e),t=0<t.length?t.substring(1,t.length):""}r.push("\n")})),r.pop(),r}function Fr(t,e){var r=[],n=e.map((function(r,n){return t.substring(0===n?0:e[n-1],r)}));return n.push(t.substring(e[e.length-1])),n.forEach((function(t){t.split("/n").forEach((function(t){r.push(t)}))})),r}function Gr(t,e,r){return e<=t&&t<=r||r<=t&&t<=e}function Ur(){var t=navigator.userAgent.toLowerCase(),e=t.match(/(?:msie\s([\w.]+))/),r=t.match(/(?:trident.*rv:([\w.]+))/);return e&&r&&e[1]&&r[1]?Math.max(1*parseInt(e[1],10),1*parseInt(r[1],10)):e&&e[1]?1*parseInt(e[1],10):r&&r[1]?1*parseInt(r[1]):0}function Yr(){return/(msie|trident)/i.test(navigator.userAgent.toLowerCase())}function Xr(t,e){return t.x>=e.x&&t.x<=e.x+e.width&&t.y<=e.y+e.height&&t.y>=e.y}function qr(t,e,r,n,i,o){return(i-t)*(n-e)==(r-t)*(o-e)&&Math.min(t,r)<=i&&i<=Math.max(t,r)&&Math.min(e,n)<=o&&o<=Math.max(e,n)}function Kr(t,e,r){t.addEventListener(e,r)}function $r(t,e,r){t.removeEventListener(e,r)}function Jr(t){t.xclickoutside&&($r(window.document.body,"mousedown",t.xclickoutside),delete t.xclickoutside)}function Qr(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){t.hide()},r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];t.xclickoutside=function(n){2===n.detail||t.contains(n.target)||(e(t),r&&Jr(t))},Kr(window.document.body,"mousedown",t.xclickoutside)}function Zr(t){t.mouseWhell&&($r(window.document.body,"mousewheel",t.mouseWhell),delete t.mouseWhell)}function tn(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(t){t.hide()};t.mouseWhell=function(){e(t)},Kr(window.document.body,"mousewheel",t.mouseWhell)}function en(t){t.addEventListener("contextmenu",(function(t){return t.preventDefault()}))}var rn=r(40),nn=r.n(rn),on=r(41),an=r.n(on);function cn(t){var e={style:"none",color:"#000000",width:0};return t.split(" ").forEach((function(t){nn()(t)&&(e.color=t),function(t){return/^(\+|-)?([0-9]*\.)?[0-9]+(em|ex|ch|rem|vh|vw|vmin|vmax|px|mm|cm|in|pt|pc|%)$/i.test(t)||/^(\+|-)?(0*\.)?0+$/.test(t)}(t)&&(e.width=parseFloat(t)),an()(t)&&(e.style=t)})),e}function sn(t,e,r){t=t*Math.PI/180;var n=Math.sqrt(e*e+r*r),i=Math.atan(e/r),o=Math.cos(i-t)*n/2,a=Math.sin(t)*o,c=Math.cos(t)*o;return[[e/2-a,r/2-c],[e/2+a,r/2+c]]}var un=new Map,ln=new Map;function fn(t){var e=un.get(t);if(e)return new Promise((function(t){t(e)}));var r=ln.get(t)||new Promise((function(e,r){var n=new Image;n.src=t,n.onload=function(){un.set(t,n),e(n)},n.onerror=function(t){r(t)}}));return ln.set(t,r),r}function hn(t){return un.get(t)}r.d(e,"l",(function(){return n.b})),r.d(e,"H",(function(){return n.g})),r.d(e,"J",(function(){return n.h})),r.d(e,"E",(function(){return n.f})),r.d(e,"s",(function(){return n.d})),r.d(e,"o",(function(){return n.c})),r.d(e,"t",(function(){return n.e})),r.d(e,"h",(function(){return n.a})),r.d(e,"K",(function(){return n.i})),r.d(e,"v",(function(){return Rr})),r.d(e,"m",(function(){return Lr})),r.d(e,"e",(function(){return Mr})),r.d(e,"O",(function(){return zr})),r.d(e,"F",(function(){return Hr})),r.d(e,"j",(function(){return Wr})),r.d(e,"k",(function(){return Fr})),r.d(e,"a",(function(){return Gr})),r.d(e,"q",(function(){return Ur})),r.d(e,"z",(function(){return Yr})),r.d(e,"w",(function(){return yt})),r.d(e,"x",(function(){return Ue})),r.d(e,"f",(function(){return jt})),r.d(e,"n",(function(){return Ge})),r.d(e,"N",(function(){return Ir.a})),r.d(e,"I",(function(){return Ke})),r.d(e,"g",(function(){return Cr})),r.d(e,"i",(function(){return kr})),r.d(e,"B",(function(){return Xr})),r.d(e,"C",(function(){return qr})),r.d(e,"u",(function(){return Vr})),r.d(e,"A",(function(){return Dr})),r.d(e,"y",(function(){return x})),r.d(e,"L",(function(){return Jr})),r.d(e,"b",(function(){return Qr})),r.d(e,"M",(function(){return Zr})),r.d(e,"c",(function(){return tn})),r.d(e,"d",(function(){return en})),r.d(e,"G",(function(){return cn})),r.d(e,"p",(function(){return sn})),r.d(e,"D",(function(){return fn})),r.d(e,"r",(function(){return hn}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.createGenerateClassName=e.sheets=e.RuleList=e.SheetsManager=e.SheetsRegistry=e.toCssValue=e.getDynamicStyles=void 0;var n=r(45);Object.defineProperty(e,"getDynamicStyles",{enumerable:!0,get:function(){return f(n).default}});var i=r(12);Object.defineProperty(e,"toCssValue",{enumerable:!0,get:function(){return f(i).default}});var o=r(23);Object.defineProperty(e,"SheetsRegistry",{enumerable:!0,get:function(){return f(o).default}});var a=r(46);Object.defineProperty(e,"SheetsManager",{enumerable:!0,get:function(){return f(a).default}});var c=r(10);Object.defineProperty(e,"RuleList",{enumerable:!0,get:function(){return f(c).default}});var s=r(20);Object.defineProperty(e,"sheets",{enumerable:!0,get:function(){return f(s).default}});var u=r(26);Object.defineProperty(e,"createGenerateClassName",{enumerable:!0,get:function(){return f(u).default}});var l=f(r(51));function f(t){return t&&t.__esModule?t:{default:t}}var h=e.create=function(t){return new l.default(t)};e.default=h()},function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=function(){function t(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";"string"==typeof t?(this.el=document.createElement(t),this.el.className=e):this.el=t}var e=t.prototype;return e.on=function(t,e){return this.el.addEventListener(t,e),this},e.off=function(t,e){return this.el.removeEventListener(t,e),this},e.children=function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return n.forEach((function(r){r instanceof t?e.el.appendChild(r.el):e.el.appendChild(r)})),this},e.unshiftChildren=function(){for(var e=this,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return n.forEach((function(r){r instanceof t?e.el.insertBefore(r.el,e.el.firstChild):e.el.insertBefore(r,e.el.firstChild)})),this},e.css=function(t,e){var r=this;return void 0===e&&"string"==typeof t?this.el.style[t]:("number"==typeof t||"string"==typeof t?this.el.style[t]=e:Object.keys(t).forEach((function(e){r.el.style[e]=t[e]})),this)},e.offset=function(t){var e=this;if(void 0!==t)return Object.keys(t).forEach((function(r){e.el.style[r]="".concat(t[r],"px")})),this;var r=this.el,n=r.offsetTop,i=r.offsetLeft;return{top:n,left:i,height:r.offsetHeight-n,width:r.offsetWidth-i}},e.addClass=function(t){return new RegExp(t,"ig").test(this.el.className)||(this.el.className=this.el.className+" "+t),this},e.removeClass=function(t){return new RegExp(t,"ig").test(this.el.className)&&(this.el.className=this.el.className.replace(t,"")),this},e.html=function(t){return void 0!==t?(this.el.innerHTML=t,this):this.el.innerHTML},e.text=function(t){return void 0!==t?(this.el.innerText=t,this):this.el.innerText},e.attr=function(t,e){return this.el.setAttribute(t,e),this},e.contains=function(t){return this.el.contains(t)},e.remove=function(){this.el.remove()},e.hide=function(){return this.css("display","none"),this},e.show=function(){return this.css("display","block"),this},e.focus=function(){return this.el.focus(),this},e.disableChild=function(t){for(var e=0;e<this.el.childNodes.length;e++){var r=this.el.childNodes[e];r.className.includes(t)&&!r.className.includes("disable")&&(r.className=r.className+" disable")}},e.childEnable=function(t){for(var e=0;e<this.el.childNodes.length;e++){var r=this.el.childNodes[e];r.className.includes(t)&&(r.className=r.className.replace(" disable",""))}},e.hasChild=function(t){for(var e=!1,r=0;r<this.el.childNodes.length;r++){var n=this.el.childNodes[r];if(e=t instanceof HTMLElement?n===t:n===t.el)break}return e},e.scroll=function(t){var e=t.top,r=t.left;this.el.scrollLeft=r,this.el.scrollTop=e},t}(),i=function(t,e){return new n(t,1<arguments.length&&void 0!==e?e:"")}},function(t,e,r){"use strict";var n=r(17);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,a=n.a||o||Function("return this")();e.a=a},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=r(30),o=r(77),a=Object.prototype.toString;function c(t){return"[object Array]"===a.call(t)}function s(t){return null!==t&&"object"===n(t)}function u(t){return"[object Function]"===a.call(t)}function l(t,e){if(null!=t)if("object"!==n(t)&&(t=[t]),c(t))for(var r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:c,isArrayBuffer:function(t){return"[object ArrayBuffer]"===a.call(t)},isBuffer:o,isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isUndefined:function(t){return void 0===t},isDate:function(t){return"[object Date]"===a.call(t)},isFile:function(t){return"[object File]"===a.call(t)},isBlob:function(t){return"[object Blob]"===a.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function t(){var e={};function r(r,i){"object"===n(e[i])&&"object"===n(r)?e[i]=t(e[i],r):e[i]=r}for(var i=0,o=arguments.length;i<o;i++)l(arguments[i],r);return e},extend:function(t,e,r){return l(e,(function(e,n){t[n]=r&&"function"==typeof e?i(e,r):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,r){"use strict";(function(t){var n=r(3),i=r(38);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a="object"==("undefined"==typeof exports?"undefined":o(exports))&&exports&&!exports.nodeType&&exports,c=a&&"object"==o(t)&&t&&!t.nodeType&&t,s=c&&c.exports===a?n.a.Buffer:void 0,u=(s?s.isBuffer:void 0)||i.a;e.a=u}).call(this,r(15)(t))},function(t,e,r){"use strict";(function(t){var n=r(17);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,a=o&&"object"==i(t)&&t&&!t.nodeType&&t,c=a&&a.exports===o&&n.a.process,s=function(){try{return a&&a.require&&a.require("util").types||c&&c.binding&&c.binding("util")}catch(t){}}();e.a=s}).call(this,r(15)(t))},function(t,e,r){"use strict";var n={};function i(t){return function(e){n[t]=e}}function o(t){var e=t.type,r=void 0===e?"bi.label":e;return n[r]?new n[r](t):null}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var s={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},u=/^#([a-f0-9]{3})$/i,l=/^#([a-f0-9]{6})$/i,f=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,h=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,p=function(){function t(t){var e=a(Array.isArray(t)?function(t){return[Math.min(t[0],255),Math.min(t[1],255),Math.min(t[2],255),3<t.length?t[3]:null]}(t):function(t){var e=t.match(u);return!!e&&[parseInt(e[1][0]+e[1][0],16),parseInt(e[1][1]+e[1][1],16),parseInt(e[1][2]+e[1][2],16),null]}(t)||function(t){var e=t.match(f);return!!e&&[Number(e[1]),Number(e[2]),Number(e[3]),null]}(t)||function(t){var e=t.match(h);return!!(e&&4<e.length)&&[Number(e[1]),Number(e[2]),Number(e[3]),Number(e[4])]}(t)||function(t){return s[t.toLowerCase()]||!1}(t)||function(t){var e=t.match(l);return!!e&&[parseInt(e[1].substring(0,2),16),parseInt(e[1].substring(2,4),16),parseInt(e[1].substring(4,6),16),null]}(t)||[255,255,255,0],4),r=e[0],n=e[1],i=e[2],o=e[3];this.r=r,this.g=n,this.b=i,this.a=o}var e=t.prototype;return e.isTransparent=function(){return 0===this.a},e.toString=function(){return null!==this.a&&1!==this.a&&void 0!==this.a?"rgba(".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a,")"):"rgb(".concat(this.r,",").concat(this.g,",").concat(this.b,")")},t}(),d=(new p([0,0,0,0]),r(0));function y(t){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v,g=(v=function(){function t(t){var e=this;this.mouseDownHandler=function(t,r,n,i){e.props.listeners&&e.props.listeners.map((function(o){var a;"CELL_MOUSE_DOWN"===o.eventName&&(null===(a=o.action)||void 0===a||a.call(e,t,r,n,i))}))},this.mouseLeaveHandler=function(t,r,n,i){e.props.listeners&&e.props.listeners.map((function(o){var a;"CELL_MOUSE_LEAVE"===o.eventName&&(null===(a=o.action)||void 0===a||a.call(e,t,r,n,i))}))},this.clickHandler=function(t,r,n,i){var o=!1;return e.props.listeners&&e.props.listeners.map((function(a){var c;"CELL_CLICK"===a.eventName&&(o=null===(c=a.action)||void 0===c?void 0:c.call(e,t,r,n,i))})),o},this.hoverHandler=function(t,r,n,i){e.props.listeners&&e.props.listeners.map((function(o){var a;"CELL_HOVER"===o.eventName&&(null===(a=o.action)||void 0===a||a.call(e,t,r,n,i))}))},this.dbClickHandler=function(t,r,n,i){e.props.listeners&&e.props.listeners.map((function(o){var a;"CELL_DOUBLE_CLICK"===o.eventName&&(null===(a=o.action)||void 0===a||a.call(e,t,r,n,i))}))};var r=(this.props=t).x,n=void 0===r?0:r,i=t.y,o=void 0===i?0:i,a=t.width,c=t.height,s=t.top,u=t.left;this.width=a,this.height=c,this.top=s||o,this.left=u||n,this.style=function(t){var e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,o=t.top,a=t.left,c=t.width,s=t.height,u=t.style,l=void 0===u?{}:u,f=(t.lgap,t.rgap,t.tgap,t.bgap,t.autoWrapInfo),h=l.backgroundSize,y=l.backgroundImage,v=l.backgroundColor,g=void 0===v?"":v,b=l.color,m=void 0===b?"":b,w=l.textAlign,O=l.fontWeight,x=void 0===O?"normal":O,E=l.fontFamily,j=void 0===E?"SimSun":E,S=l.fontSize,C=void 0===S?"9pt":S,P=l.fontStyle,I=void 0===P?"normal":P,B=l.verticalAlign,T=l.border,_=void 0===T?"":T,k=l.borderTop,N=void 0===k?"":k,A=l.borderBottom,V=void 0===A?"":A,D=l.borderLeft,R=void 0===D?"":D,L=l.borderRight,M=void 0===L?"":L,z=l.rotate,H=l.textShadow,W=l.underline,F=l.strikeThrough,G=l.lineHeight,U=l.subscript,Y=l.supscript,X=l.newLine,q=l.verticalText,K=l.verTextDirection,$=l.cellJust,J={};if(J.top=o||i,J.left=a||r,J.width=c,J.height=s,J.color=new p(m),J.textAlign=w,J.verticalAlign=B,J.fontWeight=x,J.fontSize=C,J.fontFamily=j,J.fontStyle=I,J.textShadow=H,J.underline=W,J.strikeThrough=F,J.lineHeight=G,J.subscript=U,J.supscript=Y,J.backgroundColor=new p(g),J.backgroundImage=y,J.backgroundSize=h,_){var Q=Object(d.G)(_),Z=Q.width,tt=Q.style,et=Q.color;J.borderLeftWidth=J.borderTopWidth=J.borderBottomWidth=J.borderRightWidth=Z,J.borderLeftStyle=J.borderTopStyle=J.borderBottomStyle=J.borderRightStyle=tt,J.borderLeftColor=J.borderTopColor=J.borderBottomColor=J.borderRightColor=new p(et)}if(N){var rt=Object(d.G)(N),nt=rt.width,it=rt.color,ot=rt.style;J.borderTopWidth=nt,J.borderTopStyle=ot,J.borderTopColor=new p(it)}if(V){var at=Object(d.G)(V),ct=at.width,st=at.color,ut=at.style;J.borderBottomWidth=ct,J.borderBottomStyle=ut,J.borderBottomColor=new p(st)}if(R){var lt=Object(d.G)(R),ft=lt.width,ht=lt.color,pt=lt.style;J.borderLeftWidth=ft,J.borderLeftStyle=pt,J.borderLeftColor=new p(ht)}if(M){var dt=Object(d.G)(M),yt=dt.width,vt=dt.color,gt=dt.style;J.borderRightWidth=yt,J.borderRightStyle=gt,J.borderRightColor=new p(vt)}return J.rotate=z,J.newLine=X,J.verticalText=q,J.verTextDirection=K,J.cellJust=$,J.autoWrapInfo=f&&JSON.parse("".concat(f)),J}(t)}var e=t.prototype;return e.getBounds=function(){return{left:this.left,top:this.top,right:this.left+this.width,bottom:this.top+this.height,width:this.width,height:this.height}},e.getChildren=function(){},e.getStyle=function(){return this.style},e.getText=function(){},e.getRealWidth=function(){return this.width},t}(),v=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":y(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.widget")],v));function b(t,e){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var w;function O(t,e){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}w=function(t){function e(e){var r;r=t.call(this,e)||this;var n=e.text;return r.text=n,r}!function(t,e){t.prototype=Object.create(e.prototype),b(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getText=function(){return this.text},r.getRealWidth=function(){return Object(d.E)(this.getText()||"",this.style).width},e}(g),w=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":m(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.label")],w);var E;function j(t,e){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}E=function(t){function e(e){return t.call(this,e)||this}return function(t,e){t.prototype=Object.create(e.prototype),O(t.prototype.constructor=t,e)}(e,t),e.prototype.getChildren=function(){return[o({type:"bi.widget",width:5,height:8,left:this.left,top:this.top,style:{rotate:"45",borderBottom:"2px solid #000",borderRight:"2px solid #000"}})]},e}(g),E=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":x(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.checkbox")],E);var S=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),j(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getChildren=function(){return this.children},r.getRealWidth=function(){return this.getChildren().reduce((function(t,e){return e.getRealWidth()+t}),0)},e}(g);function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var I;function B(t,e){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}I=function(t){function e(e){var r;return(r=t.call(this,e)||this).clickHandler=function(t,e,n,i){for(var o=0;o<r.children.length;o++){var a=r.children[o].getBounds();if(a.left<=e&&a.right>e)return r.children[o].clickHandler.call(null,t,e,n,i)}return!0},r.items=e.items||[],r.children=[],r.digest(),r}return function(t,e){t.prototype=Object.create(e.prototype),C(t.prototype.constructor=t,e)}(e,t),e.prototype.digest=function(){var t=this.getBounds(),e=0,r=t.width-this.items.reduce((function(t,e){return t+(parseFloat(e.width)||0)}),0);this.children=this.items.map((function(n){var i=n.el;return i.top=t.top,i.left=t.left+e,n.width?i.width=n.width:i.width=r,i.height=t.height,e+=i.width,o(i)}))},e}(S),I=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":P(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.htape")],I);var _,k=(_=function(t){function e(e){var r;return(r=t.call(this,e)||this).clickHandler=function(t,e,n,i,o){for(var a=!1,c=0;c<r.children.length;c++){var s=r.children[c].getBounds(),u=(o||{x:e}).x;if(s.left<=u&&s.right>u)return r.children[c].clickHandler.call(null,t,e,n,i)}return r.props.listeners&&r.props.listeners.map((function(o){"CELL_CLICK"===o.eventName&&(a=o.action.call(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),t,e,n,i))})),a},r.items=e.items||[],r.children=[],r.digest(),r}return function(t,e){t.prototype=Object.create(e.prototype),B(t.prototype.constructor=t,e)}(e,t),e.prototype.digest=function(){var t=this.getBounds();this.children=this.items.map((function(e){var r=e.el;return r.top=t.top+(e.top||0),r.left=t.left+(e.left||0),r.right=t.right-(e.right||0),r.bottom=t.bottom-(e.bottom||0),"bi.label"===r.type?(r.width=r.right-r.left,r.height=r.bottom-r.top):(r.width=t.width,r.height=t.height),o(r)}))},e}(S),_=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":T(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.absolute")],_));function N(t,e){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function A(t){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var V,D=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r};function R(t,e){t.prototype=Object.create(e.prototype),function(t,e){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(t.prototype.constructor=t,e)}function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}V=function(t){function e(e){var r;r=t.call(this,e)||this;var n=e.icon||{},i=n.width,o=n.height,a=n.size,c=void 0===a?16:a,s=n.backgroundColor,u=n.top,l=n.left,f=D(n,["width","height","size","backgroundColor","top","left"]);return r.iconStyle=Object.assign({width:i||c,height:o||c,size:c,backgroundColor:s||"",top:u,left:l},f),r}!function(t,e){t.prototype=Object.create(e.prototype),N(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getChildren=function(){if(this.children)return this.children;var t=this.iconStyle,e=t.width,r=t.height,n=t.text,i=t.size,a=t.backgroundColor,c=t.top,s=void 0===c?0:c,u=t.left,l=void 0===u?0:u,f=D(t,["width","height","text","size","backgroundColor","top","left"]),h=this.getBounds(),p=h.left,d=h.right,y=h.height,v=h.top,g=h.bottom;return this.children=[o({type:"bi.absolute",left:p,top:v+(y-r)/2,bottom:g-(y-r)/2,right:d,style:{backgroundColor:a},width:e,height:r,items:[{el:{type:"bi.label",style:Object.assign(Object.assign({},f),{lineHeight:r-1,fontSize:"".concat(i,"px"),verticalAlign:"middle"}),width:e,height:r,text:n},left:l,top:s,bottom:-s,right:-l,width:e,height:r}]})],this.children},r.getRealWidth=function(){return this.getChildren().reduce((function(t,e){return e.getRealWidth()+t}),0)},e}(g),V=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":A(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a}([i("bi.icon")],V);var M,z,H,W=function(t,e,r,n){var i,o=arguments.length,a=o<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"===("undefined"==typeof Reflect?"undefined":L(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;0<=c;c--)(i=t[c])&&(a=(o<3?i(a):3<o?i(e,r,a):i(e,r))||a);return 3<o&&a&&Object.defineProperty(e,r,a),a},F=function(t){function e(){return t.apply(this,arguments)||this}return R(e,t),e.prototype.adjustAndGenerate=function(t){var e=this,r=t,n=this.getBounds();this.children=this.items.map((function(t,i){var a=t.el;a.top=n.top+(t.top||0),a.left=r+(t.left||0);var c=e.children[i].getRealWidth();return a.width=0===i?c:Math.min(n.width-(r-n.left)-(t.left||0),c),a.height=e.children[i].height,r+=a.width+(t.left||0),o(a)}))},e}(k);M=function(t){function e(){return t.apply(this,arguments)||this}return R(e,t),e.prototype.digest=function(){t.prototype.digest.call(this);var e=this.getBounds().left;this.adjustAndGenerate(e)},e}(F),M=W([i("bi.flow_left")],M),z=function(t){function e(){return t.apply(this,arguments)||this}return R(e,t),e.prototype.digest=function(){var e=this;t.prototype.digest.call(this);var r=this.getBounds(),n=this.children.reduce((function(t,r,n){return r.getRealWidth()+e.items[n].left+t}),0),i=Math.max((r.width-n)/2,0)+r.left;this.adjustAndGenerate(i)},e}(F),z=W([i("bi.flow_center")],z),H=function(t){function e(){return t.apply(this,arguments)||this}return R(e,t),e.prototype.digest=function(){var e=this;t.prototype.digest.call(this);var r=this.getBounds(),n=this.children.reduce((function(t,r,n){return r.getRealWidth()+e.items[n].left+t}),0),i=Math.max(r.width-n,0)+r.left;this.adjustAndGenerate(i)},e}(F),H=W([i("bi.flow_right")],H),r.d(e,"a",(function(){return o}))},function(t,e,r){"use strict";t.exports=function(){}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)};function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=l(r(8)),s=l(r(19)),u=l(r(12));function l(t){return t&&t.__esModule?t:{default:t}}var f=(function(t,e,r){e&&a(t.prototype,e),r&&a(t,r)}(h,[{key:"prop",value:function(t,e){if(void 0===e)return this.style[t];if(this.style[t]===e)return this;var r=null==(e=this.options.jss.plugins.onChangeValue(e,t,this))||!1===e,n=t in this.style;if(r&&!n)return this;var i=r&&n;if(i?delete this.style[t]:this.style[t]=e,this.renderable)return i?this.renderer.removeProperty(this.renderable,t):this.renderer.setProperty(this.renderable,t,e),this;var o=this.options.sheet;return o&&o.attached&&(0,c.default)(!1,'Rule is not linked. Missing sheet option "link: true".'),this}},{key:"applyTo",value:function(t){var e=this.toJSON();for(var r in e)this.renderer.setProperty(t,r,e[r]);return this}},{key:"toJSON",value:function(){var t={};for(var e in this.style){var r=this.style[e];"object"!==(void 0===r?"undefined":o(r))?t[e]=r:Array.isArray(r)&&(t[e]=(0,u.default)(r))}return t}},{key:"toString",value:function(t){var e=this.options.sheet,r=e&&e.options.link?i({},t,{allowEmpty:!0}):t;return(0,s.default)(this.selector,this.style,r)}},{key:"selector",set:function(t){if(t!==this.selectorText&&(this.selectorText=t,this.renderable&&!this.renderer.setSelector(this.renderable,t)&&this.renderable)){var e=this.renderer.replaceRule(this.renderable,this);e&&(this.renderable=e)}},get:function(){return this.selectorText}}]),h);function h(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),this.type="style",this.isProcessed=!1;var n=r.sheet,i=r.Renderer,o=r.selector;this.key=t,this.options=r,this.style=e,o&&(this.selectorText=o),this.renderer=n?n.renderer:new i}e.default=f},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=u(r(13)),a=u(r(25)),c=u(r(9)),s=u(r(49));function u(t){return t&&t.__esModule?t:{default:t}}var l=(function(t,e,r){e&&i(t.prototype,e),r&&i(t,r)}(f,[{key:"add",value:function(t,e,r){var i=this.options,a=i.parent,u=i.sheet,l=i.jss,f=i.Renderer,h=i.generateClassName;!(r=n({classes:this.classes,parent:a,sheet:u,jss:l,Renderer:f,generateClassName:h},r)).selector&&this.classes[t]&&(r.selector="."+(0,s.default)(this.classes[t])),this.raw[t]=e;var p=(0,o.default)(t,e,r),d=void 0;!r.selector&&p instanceof c.default&&(d=h(p,u),p.selector="."+(0,s.default)(d)),this.register(p,d);var y=void 0===r.index?this.index.length:r.index;return this.index.splice(y,0,p),p}},{key:"get",value:function(t){return this.map[t]}},{key:"remove",value:function(t){this.unregister(t),this.index.splice(this.indexOf(t),1)}},{key:"indexOf",value:function(t){return this.index.indexOf(t)}},{key:"process",value:function(){var t=this.options.jss.plugins;this.index.slice(0).forEach(t.onProcessRule,t)}},{key:"register",value:function(t,e){(this.map[t.key]=t)instanceof c.default&&(this.map[t.selector]=t,e&&(this.classes[t.key]=e))}},{key:"unregister",value:function(t){delete this.map[t.key],t instanceof c.default&&(delete this.map[t.selector],delete this.classes[t.key])}},{key:"link",value:function(t){for(var e=this.options.sheet.renderer.getUnescapedKeysMap(this.index),r=0;r<t.length;r++){var n=t[r],i=this.options.sheet.renderer.getKey(n);e[i]&&(i=e[i]);var o=this.map[i];o&&(0,a.default)(o,n)}}},{key:"toString",value:function(t){for(var e="",r=this.options.sheet,n=!!r&&r.options.link,i=0;i<this.index.length;i++){var o=this.index[i].toString(t);(o||n)&&(e&&(e+="\n"),e+=o)}return e}}]),f);function f(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),this.map={},this.raw={},this.index=[],this.update=function(t,r){var n=e.options,i=n.jss.plugins,o=n.sheet;if("string"==typeof t)i.onUpdate(r,e.get(t),o);else for(var a=0;a<e.index.length;a++)i.onUpdate(t,e.index[a],o)},this.options=t,this.classes=t.classes}e.default=l},function(t,e,r){"use strict";var n=r(2),i=r(7),o=r(0);function a(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||s(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||s(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){if(t){if("string"==typeof t)return u(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}Math.floor(.5);var l=function(){function t(t){this.hoverCellX=-1,this.hoverCellY=-1,this.loadData(t),this.digest()}var e=t.prototype;return e.doMouseDown=function(t,e,r){var n=this.getMergeCell(e.ri,e.ci),o=Object(i.a)(n);window.setTimeout((function(){o.mouseDownHandler.call(null,t,e.x,e.y,n,r)}),0)},e.doMouseLeave=function(t,e,r){var n=this.getMergeCell(e.ri,e.ci),o=Object(i.a)(n);window.setTimeout((function(){o.mouseLeaveHandler.call(null,t,e.x,e.y,n,r)}),0)},e.doClick=function(t,e,r){var n=this.getMergeCell(e.ri,e.ci),o=Object(i.a)(n);window.setTimeout((function(){o.clickHandler.call(null,t,e.x,e.y,n,r)}),0)},e.doDbClick=function(t,e,r){var n=this.getMergeCell(e.ri,e.ci),o=Object(i.a)(n);window.setTimeout((function(){o.dbClickHandler&&o.dbClickHandler.call(null,t,e.x,e.y,n,r)}),0)},e.doHover=function(t,e,r){var n=this.getMergeCell(e.ri,e.ci);if(this.hoverCellX!==e.ri||this.hoverCellY!==e.ci){this.hoverCellX=e.ri,this.hoverCellY=e.ci;var o=Object(i.a)(n);window.setTimeout((function(){o.hoverHandler&&o.hoverHandler.call(null,t,e.x,e.y,n,r)}),0)}},e.disHover=function(){if(-1!==this.hoverCellX||-1!==this.hoverCellY){var t=this.getMergeCell(this.hoverCellX,this.hoverCellY),e=Object(i.a)(t);this.hoverCellX=-1,this.hoverCellY=-1,window.setTimeout((function(){e.hoverHandler&&e.hoverHandler.call(null)}),0)}},e.getSumHeight=function(t,e){var r=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e?e:this.rowc,i=0;r=Math.max(0,r),n=Math.min(n,this.rowc);for(var o=r;o<n;o++)i+=this.getRowHeight(o);return i},e.getSumWidth=function(t,e){var r=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e?e:this.colc,i=0;r=Math.max(0,r),n=Math.min(n,this.colc);for(var o=r;o<n;o++)i+=this.getColWidth(o);return i},e.getRowHeight=function(t){return null==this.rows[t]?30:this.rows[t]},e.getColWidth=function(t){return null==this.cols[t]?80:this.cols[t]},e.getCellsInRange=function(t){for(var e=[],r=c(t,2),n=r[0],i=r[1],o=n[1];o<=i[1];o++)for(var a=i[0];a>=n[0];a--){var s=this.getMergeCell(o,a);e.push(Object.assign(Object.assign({},s),{x:s.x+.5,y:s.y+.5}))}return e},e.getCellSquareInRange=function(t){for(var e=[],r=c(t,2),n=r[0],i=r[1],o=n[1];o<=i[1];o++){for(var a=[],s=n[0];s<=i[0];s++){var u=this.getMergeCell(o,s);a.push(Object.assign(Object.assign({},u),{x:u.x+.5,y:u.y+.5}))}e.push(a)}return e},e.getRangeBounds=function(t){for(var e=0,r=0,n=0,i=0,o=c(t,2),a=o[0],s=o[1],u=0;u<=s[1];u++)u===a[1]&&(i=e),e+=this.getRowHeight(u);for(var l=0;l<=s[0];l++)l===a[0]&&(n=r),r+=this.getColWidth(l);return{x:n,y:i,width:r-n,height:e-i}},e.getCellIndexs=function(t,e){for(var r=0,n=0,i=0,o=0,a=0;a<this.rowc;a++){if(e<=(n+=this.getRowHeight(a))){i=a;break}i=a}for(var c=0;c<this.colc;c++){if(t<=(r+=this.getColWidth(c))){o=c;break}o=c}return[o,i]},e.getCellPoistion=function(t,e){return{x:this.getSumWidth(0,e),y:this.getSumHeight(0,t)}},e.getCellBounds=function(t,e){return{x:this.getSumWidth(0,e),y:this.getSumHeight(0,t),width:this.getColWidth(e),height:this.getRowHeight(t)}},e.findMergeRange=function(t,e){return Object(o.n)(this.merges,(function(r){var n=c(r,2),i=n[0],o=n[1];return t>=i[1]&&t<=o[1]&&e>=i[0]&&e<=o[0]}))||[[e,t],[e,t]]},e.getCellArea=function(t,e,r,n){return[this.getMergeCell(t,e),this.getMergeCell(r,n)]},e.getCell=function(t,e){var r=this.data[t]&&this.data[t][e]||null;return Object.assign(Object.assign(Object.assign({valid:null!==r,x:0,y:0},r),this.getCellBounds(t,e)),{ri:t,ci:e})},e.getViewData=function(){return this.data},e.isHoverText=function(t,e,r){return(t.textArea||[]).some((function(n){return t.x+n.x<=e&&t.y+n.y<=r&&t.x+n.x+n.width>=e&&t.y+n.y+n.height>=r}))},e.getMergeCell=function(t,e){var r=c(this.findMergeRange(t,e),2),n=r[0],i=r[1];return Object.assign(Object.assign({},this.getCell(n[1],n[0])),{ri:n[1],ci:n[0],width:this.getSumWidth(n[0],i[0]+1),height:this.getSumHeight(n[1],i[1]+1),rp:i[1]-n[1],cp:i[0]-n[0]})},e.updateCell=function(t,e,r){this.data[t]&&(this.data[t][e]=r)},e.getStickers=function(){return this.stickers},e.setRowHeight=function(t,e){this.rows[t]=e,this.digest()},e.setColWidth=function(t,e){this.cols[t]=e,this.digest()},e.insertRows=function(t,e,r){var n,i,o=r.rows;this.rowc+=e.length,(n=this.rows).splice.apply(n,[t,0].concat(a(o))),(i=this.data).splice.apply(i,[t,0].concat(a(e))),t<this.freeze[1]&&(this.freeze[1]+=e.length),this.updateMerges(t,e.length,0,0),this.updateStickers(t,e.length,0,0),this.digest()},e.deleteRows=function(t,e){this.rowc=Math.max(t,this.rowc-e),this.rows.splice(t,e),this.data.splice(t,e),this.updateMerges(t,-e,0,0),this.updateStickers(t,-e,0,0),this.digest()},e.inserCols=function(t,e,r){var n,i=r.cols;this.colc+=e.length,(n=this.cols).splice.apply(n,[t,0].concat(a(i))),this.data.forEach((function(r,n){r.splice.apply(r,[t,0].concat(a(e[n])))})),t<this.freeze[0]&&(this.freeze[0]+=e.length),this.updateMerges(0,0,t,e.length),this.updateStickers(0,0,t,e.length),this.digest()},e.deleteCols=function(t,e){this.colc=Math.max(t,this.colc-e),this.cols.splice(t,e),this.data.forEach((function(r){r.splice(t,e)})),this.updateMerges(0,0,t,e),this.updateStickers(0,0,t,e),this.digest()},e.digest=function(){this.totalWidth=this.getSumWidth(),this.totalHeight=this.getSumHeight(),this.freezeWidth=this.getSumWidth(0,this.freeze[0]),this.freezeHeight=this.getSumHeight(0,this.freeze[1])},e.loadData=function(t){var e=t.colc,r=t.rowc,n=t.cols,i=t.rows,a=t.data,c=t.freeze,s=t.merges,u=t.styles,l=t.stickers;this.colc=e,this.rowc=r,this.cols=n||[],this.rows=i||[],this.cols.length=e,this.rows.length=r,this.freeze=c||[0,0],this.data=a||[],this.merges=s||[],this.styles=u||[],this.stickers=(l||[]).map((function(t){return t.id=t.id||Object(o.N)(),t})),this.digest()},e.updateMerges=function(t,e,r,n){this.merges.forEach((function(i){var o=c(i,2),a=o[0],s=o[1];a[0]>=r&&(a[0]+=n),a[1]>=t&&(a[1]+=e),s[0]>=r&&(s[0]+=n),s[1]>=t&&(s[1]+=e)}))},e.updateStickers=function(t,e,r,n){this.stickers.forEach((function(i){var o=i.position;"row"in o&&"col"in o&&(o.row>t&&o.row<=t-e||o.col>r&&o.col<=r-n?i.tag="delete":i.tag="normal",o.col>=r&&(o.col+=n),o.row>=t&&(o.row+=e)),"x"in o&&"y"in o&&(o.x>=r&&(o.x+=n),o.y>=t&&(o.y+=e))}))},e.getSelctionRange=function(t,e,r,n){if(!this.data[0])return[];for(var i=this.data[0].length,o=[],a=e,c=t;a<=n&&!(a===n&&r<c);){var s=this.getCell(a,c);s&&o.push(s),c===i?(a++,c=0):c++}return o},e.reset=function(){this.getViewData().forEach((function(t){t.forEach((function(t){(t||t.textArea)&&(t.textArea=[])}))}))},t}(),f={sheet:{colc:0,rowc:0},scroll:{x:0,y:0,sr:0,sc:0,er:0,ec:0},selection:{},selectable:!1,width:0,height:0,topSequnce:{enable:!1,size:30},leftSequnce:{enable:!1,size:80},offsetX:0,offsetY:0,align:!1},h=[-1,-1],p=function(){function t(){this.start={x:0,y:0},this.end={x:0,y:0},this.selectedTexts=[],this.reset()}var e=t.prototype;return e.selectCell=function(t,e,r){this.cell=[e,t],this.range=[h,h],this.start=r},e.selectRange=function(t,e,r,n,i){this.cell===h&&(this.cell=[0,0]),this.range=[[e,t],[n,r]],this.end=i},e.getCell=function(){return this.cell},e.getRange=function(){return[this.range[0]===h?this.cell:this.range[0],this.range[1]===h?this.cell:this.range[1]]},e.getPosition=function(){return this.start.y>this.end.y||this.start.y===this.end.y&&this.start.x>this.end.x?{start:this.end,end:this.start}:{start:this.start,end:this.end}},e.reset=function(){this.cell=h,this.range=[h,h],this.start={x:0,y:0},this.end={x:0,y:0},this.setSelectedTexts([])},e.setSelectedTexts=function(t){this.selectedTexts=t},e.getSelectedTexts=function(){return this.selectedTexts},t}();function d(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=function(){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"sheet",e=1<arguments.length?arguments[1]:void 0;this.name=t,this.selection=new p,this.options=Object.assign(Object.assign({},Object(o.g)(f)),e),this.view=new l(this.options.sheet),this.scroll=this.options.scroll,this.scroll.x=isNaN(this.scroll.x)?0:this.scroll.x,this.scroll.y=isNaN(this.scroll.y)?0:this.scroll.y,this.update()}var e=t.prototype;return e.getRenderBounds=function(t){var e=this.view.freezeWidth,r=this.view.freezeHeight;return"horizontal"===t?{x:e,y:0,width:this.width-e,height:this.options.height}:{x:0,y:r,width:this.width,height:this.options.height-r}},e.select=function(t,e,r,n,i){if(void 0!==r&&void 0!==n){var o=d(this.correctSelectRange(t,e,r,n),2),a=d(o[0],2),c=a[0],s=a[1],u=d(o[1],2),l=u[0],f=u[1];this.selection.selectRange(s,c,f,l,i)}else this.selection.selectCell(t,e,i)},e.scrollTo=function(t,e,r){this.sc(t,e,r)},e.scrollX=function(t,e){t=Object(o.f)(t,0,this.maxScrollX),this.sc(t,this.scroll.y,e)},e.scrollY=function(t,e){t=Object(o.f)(t,0,this.maxScrollY),this.sc(this.scroll.x,t,e)},e.getViewRange=function(){return[this.view.getCellIndexs(this.scroll.x,this.scroll.y),this.view.getCellIndexs(this.scroll.x+this.width,this.scroll.y+this.height)]},e.getScrollRange=function(){return[this.view.getCellIndexs(this.scroll.x+this.view.freezeWidth,this.scroll.y+this.view.freezeHeight),this.view.getCellIndexs(this.scroll.x+this.width,this.scroll.y+this.height)]},e.getViewBounds=function(){return{width:this.width,height:this.height}},e.getScroll=function(){return this.scroll},e.getCellIndexs=function(t,e){var r=this.view.freezeWidth,n=this.view.freezeHeight;r<t&&(t+=this.scroll.x),n<e&&(e+=this.scroll.y);var i=this.view.getCellIndexs(t,e),o=this.view.getMergeCell(i[1],i[0]);return[o.ci,o.ri]},e.getCellByOffset=function(t,e){if(t<this.offset.offsetX||e<this.offset.offsetY)return null;var r=this.getPositionByOffset(t,e),n=r.x,i=r.y,o=this.view.getCellIndexs(n,i);return this.view.getMergeCell(o[1],o[0])},e.getPositionByOffset=function(t,e){var r=this.view.freezeWidth,n=this.view.freezeHeight;return t-=this.offset.offsetX,e-=this.offset.offsetY,r<t&&(t+=this.scroll.x),n<e&&(e+=this.scroll.y),{x:t,y:e}},e.updateCell=function(t,e,r){this.view.updateCell(t,e,r)},e.getCellIndexsByOffset=function(t,e){if(!(t<this.offset.offsetX||e<this.offset.offsetY)){if(t-=this.offset.offsetX,e-=this.offset.offsetY,t>this.view.totalWidth||e>this.view.totalHeight)return null;var r=d(this.getCellIndexs(t,e),2),n=r[0],i=r[1];return!1===this.view.getCell(i,n).valid?null:[n,i]}},e.getFreezeBounds=function(){return[{x:this.view.freezeWidth,y:0,width:this.width-this.view.freezeWidth,height:this.view.freezeHeight},{x:0,y:this.view.freezeHeight,width:this.view.freezeWidth,height:this.height-this.view.freezeHeight},{x:0,y:0,width:this.view.freezeWidth,height:this.view.freezeHeight}]},e.cellIsFreezed=function(t){return{horizontalFreezed:t.y+t.height<=this.view.freezeHeight,verticalFreezed:t.x+t.width<=this.view.freezeWidth}},e.getCellsInBounds=function(t,e,r,n){var i=this,o=[],a=[];t=Math.max(t,0),e=Math.max(e,0),r=Math.min(r,this.width-t),n=Math.min(n,this.height-e),t<this.view.freezeWidth&&e<this.view.freezeHeight?o=this.view.getCellsInRange([this.view.getCellIndexs(t,e),this.view.getCellIndexs(this.view.freezeWidth,this.view.freezeHeight)]):t<this.view.freezeWidth?o=this.view.getCellsInRange([this.view.getCellIndexs(t,e+this.scroll.y),this.view.getCellIndexs(this.view.freezeWidth,e+this.scroll.y+n)]):e<this.view.freezeHeight?o=this.view.getCellsInRange([this.view.getCellIndexs(t+this.scroll.x,e),this.view.getCellIndexs(t+this.scroll.x+r,this.view.freezeHeight)]):a=this.view.getCellsInRange([this.view.getCellIndexs(t+this.scroll.x,e+this.scroll.y),this.view.getCellIndexs(t+this.scroll.x+r,n+e+this.scroll.y)]);var c=new Set,s=[];return Array.prototype.concat(a,o).reduce((function(t,e){var r="".concat(e.ci,"-").concat(e.ri);return c.has(r)||(c.add(r),t.push(i.correctBounds(e))),t}),s),s},e.getCellBounds=function(t,e){var r=this.view.freeze,n=this.view.getCellBounds(t,e);return t>r[1]&&(n.y-=this.scroll.y),e>r[0]&&(n.x-=this.scroll.x),n},e.getCell=function(t,e){return Object.assign(Object.assign({},this.getCellBounds(t,e)),{ri:t,ci:e})},e.getMergeCells=function(){var t=this;return this.view.merges.map((function(e){var r=d(e,2),n=r[0],i=(r[1],t.view.getRangeBounds(e));return t.correctBounds(Object.assign(Object.assign(Object.assign({},t.view.getCell(n[1],n[0])),i),{x:i.x+.5,y:i.y+.5}))}))},e.getRangeBounds=function(t){return this.view.getRangeBounds(t)},e.correctDeltaY=function(t){if(!t)return t;var e=this.scroll.y+t;if(e<=0)return-this.scroll.y;if(e>=this.maxScrollY)return this.maxScrollY-this.scroll.y;if(!this.options.align)return t;for(var r=e+this.view.freezeHeight,n=this.view.freezeHeight,i=e,o=this.view.freeze[1];o<this.view.rowc;o++){var a=this.view.getRowHeight(o);if(n<=r&&r<n+a){i=n+a/2<r?n+a:n;break}n+=a}return i-this.scroll.y-this.view.freezeHeight},e.correctDeltaX=function(t){if(!t)return t;var e=this.scroll.x+t;if(e<=0)return-this.scroll.x;if(e>=this.maxScrollX)return this.maxScrollX-this.scroll.x;if(!this.options.align)return t;for(var r=e+this.view.freezeWidth,n=this.view.freezeWidth,i=e,o=this.view.freeze[0];o<this.view.colc;o++){var a=this.view.getColWidth(o);if(n<=r&&r<n+a){i=n+a/2<r?n+a:n;break}n+=a}return i-this.scroll.x-this.view.freezeWidth},e.getSequnceCells=function(){var t=this,e=d(this.selection.getRange(),2),r=d(e[0],2),n=r[0],i=r[1],a=d(e[1],2),c=a[0],s=a[1],u=[],l=[],f=d(this.view.getCellArea(i,n,s,c),2),h=f[0],p=f[1],y=Math.min(h.ci,p.ci),v=Math.max(h.ci+h.cp,p.ci+p.cp),g=Math.min(h.ri,p.ri),b=Math.max(h.ri+h.rp,p.ri+p.rp);return this.options.topSequnce.enable&&(u=Array.prototype.concat(Object(o.e)(this.scroll.sc,this.scroll.ec+1),Object(o.e)(0,this.view.freeze[0])).map((function(e){var r=t.getCellBounds(0,e);return Object.assign(Object.assign({},r),{x:r.x+.5,y:r.y-t.offset.offsetY+.5,width:t.view.getColWidth(e),height:t.offset.offsetY,type:"bi.label",text:Object(o.O)(e),ri:-1,ci:e,style:{color:"#5f6368",backgroundColor:Object(o.a)(e,y,v)?"#e8eaed":"#f8f9fa"}})}))),this.options.leftSequnce.enable&&(l=Array.prototype.concat(Object(o.e)(this.scroll.sr,this.scroll.er+1),Object(o.e)(0,this.view.freeze[1])).map((function(e){var r=t.getCellBounds(e,0);return Object.assign(Object.assign({},r),{x:r.x-t.offset.offsetX+.5,y:r.y+.5,width:t.offset.offsetX-.5,height:t.view.getRowHeight(e)-.5,type:"bi.label",text:e+1,ci:-1,ri:e,style:{color:"#5f6368",backgroundColor:Object(o.a)(e,g,b)?"#e8eaed":"#f8f9fa"}})}))),Array.prototype.concat(u,l)},e.isInSticker=function(t,e){return this.getStickers().some((function(r){return r.left<=t&&r.left+r.width>=t&&r.top<=e&&r.top+r.height>=e}))},e.getStickers=function(){var t=this;return this.view.getStickers().map((function(e){var r=e.el,n=e.position,i=e.id,o=e.tag,a=e.init,c=e.lazy,s=0,u=0,l=0,f=0;if("x"in n&&(u=n.x,s=n.y,l=n.width,f=n.height),"col"in n&&"row"in n){var h=d(t.view.findMergeRange(n.row,n.col),2),p=h[0],y=h[1],v=t.getStickerBounds(n.row,n.col);u=v.x,s=v.y,l=t.view.getSumWidth(p[0],y[0]+1),f=t.view.getSumHeight(p[1],y[1]+1)}return{id:i,top:s,left:u,width:l,height:f,el:r,tag:o,init:a,lazy:c}}))},e.getStickerBounds=function(t,e){return this.view.getCellBounds(t,e)},e.getResizerCell=function(t,e){var r,n,i=t>this.offset.offsetX,o=i?t-this.offset.offsetX:t,a=i?e:e-this.offset.offsetY,c=this.getCellIndexs(o,a),s=this.getCellBounds(c[1],c[0]);return n=i?o-s.x<s.x+s.width-o?(r=[c[0],Math.max(c[1]-1,0)],this.getCellBounds(r[1],r[0])):(r=c,s):a-s.y<s.y+s.height-a?(r=[Math.max(c[0]-1,0),c[1]],this.getCellBounds(r[1],r[0])):(r=c,s),Object.assign(Object.assign({},n),{ri:r[1],ci:r[0],left:i?n.x+this.offset.offsetX:n.x,top:i?n.y:n.y+this.offset.offsetY,width:i?n.width:this.offset.offsetX,height:i?this.offset.offsetY:n.height})},e.getSelectCell=function(){var t=d(this.selection.getCell(),2),e=t[0],r=t[1];return this.view.getMergeCell(r,e)},e.getSelectRangeCells=function(){return this.view.getCellSquareInRange(this.getSelectRange())},e.getSelectRange=function(){var t=d(this.selection.getRange(),2),e=d(t[0],2),r=e[0],n=e[1],i=d(t[1],2),o=i[0],a=i[1],c=this.view.getMergeCell(n,r),s=this.view.getMergeCell(a,o),u=Math.min(c.ci,s.ci),l=Math.max(c.ci+c.cp,s.ci+s.cp);return[[u,Math.min(c.ri,s.ri)],[l,Math.max(c.ri+c.rp,s.ri+s.rp)]]},e.transformPosition=function(t,e,r){var n,i,a=d(this.selection.getRange(),2),c=d(a[0],2),s=c[0],u=c[1],l=d(a[1],2),f=l[0],h=l[1],p=r.ci===s&&r.ri===u,y=r.ci===f&&r.ri===h,v=this.getCellPosition({row:r.ri,col:r.ci},this.view.merges);return p&&y?(r.textArea||[]).some((function(n){return r.y+n.y<=t.y&&r.y+n.y+n.height>=t.y&&r.y+n.y<=e.y&&r.y+n.y+n.height>=e.y}))&&t.x>e.x?[e,t]:[t,e]:p?(Object(o.B)(t,{x:r.x,y:r.y,width:v.width,height:v.height})||(t=(n=[e,t])[0],e=n[1]),[t,{x:r.x+v.width,y:r.y+r.height}]):y?(Object(o.B)(e,{x:r.x,y:r.y,width:v.width,height:v.height})||(t=(i=[e,t])[0],e=i[1]),[{x:r.x,y:r.y},e]):[{x:r.x,y:r.y},{x:r.x+v.width,y:r.y+v.height}]},e.getSelectBounds=function(){var t=this,e=d(this.selection.getRange(),2),r=d(e[0],2),n=r[0],i=r[1],o=d(e[1],2),a=o[0],c=o[1],s=this.selection.getPosition(),u=s.start,l=s.end,f=this.view.getSelctionRange(n,i,a,c),h=[],p=new Map;return f.forEach((function(e){var r=e.ci===n&&e.ri===i,o=e.ci===a&&e.ri===c,s=r||o,f=t.offset2Absolute(u,e),y=t.offset2Absolute(l,e),v=d(t.transformPosition(f,y,e),2),g=v[0],b=v[1],m="";(e.textArea||[]).forEach((function(r){var n=r.x,i=r.y,o=r.width,a=r.height,c=r.text;!c||s&&(!(e.y+i<g.y?e.y+i+a>g.y:e.y+i<b.y)||e.y+i<g.y&&!(e.x+n+o>g.x)||e.y+i+a>b.y&&!(e.x+n<b.x))||(h.push(t.spliteBounds(n+e.x,i+e.y,n+e.x+o,i+e.y+a)),m+=c)})),m&&p.set(e.y,(p.get(e.y)||[]).concat([m]))})),this.selection.setSelectedTexts(Array.from(p.values())),h},e.offset2Absolute=function(t,e){var r=t.x,n=t.y,i=this.getScroll(),o=i.x,a=i.y,c=this.cellIsFreezed(e),s=c.verticalFreezed;return c.horizontalFreezed||(n+=a),s||(r+=o),{x:r,y:n}},e.getQuadrantBounds=function(t,e){var r=this.view.freezeWidth+1,n=this.view.freezeHeight+1,i=e<n,o=t<r;return{x:o?0:r,y:i?0:n,width:o?r:this.width-r,height:i?n:this.height-n}},e.spliteBounds=function(t,e,r,n){var i=[],o=this.view.freezeWidth,a=this.view.freezeHeight;return i.push({x:t,y:e,width:Math.min(o-t,r-t),height:Math.min(a-e,n-t)}),i.push({x:Math.max(o,t),y:e,width:r-Math.max(o,t),height:Math.min(a-e,n-e)}),i.push({x:t,y:Math.max(a,e),width:Math.min(o-t,r-t),height:n-Math.max(a,e)}),i.push({x:Math.max(o,t),y:Math.max(a,e),width:r-Math.max(o,t),height:n-Math.max(a,e)}),i},e.setOffset=function(t){var e=t.offsetX,r=t.offsetY;this.offset=t,this.width=this.width-e,this.height=this.height-r,this.update()},e.resizeRow=function(t,e){this.view.setRowHeight(t,e),this.updateMaxScroll(),this.updateScrollRange()},e.resizeCol=function(t,e){this.view.setColWidth(t,e),this.updateMaxScroll(),this.updateScrollRange()},e.insertRows=function(t,e,r){this.view.insertRows(t,e,r),this.update()},e.insertCols=function(t,e,r){this.view.inserCols(t,e,r),this.update()},e.deleteRows=function(t,e){this.view.deleteRows(t,e),this.update()},e.deleteCols=function(t,e){this.view.deleteCols(t,e),this.update()},e.setData=function(t){this.options=Object.assign(Object.assign(Object.assign({},f),this.options),t),this.view.loadData(this.options.sheet),this.scroll=this.options.scroll,this.update()},e.resize=function(t,e){this.options.width=t||this.options.width,this.options.height=e||this.options.height,this.view.reset(),this.update()},e.reset=function(){this.clearSelection()},e.update=function(){this.updateOffset(),this.updateMaxScroll(),this.updateScrollRange()},e.correctBounds=function(t){var e=t.x,r=t.y,n=this.view.freezeWidth,i=this.view.freezeHeight;return Object.assign(Object.assign({},t),{x:n<=e?e-this.scroll.x:e,y:i<=r?r-this.scroll.y:r,ox:e,oy:r})},e.clearSelection=function(){this.selection.reset()},e.sc=function(t,e,r){var n=Object.assign({},this.scroll);this.scroll.x=t,this.scroll.y=e,this.updateScrollRange(),r&&r(this.scroll,n)},e.updateScrollRange=function(){this.scroll.x=Math.ceil(Math.min(this.scroll.x,this.maxScrollX)),this.scroll.y=Math.ceil(Math.min(this.scroll.y,this.maxScrollY));var t=d(this.getScrollRange(),2),e=t[0],r=t[1];this.scroll.sr=e[1],this.scroll.sc=e[0],this.scroll.er=r[1],this.scroll.ec=r[0]},e.updateOffset=function(){this.offset={offsetX:(this.options.leftSequnce.enable?this.options.leftSequnce.size:0)+this.options.offsetX,offsetY:(this.options.topSequnce.enable?this.options.topSequnce.size:0)+this.options.offsetY},this.width=this.options.width-this.offset.offsetX,this.height=this.options.height-this.offset.offsetY},e.updateMaxScroll=function(){var t=this.getMaxScrollBounds(),e=t.width,r=t.height;this.maxScrollX=Math.ceil(e),this.maxScrollY=Math.ceil(r)},e.getMaxScrollBounds=function(){var t=0,e=0;if(!this.options.align)return{width:Math.max(this.view.totalWidth-this.width,0),height:Math.max(this.view.totalHeight-this.height,0)};for(var r=this.view.rowc-1;0<=r;r--){var n=this.view.getRowHeight(r);if(t+n>this.height-this.view.freezeHeight)break;t+=n}for(var i=this.view.colc-1;0<=i;i--){var o=this.view.getColWidth(i);if(e+o>this.width-this.view.freezeWidth)break;e+=o}return{width:Math.max(this.view.totalWidth-this.view.freezeWidth-e,0),height:Math.max(this.view.totalHeight-this.view.freezeHeight-t,0)}},e.correctSelectRange=function(t,e,r,n){if(r<t){var i=[r,t];t=i[0],r=i[1];var a=[n,e];e=a[0],n=a[1]}if(t===r&&n<e){var c=[n,e];e=c[0],n=c[1]}for(var s=[[e,t],[n,r]],u=[[e,t],[n,r]];!Object(o.x)(s,u);)s=u,this.view.merges.forEach((function(t){u=Object(o.F)(u,t)}));return u},e.getCellPosition=function(t,e){var r=e.find((function(e){return 0<=e.findIndex((function(e){return 2===e.length&&e[0]===t.col&&e[1]===t.row}))}));return r?this.view.getRangeBounds(r):this.view.getCellBounds(t.row,t.col)},t}(),g=r(22);function b(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(){function t(t,e){var r=this;this.reRender=function(){r.renderGrid(),r.renderSequnce(),r.renderFreeze()},this.render=function(){r.renderStickers(),r.reRender()},this.refresh=function(){r.clear(),r.renderGrid()},this.resize=function(){r.renderer.resize(r.data.width+r.data.offset.offsetX,r.data.height+r.data.offset.offsetY)},this.debounceRerender=Object(o.i)((function(){r.reRender()}),50),this.debounceRender=Object(o.i)((function(){r.render()}),50),this.el=Object(n.a)("div","sheet-table"),this.data=t,this.container=e,this.renderer=Object(g.initRenderer)(this.el,{width:t.width+t.offset.offsetX,height:t.height+t.offset.offsetY})}var e=t.prototype;return e.renderSequnce=function(){var t=this,e=this.data.offset.offsetX,r=this.data.offset.offsetY;this.renderer.clear(0,0,this.data.width+e,r),this.renderer.clear(0,0,e,this.data.height+r);var n=this.data.getSequnceCells();this.clearBorderSet(),n.forEach((function(e){t.renderContent(e),t.renderBorder(e)})),this.clearBorderSet()},e.scroll=function(t,e){var r=this,n=Math.ceil(isNaN(e)?0:e),i=Math.ceil(isNaN(t)?0:t);if(i||n)if(i===n||i!==(n||i)&&n!==(i||n))this.reRender();else{var o=this.data.getRenderBounds(n?"vertical":"horizontal"),a={x:Math.ceil(o.x),y:Math.ceil(o.y),width:Math.ceil(o.width),height:Math.ceil(o.height)},c=this.getReRenderBounds(i,n,a),s=c.cacheBounds,u=c.canvasBounds,l=c.renderBounds;this.clip(a.x,a.y,a.width,a.height,(function(){r.drawSelf(s.x,s.y,u.x,u.y,u.width,u.height),r.clip(l.x,l.y,l.width,l.height,(function(){r.clear(),r.rerenderBounds(l.x,l.y,l.width,l.height)}))})),this.renderSequnce(),this.renderFreeze()}},e.getReRenderBounds=function(t,e,r){var n,i,a;if(e<0&&(n={x:r.x,y:r.y,width:r.width,height:r.height+e},i={x:r.x,y:r.y-e,width:r.width,height:r.height+e},a={x:r.x,y:r.y,width:r.width,height:r.height-i.height+1}),0<e){var c=Object(o.f)(r.width-r.x,0,r.width),s=Object(o.f)(r.height-r.y-e,0,r.height);n={x:r.x,y:r.y+e,width:c,height:s},i={x:r.x,y:r.y,width:c,height:s},a={x:r.x,y:i.y+i.height,width:r.width,height:r.height-i.height}}if(t<0&&(n={x:r.x,y:r.y,width:r.width+t,height:r.height},i={x:r.x-t,y:r.y,width:r.width+t,height:r.height},a={x:r.x,y:r.y,width:r.width-i.width+1,height:r.height}),0<t){var u=Object(o.f)(r.width-r.x-t,0,r.width),l=Object(o.f)(r.height-r.y,0,r.height);n={x:r.x+t,y:r.y,width:u,height:l},a={x:(i={x:r.x,y:r.y,width:u,height:l}).x+i.width,y:r.y,width:r.width-i.width,height:r.height}}return{cacheBounds:n,canvasBounds:i,renderBounds:a}},e.clip=function(t,e,r,n,i){t+=this.data.offset.offsetX,e+=this.data.offset.offsetY,this.renderer.clip(t,e,r,n,i)},e.clear=function(t,e,r,n){t&&(t+=this.data.offset.offsetX),e&&(e+=this.data.offset.offsetY),this.renderer.clear(t,e,r,n)},e.drawSelf=function(t,e,r,n,i,o){t+=this.data.offset.offsetX,e+=this.data.offset.offsetY,r+=this.data.offset.offsetX,n+=this.data.offset.offsetY,this.renderer.drawSelf(t,e,r,n,i,o)},e.renderFreeze=function(){var t=this;this.data.getFreezeBounds().forEach((function(e){var r=e.x,n=e.y,i=e.width,o=e.height;if(0<i&&0<o){var a=t.data.getCellsInBounds(r,n,i,o);t.clip(r,n,i,o,(function(){t.clear(),a.forEach((function(e){t.renderContent(e)}))})),t.clip(r,n,i+1,o+1,(function(){t.clearBorderSet(),a.forEach((function(e){t.renderBorder(e)}))}))}}))},e.rerenderBounds=function(t,e,r,n){var i=this;this.data.spliteBounds(t,e,t+r,e+n).forEach((function(t){var e=t.x,r=t.y,n=t.width,o=t.height;n<=0||o<=0||i.clip(e,r,n,o,(function(){var t=i.data.getCellsInBounds(e,r,n,o);t.forEach((function(t){i.renderContent(t)})),i.clearBorderSet(),t.forEach((function(t){i.renderBorder(t)}))}))})),this.clearBorderSet()},e.clearBorderSet=function(){this.cacheBorderSet=new Set,this.cacheBorderPosition=new Set},e.renderGrid=function(){this.clear(0,0,this.data.width,this.data.height),this.rerenderBounds(0,0,this.data.width,this.data.height)},e.renderContent=function(t){t.ci<this.data.view.colc&&t.ri<this.data.view.rowc&&this.renderCellComponent(t)},e.renderCell=function(t){var e=this,r=Object.assign(Object.assign({},t),this.data.correctBounds(t)),n=this.data.getQuadrantBounds(t.x,t.y),i=this.data.getCell(t.ri+t.rp+1,t.ci);i=Object.assign(Object.assign(Object.assign({},i),this.data.correctBounds(i)),{borderStyle:i.borderStyle?{borderTop:i.borderStyle.borderTop}:{}});var o=this.data.getCell(t.ri,t.ci+t.cp+1);o=Object.assign(Object.assign(Object.assign({},o),this.data.correctBounds(o)),{borderStyle:o.borderStyle?{borderTop:o.borderStyle.borderLeft}:{}}),this.clip(n.x,n.y,n.width,n.height,(function(){e.clear(r.x,r.y,r.width,r.height),e.renderContent(r),e.renderCellBorder(r),e.renderCellBorder(i),e.renderCellBorder(o)}))},e.renderBorder=function(t){t.ci<this.data.view.colc&&t.ri<this.data.view.rowc&&this.renderCellBorder(t)},e.renderCellComponent=function(t){var e=this,r=t.width,n=t.height;if(0!==r&&0!==n){t.x+=this.data.offset.offsetX,t.y+=this.data.offset.offsetY;var i=[];this.renderCellBg(t),t.stick?this.container.stickCell(t.ri,t.ci,t.init):Object(g.renderComponent)(t,this.renderer,this.debounceRender,(function(r){var n=e.data.view.getViewData();if(n[t.ri]&&n[t.ri][t.ci]){var o=n[t.ri][t.ci],a=Object.assign(Object.assign({},r),{x:r.x-t.x,y:r.y-t.y});i.push(a),o.textArea=i}}))}},e.renderCellBorder=function(t){var e,r=t.borderStyle,n=void 0===r?{}:r,i=null===(e=null==t?void 0:t.backgroundStyle)||void 0===e?void 0:e.backgroundColor,o=t.x,a=t.y,c=t.width,s=t.height;if(!(c<=0||s<=0)){var u=n.borderTop,l=n.borderLeft,f=n.borderBottom,h=n.borderRight;this.renderCellBorderLine(o,a,o+c,a,u,i),this.renderCellBorderLine(o,a+s,o+c,a+s,f,i),this.renderCellBorderLine(o,a,o,a+s,l,i),this.renderCellBorderLine(o+c,a,o+c,a+s,h,i)}},e.renderCellBorderLine=function(t,e,r,n,i,a){var c="".concat(t,"-").concat(e,"-").concat(r,"-").concat(n);if(0<(null==i?void 0:i.width)){var s="".concat(t,"-").concat(e,"-").concat(r,"-").concat(n,"-").concat(i.width,"-").concat(i.color);this.cacheBorderSet.has(s)||(this.renderer.drawLine(t,e,r,n,{color:i.color,lineWidth:i.width,lineStyle:i.style,lineDash:i.dash}),this.cacheBorderSet.add(s),this.cacheBorderPosition.add(c))}else if(a&&!this.cacheBorderSet.has(c)){var u=!1,l=0;this.cacheBorderSet.forEach((function(i){if(!u){var a=b(i.split("-"),5),c=a[0],s=a[1],f=a[2],h=a[3],p=a[4],d=1e4,y=Math.floor(Number(c)*d)/d,v=Math.floor(Number(s)*d)/d,g=Math.floor(Number(f)*d)/d,m=Math.floor(Number(h)*d)/d,w=Math.floor(t*d)/d,O=Math.floor(e*d)/d,x=Math.floor(r*d)/d,E=Math.floor(n*d)/d;u=Object(o.C)(y,v,g,m,w,O)&&Object(o.C)(y,v,g,m,x,E)||Object(o.C)(t,e,r,n,y,v)&&Object(o.C)(t,e,r,n,g,m);var j=Object(o.C)(y,v,g,m,w,O),S=Object(o.C)(y,v,g,m,x,E);j&&!S&&v==m&&E!=m&&(l=Number.parseInt(p),e+=l),!j&&S&&v==m&&O!=m&&(l=Number.parseInt(p),n-=l),j&&!S&&y==g&&x!=g&&(l=Number.parseInt(p),t+=l),!j&&S&&y==g&&w!=g&&(l=Number.parseInt(p),r-=l)}})),u||this.renderer.drawLine(t,e,r,n,{color:a,lineWidth:1,lineStyle:"solid",lineDash:[]})}},e.renderCellBg=function(t){var e=t.bias,r=t.style,n=void 0===r?{}:r,i=t.backgroundStyle,a=void 0===i?{}:i,c=t.currencyLineAttr,s=t.value,u=t.x,l=t.y,f=t.width,h=t.height;if(!(f<=0||h<=0)){var p=a.backgroundColor,d=a.backgroundImage,y=a.linearGradient,v=a.backgroundImageLayout;if(y)this.renderer.drawRect(u,l,f,h,{linearGradient:y,radiusConfig:a.radiusConfig});else if(d){var g=Object(o.r)(d);g?this.renderer.drawImage(g,u,l,f,h,v,{radiusConfig:a.radiusConfig}):Object(o.D)(d).then(this.debounceRender)}else p&&this.renderer.drawRect(u,l,f,h,{fillColor:p,radiusConfig:a.radiusConfig});e&&this.renderer.drawBias(u,l,f,h,e.backslash,e.texts,n),c&&this.renderer.drawCurrencyLine(u,l,f,h,c,s,n)}},e.renderStickers=function(){var t=this;this.data.getStickers().map((function(e){"delete"===e.tag?t.container.tearSticker(e.id):t.container.stick(e,e.init)}))},t}();function O(t){return function(t){if(Array.isArray(t))return x(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E,j,S=function(){function t(){this.eventMap={}}var e=t.prototype;return e.on=function(t,e){this.eventMap[t]=this.eventMap[t]||[],this.eventMap[t].push(e)},e.off=function(t,e){this.eventMap[t]=this.eventMap[t]||[];var r=this.eventMap[t].indexOf(e);-1!==r&&this.eventMap[t].splice(r,r)},e.emit=function(t,e){var r=1<arguments.length&&void 0!==e?e:[];this.eventMap[t]&&this.eventMap[t].forEach((function(t){t.call.apply(t,[null].concat(O(r)))}))},t}();function C(t,e){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(j=E=E||{})[j.WHEELMODE_FOCUS=0]="WHEELMODE_FOCUS";var P={borderTop:!(j[j.WHEELMODE_WHEEL=1]="WHEELMODE_WHEEL"),borderBottom:!1,borderLeft:!1,borderRight:!1},I=function(t){function e(e){var r;(r=t.call(this)||this).focusMode=0,r.activeAreas=new Set,r.width=0,r.height=0;var i=e.width,o=void 0===i?0:i,a=e.height,c=void 0===a?0:a,s=e.scrollTop,u=void 0===s?0:s,l=e.scrollLeft,f=void 0===l?0:l,h=e.cls,p=void 0===h?"":h,d=e.totalWidth,y=e.totalHeight,v=e.top,g=void 0===v?0:v,b=e.left,m=void 0===b?0:b;return r.el=Object(n.a)("div","grid-container ".concat(p)),r.scrollTopDelta=0,r.scrollLeftDelta=0,r.scrollTop=u,r.scrollLeft=f,r.scrollEl=Object(n.a)("div","scrollable-grid"),r.scrollEl.offset({top:u,left:f,width:d||0,height:y||0}),r.width=o,r.height=c,r.el.offset({width:o,height:c,top:g,left:m}),r.on("wheelMode",(function(t){r.focusMode=t})),r.el.el.onscroll=function(){0<r.el.el.clientHeight&&r.focusMode===E.WHEELMODE_FOCUS&&r.emit("focus",[r.el.el.scrollLeft,r.el.el.scrollTop])},r}!function(t,e){t.prototype=Object.create(e.prototype),C(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.hideSelect=function(){},r.selectAreas=function(t,e){var r=this;this.checkScrollElMounted(),(t||[]).forEach((function(t){r.selectArea(r.createActiveArea(),t,e)}))},r.selectArea=function(t,e,r){var n=t.p,i=t.c,o=t.t,a=t.b,c=t.l,s=t.r,u=Object.assign(Object.assign({},P),r),l=u.borderLeft,f=u.borderTop,h=u.borderRight,p=u.borderBottom;!e||e.x<0||e.y<0||e.width<=0||e.height<=0?n.hide():(n.css({position:"absolute",top:"".concat(e.y,"px"),left:"".concat(e.x,"px"),width:"0px",height:"0px"}),i.offset({width:e.width,height:e.height}),o.offset({top:0,left:0,width:e.width}),o.css({display:f?"block":"none"}),a.offset({top:e.height,left:0,width:e.width}),a.css({display:p?"block":"none"}),c.offset({top:0,left:0,height:e.height}),c.css({display:l?"block":"none"}),s.offset({top:0,left:e.width,height:e.height}),s.css({display:h?"block":"none"}),n.show())},r.hideSelectAreas=function(){this.activeAreas.forEach((function(t){[t.p,t.c,t.t,t.l,t.r,t.b].forEach((function(t){t&&(t.hide(),t.remove())}))})),this.activeAreas.clear()},r.scroll=function(t,e){var r=0<arguments.length&&void 0!==t?t:this.scrollLeftDelta,n=1<arguments.length&&void 0!==e?e:this.scrollTopDelta;this.scrollTopDelta=n,this.scrollLeftDelta=r,this.el.scroll({top:Math.abs(n+this.scrollTop),left:Math.abs(r+this.scrollLeft)})},r.createActiveArea=function(){var t=Object(n.a)("div"),e=Object(n.a)("div","active-area"),r=Object(n.a)("div","range-border active-area-border"),i=Object(n.a)("div","range-border active-area-border"),o=Object(n.a)("div","range-border active-area-border"),a=Object(n.a)("div","range-border active-area-border");t.children(e,r,a,i,o),this.scrollEl.children(t);var c={p:t,c:e,t:r,l:i,r:o,b:a};return this.activeAreas.add(c),c},r.offset=function(t){var e=t.width,r=void 0===e?0:e,n=t.height,i=void 0===n?0:n,o=t.scrollTop,a=void 0===o?0:o,c=t.scrollLeft,s=void 0===c?0:c,u=t.left,l=void 0===u?0:u,f=t.top,h=void 0===f?0:f;this.width=r,this.height=i,this.el.offset({width:r,height:i,left:l,top:h}),this.scrollTop=a,this.scrollLeft=s,this.scroll()},r.updateScrollEl=function(t){var e=t.totalWidth,r=t.totalHeight,n=t.top,i=void 0===n?0:n,o=t.left,a=void 0===o?0:o;this.scrollEl.offset({width:e,height:r,top:i,left:a})},r.stick=function(t){var e=t.top,r=t.left,i=t.el;this.checkScrollElMounted(),this.el.removeClass("empty"),this.scrollEl.children(i),Object(n.a)(i).offset({top:e,left:r})},r.isStickerInRange=function(t){return Object(o.u)(t.top-this.scrollTop,-.25*this.height,1.25*this.height)&&Object(o.u)(t.left-this.scrollLeft,-.25*this.width,1.25*this.width)},r.checkScrollElMounted=function(){this.el.hasChild(this.scrollEl.el)||(this.el.children(this.scrollEl),0===this.scrollLeftDelta&&0===this.scrollTopDelta||this.scroll())},e}(S);function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _(t,e){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var k,N=((k=function(t){function e(e){var r;return(r=t.call(this)||this).el=Object(n.a)("div","grid-container"),Object(o.z)()&&Object(o.q)()<=10&&r.el.addClass("ie10-below"),r.stickers={},r.digest(e),r.render(),r}!function(t,e){t.prototype=Object.create(e.prototype),_(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.width-this.freezeWidth,r=this.height-this.freezeHeight;this.tGrid=new I({cls:"grid-container-top t-grid",width:this.width,height:this.freezeHeight}),this.bGrid=new I({cls:"grid-container-bottom b-grid",width:this.width,height:r,top:this.freezeHeight}),this.tlGrid=new I({cls:"inline-grid tl-grid",width:this.freezeWidth,height:this.freezeHeight}),this.trGrid=new I({cls:"inline-grid tr-grid",width:e,height:this.freezeHeight,scrollLeft:-this.freezeWidth,totalWidth:this.totalWidth,totalHeight:this.freezeHeight,left:this.freezeWidth}),this.blGrid=new I({cls:"inline-grid bl-grid",width:this.freezeWidth,height:r,scrollTop:-this.freezeHeight,totalWidth:this.freezeWidth,totalHeight:this.totalHeight}),this.brGrid=new I({cls:"inline-grid br-grid",width:e,height:r,scrollLeft:-this.freezeWidth,scrollTop:-this.freezeHeight,totalWidth:this.totalWidth,totalHeight:this.totalHeight,left:this.freezeWidth}),this.mountGrid(),this.on("wheelMode",(function(e){t.brGrid.emit("wheelMode",[e]),t.blGrid.emit("wheelMode",[e]),t.trGrid.emit("wheelMode",[e])})),this.brGrid.on("focus",(function(e,r){t.emit("focus",[e,r])})),this.trGrid.on("focus",(function(e){t.emit("focus",[e])})),this.blGrid.on("focus",(function(e,r){t.emit("focus",[void 0,r])}))},r.showSelectArea=function(t){var e=this;this.hideSelectArea(),t.forEach((function(t){e.tlGrid.selectAreas([t[0]]),e.trGrid.selectAreas([t[1]]),e.blGrid.selectAreas([t[2]]),e.brGrid.selectAreas([t[3]])}))},r.hideSelectArea=function(){this.tlGrid.hideSelectAreas(),this.trGrid.hideSelectAreas(),this.blGrid.hideSelectAreas(),this.brGrid.hideSelectAreas()},r.scroll=function(t,e){this.trGrid.scroll(t,0),this.blGrid.scroll(0,e),this.brGrid.scroll(t,e)},r.getGrids=function(){return[this.tlGrid,this.trGrid,this.blGrid,this.brGrid]},r.update=function(t){this.digest(t);var e=this.width-this.freezeWidth,r=this.height-this.freezeHeight;this.tGrid.offset({width:this.width,height:this.freezeHeight}),this.bGrid.offset({width:this.width,height:r,top:this.freezeHeight}),this.tlGrid.offset({width:this.freezeWidth,height:this.freezeHeight}),this.trGrid.updateScrollEl({totalWidth:this.totalWidth,totalHeight:this.freezeHeight,left:-this.freezeWidth}),this.trGrid.offset({width:e,height:this.freezeHeight,left:this.freezeWidth}),this.blGrid.updateScrollEl({totalWidth:this.freezeWidth,totalHeight:this.totalHeight,top:-this.freezeHeight}),this.blGrid.offset({width:this.freezeWidth,height:r}),this.brGrid.updateScrollEl({totalWidth:this.totalWidth,totalHeight:this.totalHeight,top:-this.freezeHeight,left:-this.freezeWidth}),this.brGrid.offset({width:e,height:r,left:this.freezeWidth}),this.mountGrid()},r.digest=function(t){var e=t.width,r=t.height,n=t.freezeWidth,i=t.freezeHeight,o=t.totalWidth,a=t.totalHeight;this.width=e,this.height=r,this.freezeWidth=n,this.freezeHeight=i,this.totalWidth=o,this.totalHeight=a},r.getResponseGrid=function(t,e){return t<this.freezeWidth&&e<this.freezeHeight?this.tlGrid:t>=this.freezeWidth&&e<this.freezeHeight?this.trGrid:t<this.freezeWidth&&e>=this.freezeHeight?this.blGrid:this.brGrid},r.stick=function(t){var r=t.left,i=t.top,a=t.width,c=t.height,s=t.el,u=t.id,l=void 0===u?Object(o.N)():u,f=t.lazy,h=this.getResponseGrid(r,i),p=Object(n.a)("div",e.STICKER_CONTAINER_CLASS_NAME);p.offset({width:a,height:c}),this.stickers[l]=p,s&&("function"==typeof s?s.call(null,p):p.html(s));var d={id:l,left:r,top:i,width:a,height:c,el:p.el},y=h.isStickerInRange(d);function v(){h.stick(d)}return f||v(),{id:l,mount:f?v:void 0,isInRange:y}},r.updateStick=function(t){var e=t.left,r=t.top,n=t.width,i=t.height,o=t.id,a=this.getResponseGrid(e,r);return this.stickers[o]&&a.stick({id:o,left:e,top:r,width:n,height:i,el:this.stickers[o].el}),""},r.tear=function(t){this.stickers[t]&&(this.stickers[t].remove(),delete this.stickers[t])},r.getStick=function(t){return this.stickers[t]},r.clean=function(){for(var t=0,e=Object.entries(this.stickers);t<e.length;t++)B(e[t],2)[1].remove();this.stickers={}},r.mountGrid=function(){this.freezeWidth||this.freezeHeight?(this.tGrid.el.children(this.tlGrid.el,this.trGrid.el),this.bGrid.el.children(this.blGrid.el,this.brGrid.el),this.el.children(this.tGrid.el,this.bGrid.el)):(this.bGrid.el.children(this.brGrid.el),this.el.children(this.bGrid.el))},e}(S)).STICKER_CONTAINER_CLASS_NAME="waffle-borderless-sticker",k),A=function(){function t(t){this.isOver=!1,this.autoShow=!0,this.minScrollBarLength=24,this.direction=t.direction,this.state=!1,this.position=0,this.startPosition=0,this.size=t.size,this.scrollSize=t.scrollSize,this.sliderSize=this.getScrollBarLength(),this.startTrigger=t.startScroll||o.m,this.scrollTrigger=t.onScoll||o.m,this.endTrigger=t.endScroll||o.m,this.el=Object(n.a)("div","sheet-scrollbar sheet-scrollbar-".concat(this.vertical()?"y":"x")),this.sliderEl=Object(n.a)("div","sheet-scrollbar-slider"),this.el.css(this.vertical()?"height":"width",Object(o.H)(t.size)),this.sliderEl.css(this.vertical()?"height":"width",Object(o.H)(this.sliderSize)),this.el.children(this.sliderEl),this._initEvent(),this.sliderEl.hide(),this.checkScrollSize()}var e=t.prototype;return e._initEvent=function(){var t=this;this.el.on("mousedown",(function(t){t.preventDefault()})),this.el.on("mouseover",(function(){t.isOver=!0,t.checkScrollSize(),t.sliderEl.show()})),this.el.on("mouseleave",(function(){t.isOver=!1,t.state||t._resetTimeout()})),this.sliderEl.on("mousedown",(function(e){t._startScroll(e),e.preventDefault()})),this.sliderEl.on("touchstart",(function(e){t.state=!0,t.sliderEl.show(),t._startScroll(e.targetTouches[0])})),this.sliderEl.on("mousemove",(function(e){t._scroll(e)})),this.sliderEl.on("touchmove",(function(e){t._scroll(e.targetTouches[0])})),this.sliderEl.on("touchend",(function(){t.state=!1,t._resetTimeout()})),document.addEventListener("mousemove",(function(e){t._scroll(e)})),this.sliderEl.on("mouseup",(function(e){t._endScroll(e)})),document.addEventListener("mouseup",(function(e){t._endScroll(e)})),document.addEventListener("mouseleave",(function(e){t._endScroll(e)}))},e._startScroll=function(t){this.startPosition=this.vertical()?t.clientY:t.clientX,this.state=!0,this.el.addClass("active"),this.startTrigger()},e._scroll=function(t){if(this.state){this.moveOutside&&(this.vertical()?this.startPosition=this.startPosition+t.clientY-this.cachePosition:this.startPosition=this.startPosition+t.clientX-this.cachePosition,this.moveOutside=!1);var e=0,r=0;this.vertical()?(r=t.clientY-this.startPosition+this.position,this.startPosition=t.clientY):(e=t.clientX-this.startPosition+this.position,this.startPosition=t.clientX),e=Math.round(Math.max(0,Math.min(e,this.size-this.sliderSize))),r=Math.round(Math.max(0,Math.min(r,this.size-this.sliderSize)));var n=this.position;this.position=e||r;var i=(this.position-n)*this.scrollSize/(this.size-this.sliderSize);this._scrollTo(e,r),0==i&&this.adjustScroll(e,r),this.scrollTrigger(this.vertical()?0:i,this.vertical()?i:0)}},e.adjustScroll=function(t,e){var r=this.vertical()?e:t,n=this.vertical()?0:5,i=this.vertical()?5:0;0===r&&this.scrollTrigger(0-n,0-i),r===this.size-this.sliderSize&&this.scrollTrigger(n,i)},e._endScroll=function(t){this.state&&(this.state=!1,this.el.removeClass("active"),this._resetTimeout(),this.endTrigger(),t.preventDefault())},e._scrollTo=function(t,e){var r=0<arguments.length&&void 0!==t?t:0,n=1<arguments.length&&void 0!==e?e:0;this.sliderEl.css({transform:"translate(".concat(Object(o.H)(r),", ").concat(Object(o.H)(n),")"),"-webkit-transform":"translate(".concat(Object(o.H)(r),", ").concat(Object(o.H)(n),")"),"-moz-transform":"translate(".concat(Object(o.H)(r),", ").concat(Object(o.H)(n),")"),"-o-transform":"translate(".concat(Object(o.H)(r),", ").concat(Object(o.H)(n),")"),"-ms-transform":"translate(".concat(Object(o.H)(r),", ").concat(Object(o.H)(n),")")})},e.checkScrollSize=function(){this.autoShow&&(this.scrollSize<=0?this.el.hide():this.el.show())},e.vertical=function(){return"vertical"===this.direction},e.inScrollBounds=function(t){var e=this.sliderSize/2,r=this.size-this.sliderSize/2,n=this.vertical()?t.clientY:t.clientX;return e<=n&&n<=r},e._resetTimeout=function(){this.timer&&window.clearTimeout(this.timer),this.timer=this.sliderElHide()},e.scroll=function(t,e){var r=!(1<arguments.length&&void 0!==e)||e;!this.isOver&&0<this.scrollSize&&r&&(this.sliderEl.show(),this._resetTimeout()),t=t*(this.size-this.sliderSize)/this.scrollSize;var n=this.vertical()?0:t,i=this.vertical()?t:0;this.position=t,this._scrollTo(n,i)},e.update=function(t){this.state=!1,this.startPosition=0,this.size=t.size,this.scrollSize=t.scrollSize,this.sliderSize=this.getScrollBarLength();var e=this.vertical()?0:Math.min(this.position,this.size-this.sliderSize),r=this.vertical()?Math.min(this.position,this.size-this.sliderSize):0;this.position=e||r,this.el.css(this.vertical()?"height":"width",Object(o.H)(t.size)),this.sliderEl.css(this.vertical()?"height":"width",Object(o.H)(this.sliderSize)),this._scrollTo(e,r),this.scrollTrigger(0,0,{force:!0}),this.checkScrollSize(),this.sliderEl.hide()},e.getScrollBarLength=function(){var t=Math.round(Math.pow(this.size,2)/(this.scrollSize+this.size));return this.size<this.minScrollBarLength?t:Math.max(t,this.minScrollBarLength)},e.setVisible=function(t){t?this.el.show():this.el.hide(),t?this.sliderEl.show():this.sliderEl.hide(),this.autoShow=!1},e.sliderElHide=function(){var t=this;return window.setTimeout((function(){!t.state&&t.autoShow&&t.sliderEl.hide()}),5e3)},t}(),V=!1,D=function(){function t(t){var e=this;this.onMouseDown=function(t){t.preventDefault(),t.stopPropagation(),V=!0,e.prevX=0,e.prevY=0,e.distance=0,e.lineEl.show(),window.addEventListener("mousemove",e.onMouseMove),window.addEventListener("mouseup",e.onMouseUp)},this.onMouseMove=function(t){if(t.preventDefault(),t.stopPropagation(),V){var r=e.prevX,n=e.prevY,i=e.min,a=e.max,c=r?t.screenX-r:0,s=n?t.screenY-n:0;e.prevX=t.screenX,e.prevY=t.screenY,"vertical"===e.direction?(e.distance+=c,e.el.css("margin-left","".concat(Object(o.f)(e.distance,i,a),"px"))):(e.distance+=s,e.el.css("margin-top","".concat(Object(o.f)(e.distance,i,a),"px"))),t.preventDefault()}},this.onMouseUp=function(t){if(t.preventDefault(),t.stopPropagation(),V){V=!1,e.lineEl.hide();var r=parseFloat(e.el.css("margin-left"))||parseFloat(e.el.css("margin-top"));e.onResize&&e.onResize(e.rect,r,e.direction),e.el.css("margin-left","0px"),e.el.css("margin-top","0px"),e.distance=0,e.hide()}window.removeEventListener("mousemove",e.onMouseMove),window.removeEventListener("mouseup",e.onMouseUp)};var r=t.direction,i=void 0===r?"vertical":r,a=t.onResize;this.direction=i,this.onResize=a,this.el=Object(n.a)("div","sheet-resizer ".concat(i)),this.hoverEl=Object(n.a)("div","sheet-resizer-hover"),this.lineEl=Object(n.a)("div","sheet-resizer-line"),this.el.children(this.hoverEl,this.lineEl),this.lineEl.hide(),this.hoverEl.on("mousedown",this.onMouseDown)}var e=t.prototype;return e.show=function(t,e,r){if(!V){var n=(this.rect=t).left,i=t.top,o=t.width,a=t.height,c="vertical"===this.direction,s=r.min,u=void 0===s?-1/0:s,l=r.max,f=void 0===l?1/0:l;this.min=u,this.max=f,this.el.offset({left:c?n+o-5:n,top:c?i:i+a-5}).show();var h=c?5:o,p=c?a:5;this.hoverEl.offset({width:h,height:p}),this.lineEl.offset({top:c?a:3,left:c?3:o,width:e.width,height:e.height})}},e.hide=function(){V||this.el.offset({width:0,height:0}).hide()},t}(),R=function(){function t(){this.el=Object(n.a)("div","sheet-tooltip"),this.hideEl(),this.isShow=!1,document.body.appendChild(this.el.el)}var e=t.prototype;return e.show=function(t,e,r){var n=this,i=r+10,o=e+10;this.el.text(t);var a=this.el.el.clientWidth,c=this.el.el.clientHeight;if(c>window.innerHeight){var s=e-10,u=window.innerWidth-e-10;o=u<s?(this.el.css("max-width","".concat(s,"px")),0):(this.el.css("max-width","".concat(u,"px")),e+10),i=r+10-(c=this.el.el.clientHeight)}else window.innerHeight-r<=c&&(i-=c+15),window.innerWidth-e<=a&&(o-=a+10);i=Math.max(i,0),o=Math.max(o,0),this.el.offset({left:o,top:i}),this.isShow||(this.isShow=!0,this.timeOut=setTimeout((function(){n.showEl()}),900))},e.hide=function(){this.timeOut&&clearTimeout(this.timeOut),this.hideEl(),this.isShow=!1},e.showEl=function(){this.el.css("visibility","visible"),this.el.css("opacity","inherit")},e.hideEl=function(){this.el.css("visibility","hidden"),this.el.css("opacity","0")},e.tear=function(){document.body.removeChild(this.el.el)},t}();function L(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return M(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?M(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z(t,e){return(z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var H=function(t){function e(e,r){var i;return(i=t.call(this)||this).stickerTimeouts=[],i.deltaXCache=0,i.deltaYCache=0,i.sync=!1,i.getPointByClient=function(t,e){return{x:t,y:e}},i.previousPosition=null,i.onMouseDown=function(t){var e=i.getPointInfo(t),r=e.x,n=e.y,a=e.clientX,c=e.clientY,s=i.getActiveCell(r,n);if(null===s||s.stopPropagation)i.moving=0;else{var u=[s.ci,s.ri];if(i.moving=1,t.shiftKey){var l=L(i.data.selection.getRange(),1)[0];i.emit("select",[l[1],l[0],u[1],u[0],{x:r,y:n}]),i.showSelectArea()}else{if(2===t.button){if(window.setTimeout((function(){i.emit("contextmenu",[a,c])}),0),i.moving=0,Object(o.v)([u,u],i.data.getSelectRange()))return;return i.emit("select",[u[1],u[0],void 0,void 0,{x:r,y:n}]),void i.showSelectArea()}i.emit("select",[u[1],u[0],void 0,void 0,{x:r,y:n}]),i.data.view.doMouseDown(t,{x:r,y:n,ri:s.ri,ci:s.ci},i.data.getPositionByOffset(r,n))}}},i.onMouseMove=function(t){i.verticalScrollBar.scroll(i.data.scroll.y),i.horizontalScrollBar.scroll(i.data.scroll.x);var e=i.getPointInfo(t),r=e.x,n=e.y,a=e.clientX,c=e.clientY;if(a<=0&&c<=0)i.data.view.disHover();else{if(r<i.data.offset.offsetX||n<i.data.offset.offsetY){var s=i.data.getResizerCell(r,n);n>i.data.offset.offsetY&&(i.verticalResizer.hide(),i.horizontalResizer.show(s,{width:i.data.width,height:2},{min:-s.height})),r>i.data.offset.offsetX&&(i.verticalResizer.show(s,{width:2,height:i.data.height},{min:-s.width}),i.horizontalResizer.hide())}else{i.horizontalResizer&&i.horizontalResizer.hide(),i.verticalResizer&&i.verticalResizer.hide();var u=i.getActiveCell(r,n),l=i.data.getPositionByOffset(r,n);if(null===u)return null!==i.previousPosition&&(i.data.view.doMouseLeave(t,{x:r,y:n,ri:i.previousPosition.ri,ci:i.previousPosition.ci},l),i.previousPosition=null),i.toolTip.hide(),i.setMouseCursorByEvent(t,"default"),void i.data.view.disHover();var f={ri:u.ri,ci:u.ci};if(Object(o.x)(i.previousPosition,f)||null===i.previousPosition||i.data.view.doMouseLeave(t,{x:r,y:n,ri:i.previousPosition.ri,ci:i.previousPosition.ci},l),i.previousPosition=f,i.moving){i.moving=2;var h=i.data.selection.getCell();i.emit("select",[h[1],h[0],u.ri,u.ci,{x:r,y:n}]),i.showSelectArea()}var p=i.data.view.getMergeCell(u.ri,u.ci);i.data.view.doHover(t,{x:r,y:n,ri:u.ri,ci:u.ci},l);var d=i.data.offset2Absolute({x:r,y:n},p),y=d.x,v=d.y;i.data.view.isHoverText(p,y,v)&&(p.cursor&&"default"!==p.cursor?i.setMouseCursorByEvent(t,p.cursor):i.setMouseCursorByEvent(t,"text")),p.title?i.toolTip.show(p.title,a,c):i.toolTip.hide()}i.emit("hover",[r,n])}},i.onMouseleave=function(){i.toolTip.hide()},i.onDoubleClick=function(t){i.setWheelMode(E.WHEELMODE_FOCUS);var e=i.getPointInfo(t),r=e.x,n=e.y,o=i.getActiveCell(r,n),a=i.data.getSelectCell();i.isDoubleClickable(r,n,a)||(i.emit("dblclick",[r,n]),i.data.view.doDbClick(t,{x:r,y:n,ri:o.ri,ci:o.ci},i.data.getPositionByOffset(r,n)))},i.onMouseUp=function(t){i.setWheelMode(E.WHEELMODE_FOCUS);var e=i.getPointInfo(t),r=e.x,n=e.y,o=i.getActiveCell(r,n),a=i.data.selection.getCell();if(o&&(1===i.moving||2===i.moving&&o.ri===a[1]&&o.ci===a[0])&&!t.shiftKey&&2!==t.button){if(null===o||o.stopPropagation)return void(i.moving=0);2!==i.moving&&i.hideSelectArea(),i.data.view.doClick(t,{x:r,y:n,ri:o.ri,ci:o.ci},i.data.getPositionByOffset(r,n))}else 0===i.moving&&(t.currentTarget===document||o||i.hideSelectArea());i.moving=0},i.resizeHandler=function(t,e,r){i.emit("resize",[t,e,r]),i.resize()},i.scrollHandler=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{smooth:!1,force:!1};if(0===t&&0===e&&!r.force)return!0;i.hideSelectArea(),i.scrollTimeout&&clearTimeout(i.scrollTimeout),r.smooth&&(t=Math.min(t,100),e=Math.min(e,100));var n=i.data.getScroll(),a=n.x,c=n.y,s=t,u=e;t+=i.deltaXCache,e+=i.deltaYCache;var l=i.data.correctDeltaX(t),f=i.data.correctDeltaY(e);l=0<s?Math.max(0,l):Math.min(0,l),f=0<u?Math.max(0,f):Math.min(0,f),i.deltaXCache=t-l,i.deltaYCache=e-f,i.scrollTimeout=setTimeout((function(){i.deltaXCache=0,i.deltaYCache=0,i.showSelectArea()}),300);var h=Math.round(Object(o.f)(a+l,0,i.data.maxScrollX)),p=Math.round(Object(o.f)(c+f,0,i.data.maxScrollY));return(h===i.data.maxScrollX&&0<t||0===h&&t<0)&&(i.deltaXCache=0),(p===i.data.maxScrollY&&0<e||0===p&&e<0)&&(i.deltaYCache=0),Math.abs(l)>Math.abs(f)?i.emit("scroll",[h,"horizontal"]):i.emit("scroll",[p,"vertical"]),i.waffle.scroll(-h,-p),!(Math.abs(l)>Math.abs(f)?h<=0||h>=i.data.maxScrollX:p<=0||p>=i.data.maxScrollY)||0!==i.deltaXCache||0!==i.deltaYCache},i.el=Object(n.a)("div","grid-container"),i.data=e,i.cellCache=new Set,i.moving=0,i.sync=r.sync||!1,r.getPointByClient&&(i.getPointByClient=r.getPointByClient),i.supportCSSTransform=r.supportCSSTransform,i.initResizer(),i.initWaffle(),i.initScrollbar(),i.initTootip(),i.initEvent(),i}!function(t,e){t.prototype=Object.create(e.prototype),z(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.correctBounds=function(t){return Object.assign(Object.assign({},t),{x:t.x+this.data.offset.offsetX,y:t.y+this.data.offset.offsetY})},r.resize=function(){this.waffle.update({width:this.data.width+this.data.offset.offsetX,height:this.data.height+this.data.offset.offsetY,freezeWidth:this.data.view.freezeWidth+this.data.offset.offsetX,freezeHeight:this.data.view.freezeHeight+this.data.offset.offsetY,totalWidth:this.data.view.totalWidth,totalHeight:this.data.view.totalHeight}),this.showSelectArea(),this.updateStickCells(),this.updateScrollBar(),this.whellScroll(0,0)},r.reset=function(){this.resize(),this.clean()},r.stick=function(t,e){var r=this,n=t.id;if(this.cellCache.has(t.id))this.waffle.updateStick(t);else if(0<t.width&&0<t.height){t.left=t.left+this.data.offset.offsetX,t.top=t.top+this.data.offset.offsetY;var i=this.waffle.stick(t),o=i.id,a=i.mount,c=i.isInRange;if(this.cellCache.add(o),"function"!=typeof e);else if(this.sync)e(this.waffle.getStick(o),t.width,t.height,a,c);else{var s=window.setTimeout((function(){e(r.waffle.getStick(o),t.width,t.height,a,c)}));this.stickerTimeouts.push(s)}}return n},r.tearSticker=function(t){this.waffle.tear(t)},r.tear=function(){this.toolTip.tear()},r.stickCell=function(t,e,r){var n="".concat(t,"-").concat(e),i=this.data.view.getMergeCell(t,e),o=i.el,a=i.width,c=i.height,s=i.x,u=i.y;return this.stick({el:o,width:a,height:c,left:s,top:u,id:n},r),n},r.whellScroll=function(t,e){var r=this.data.getScroll(),n=r.x,i=r.y,a=Math.round(Object(o.f)(n+t,0,this.data.maxScrollX)),c=Math.round(Object(o.f)(i+e,0,this.data.maxScrollY));return this.scrollHandler(t,e,{smooth:!1,force:!1}),this.verticalScrollBar.scroll(this.data.scroll.y,!1),this.horizontalScrollBar.scroll(this.data.scroll.x,!1),{scrollX:a,scrollY:c,maxScrollX:this.data.maxScrollX,maxScrollY:this.data.maxScrollY}},r.updateStickCells=function(){var t=this;this.cellCache.forEach((function(e){var r=L(e.split("-"),2),n=r[0],i=r[1];t.stickCell(parseInt(n),parseInt(i))}))},r.setWheelMode=function(t){this.waffle.emit("wheelMode",[t])},r.initEvent=function(){var t=this;this.waffle.el.on("mouseover",(function(){t.mountResizer(),t.mountScrollbar()})),this.waffle.el.on("contextmenu",(function(t){return t.preventDefault()})),this.waffle.el.on("mousedown",this.onMouseDown),this.waffle.el.on("mouseup",this.onMouseUp),this.waffle.el.on("mousemove",this.onMouseMove),this.waffle.el.on("dblclick",this.onDoubleClick),this.waffle.el.on("mouseleave",this.onMouseleave),this.waffle.el.on("wheel",(function(e){var r,n;n=1===e.deltaMode?(r=20*e.deltaX,20*e.deltaY):(r=e.deltaX,e.deltaY),t.scrollHandler(r,n,{smooth:!0,force:!1})&&e.preventDefault(),t.verticalScrollBar.scroll(t.data.scroll.y),t.horizontalScrollBar.scroll(t.data.scroll.x)}));var e=[0,0];this.waffle.el.on("touchstart",(function(r){var n=t.getPointInfo(r),i=n.x,o=n.y;e=[i,o]})),this.waffle.el.on("touchmove",(function(r){var n=L(e,2),i=n[0],o=n[1],a=t.getPointInfo(r),c=a.x,s=a.y;e=[c,s],t.scrollHandler(i-c,o-s,{smooth:!0,force:!1}),t.verticalScrollBar.scroll(t.data.scroll.y),t.horizontalScrollBar.scroll(t.data.scroll.x)})),this.waffle.el.on("mouseout",(function(){t.data.view.disHover()})),document.addEventListener("mouseup",this.onMouseUp),Object(o.b)(this.waffle.el,(function(){t.hideSelectArea()}),!1),this.waffle.on("focus",(function(e,r){t.focusHandler(e,r)}))},r.initResizer=function(){this.verticalResizer=new D({direction:"vertical",onResize:this.resizeHandler}),this.horizontalResizer=new D({direction:"horizontal",onResize:this.resizeHandler})},r.initTootip=function(){this.toolTip=new R},r.initScrollbar=function(){var t=this.data.getViewBounds();this.verticalScrollBar=new A({direction:"vertical",size:t.height,scrollSize:this.data.maxScrollY,slider:{},onScoll:this.scrollHandler}),this.horizontalScrollBar=new A({direction:"horizontal",size:t.width,scrollSize:this.data.maxScrollX,slider:{},onScoll:this.scrollHandler})},r.mountResizer=function(){this.el.hasChild(this.verticalResizer.el.el)||this.el.hasChild(this.horizontalResizer.el.el)||this.el.children(this.verticalResizer.el,this.horizontalResizer.el)},r.mountScrollbar=function(){this.el.hasChild(this.verticalScrollBar.el.el)||this.el.hasChild(this.horizontalScrollBar.el.el)||(this.el.children(this.verticalScrollBar.el),this.el.children(this.horizontalScrollBar.el))},r.updateScrollBar=function(){var t=this.data.getViewBounds();this.verticalScrollBar.update({size:t.height,scrollSize:this.data.maxScrollY}),this.horizontalScrollBar.update({size:t.width,scrollSize:this.data.maxScrollX})},r.initWaffle=function(){var t=this.data.width+this.data.offset.offsetX,e=this.data.height+this.data.offset.offsetY,r=this.data.view.freezeWidth+this.data.offset.offsetX,n=this.data.view.freezeHeight+this.data.offset.offsetY;this.waffle=new N({width:t,height:e,freezeWidth:r,freezeHeight:n,totalWidth:this.data.view.totalWidth,totalHeight:this.data.view.totalHeight}),this.el.children(this.waffle.el)},r.isDoubleClickable=function(t,e,r){var n=this,i=this.data.cellIsFreezed(r),o=i.verticalFreezed,a=i.horizontalFreezed,c=t+(o?0:this.data.getScroll().x)-this.data.offset.offsetX,s=e+(a?0:this.data.getScroll().y)-this.data.offset.offsetY;return!1===r.dblclick&&r.left<=c&&r.left+r.width>=c&&r.top<=s&&r.top+r.height>=s||!!r.items&&r.items.some((function(r){return n.isDoubleClickable(t,e,r.el)}))},r.focusHandler=function(t,e){var r=t,n=this.data.scroll.x,i=e,a=this.data.scroll.y;1<Math.abs(r-n)&&Object(o.A)(t)&&this.whellScroll(r-n,0),1<Math.abs(i-a)&&Object(o.A)(e)&&this.whellScroll(0,i-a)},r.showInputCell=function(){var t=this.data.getSelectCell();t.x=t.x+this.data.offset.offsetX,t.y=t.y+this.data.offset.offsetY},r.showSelectArea=function(){var t=this.data.getSelectBounds();this.waffle.showSelectArea(t)},r.hideSelectArea=function(){this.waffle.hideSelectArea(),this.data.clearSelection()},r.clean=function(){this.cellCache=new Set,this.stickerTimeouts.forEach((function(t){window.clearTimeout(t)})),this.stickerTimeouts=[],this.waffle.clean()},r.getActiveCell=function(t,e){var r=this.data.getCellByOffset(t,e);return r?!1===r.valid?null:r:null},r.setMouseCursorByEvent=function(t,e){for(var r=this.waffle.getGrids().map((function(t){return t.el.el})),n=this.waffle.el.el,i=t.target;i&&i!==n&&!r.includes(i);)i=i.parentElement;i&&(i.style.cursor=e)},r.getActivePosition=function(t,e){var r=this.el.el.getBoundingClientRect();return[t-r.left,e-r.top]},r.getPointInfo=function(t){var e=this.getClientByEvent(t),r=this.getPointByEvent(t);return{x:r.x,y:r.y,clientX:e.x,clientY:e.y}},r.getClientByEvent=function(t){var e=t;return window.TouchEvent&&t instanceof TouchEvent&&(e="touchend"===t.type?t.changedTouches[0]:t.targetTouches[0]),{x:e.clientX,y:e.clientY}},r.getPointByEvent=function(t){var e=this.waffle.getGrids().map((function(t){return t.el.el})),r=this.waffle.el.el,n=N.STICKER_CONTAINER_CLASS_NAME;if(this.supportCSSTransform&&t instanceof MouseEvent)return{x:function(t,i){for(var o=t,a=i;a&&a!==r&&!e.includes(a);)a.className.includes(n)?o=t+a.offsetLeft:o+=a.offsetLeft,a=a.parentElement;return a&&(o-=a.scrollLeft-a.offsetLeft),o}(t.offsetX,t.target),y:function(t,i){for(var o=t,a=i;a&&a!==r&&!e.includes(a);)a.className.includes(n)?o=t+a.offsetTop:o+=a.offsetTop,a=a.parentElement;return a&&a.parentElement&&(o-=a.scrollTop-a.parentElement.offsetTop),o}(t.offsetY,t.target)};var i=this.getClientByEvent(t),o=i.x,a=i.y;return this.getPointByClient(o,a)},e}(S),W="undefined"!=typeof navigator&&0<navigator.userAgent.toLowerCase().indexOf("firefox");function F(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent&&t.attachEvent("on".concat(e),(function(){r(window.event)}))}function G(t,e){for(var r=e.slice(0,e.length-1),n=0;n<r.length;n++)r[n]=t[r[n].toLowerCase()];return r}function U(t){for(var e=(t=(t=t||"").replace(/\s/g,"")).split(","),r=e.lastIndexOf("");0<=r;)e[r-1]+=",",e.splice(r,1),r=e.lastIndexOf("");return e}function Y(t,e){for(var r=t.length>=e.length?t:e,n=t.length>=e.length?e:t,i=!0,o=0;o<r.length;o++)-1===n.indexOf(r[o])&&(i=!1);return i}for(var X={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,"⇪":20,",":188,".":190,"/":191,"`":192,"-":W?173:189,"=":W?61:187,";":W?59:186,"'":222,"[":219,"]":221,"\\":220},q={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":W?224:91,cmd:W?224:91,command:W?224:91},K={16:"shiftKey",18:"altKey",17:"ctrlKey"},$={16:!1,18:!1,17:!1},J={},Q=1;Q<20;Q++)X["f".concat(Q)]=111+Q;K[W?224:91]="metaKey",$[W?224:91]=!1;var Z=[],tt="all",et=[],rt=function(t){return X[t.toLowerCase()]||q[t.toLowerCase()]||t.toUpperCase().charCodeAt(0)};function nt(t){tt=t||"all"}function it(){return tt||"all"}function ot(t,e,r){var n;if(e.scope===r||"all"===e.scope){for(var i in n=0<e.mods.length,$)Object.prototype.hasOwnProperty.call($,i)&&(!$[i]&&-1<e.mods.indexOf(+i)||$[i]&&-1===e.mods.indexOf(+i))&&(n=!1);(0!==e.mods.length||$[16]||$[18]||$[17]||$[91])&&!n&&"*"!==e.shortcut||!1===e.method(t,e)&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function at(t){var e=J["*"],r=t.keyCode||t.which||t.charCode;if(ct.filter.call(this,t)){if(-1===Z.indexOf(r)&&229!==r&&Z.push(r),93!==r&&224!==r||(r=91),r in $){for(var n in $[r]=!0,q)q[n]===r&&(ct[n]=!0);if(!e)return}for(var i in $)Object.prototype.hasOwnProperty.call($,i)&&($[i]=t[K[i]]);var o=it();if(e)for(var a=0;a<e.length;a++)e[a].scope===o&&("keydown"===t.type&&e[a].keydown||"keyup"===t.type&&e[a].keyup)&&ot(t,e[a],o);if(r in J)for(var c=0;c<J[r].length;c++)if(("keydown"===t.type&&J[r][c].keydown||"keyup"===t.type&&J[r][c].keyup)&&J[r][c].key){for(var s=J[r][c].key.split("+"),u=[],l=0;l<s.length;l++)u.push(rt(s[l]));(u=u.sort()).join("")===Z.sort().join("")&&ot(t,J[r][c],o)}}}function ct(t,e,r){var n=U(t),i=[],o="all",a=document,c=0,s=!1,u=!0;for(void 0===r&&"function"==typeof e&&(r=e),"[object Object]"===Object.prototype.toString.call(e)&&(e.scope&&(o=e.scope),e.element&&(a=e.element),e.keyup&&(s=e.keyup),e.keydown&&(u=e.keydown)),"string"==typeof e&&(o=e);c<n.length;c++)i=[],1<(t=n[c].split("+")).length&&(i=G(q,t)),(t="*"===(t=t[t.length-1])?"*":rt(t))in J||(J[t]=[]),J[t].push({keyup:s,keydown:u,scope:o,mods:i,shortcut:n[c],method:r,key:n[c]});void 0!==a&&!function(t){return-1<et.indexOf(t)}(a)&&window&&(et.push(a),F(a,"keydown",(function(t){at(t)})),F(window,"focus",(function(){Z=[]})),F(a,"keyup",(function(t){at(t),function(t){var e=t.keyCode||t.which||t.charCode,r=Z.indexOf(e);if(0<=r&&Z.splice(r,1),t.key&&"meta"===t.key.toLowerCase()&&Z.splice(0,Z.length),93!==e&&224!==e||(e=91),e in $)for(var n in $[e]=!1,q)q[n]===e&&(ct[n]=!1)}(t)})))}var st={setScope:nt,getScope:it,deleteScope:function(t,e){var r,n;for(var i in t=t||it(),J)if(Object.prototype.hasOwnProperty.call(J,i))for(r=J[i],n=0;n<r.length;)r[n].scope===t?r.splice(n,1):n++;it()===t&&nt(e||"all")},getPressedKeyCodes:function(){return Z.slice(0)},isPressed:function(t){return"string"==typeof t&&(t=rt(t)),-1!==Z.indexOf(t)},filter:function(t){var e=t.target||t.srcElement,r=e.tagName,n=!0;return!e.isContentEditable&&"TEXTAREA"!==r&&("INPUT"!==r&&"TEXTAREA"!==r||e.readOnly)||(n=!1),n},unbind:function(t,e,r){var n,i,o=U(t),a=[];"function"==typeof e&&(r=e,e="all");for(var c=0;c<o.length;c++){if(a=1<(n=o[c].split("+")).length?G(q,n):[],t="*"===(t=n[n.length-1])?"*":rt(t),e=e||it(),!J[t])return;for(var s=0;s<J[t].length;s++)i=J[t][s],r&&i.method!==r||i.scope!==e||!Y(i.mods,a)||(J[t][s]={})}}};for(var ut in st)Object.prototype.hasOwnProperty.call(st,ut)&&(ct[ut]=st[ut]);if("undefined"!=typeof window){var lt=window.hotkeys;ct.noConflict=function(t){return t&&window.hotkeys===ct&&(window.hotkeys=lt),ct},window.hotkeys=ct}var ft,ht=ct,pt=((ft=function(){function t(t){if(t&&t.hotkeys)for(var e in t.hotkeys)t.hotkeys.hasOwnProperty(e)&&this.bindHotkeys(e,t.hotkeys[e])}var e=t.prototype;return e.bindHotkeys=function(t,e){ht(t,e)},e.unbindHotkeys=function(t,e){ht.unbind(t,e)},t}()).KEY={COPY:"ctrl+c,command+c"},ft),dt=function(){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[{key:"copy",icon:"",label:"复制",accel:""}];this.el=Object(n.a)("div","sheet-menu").css({userSelect:"none"}).hide(),this.clickHandler=o.m,this.menuItems=t,this.buildItems(),Object(o.d)(this.el.el),document.body.appendChild(this.el.el)}var e=t.prototype;return e.show=function(t,e,r){var n=this.el.show().offset(),i=n.width,a=n.height;this.configItems(r);var c=e,s=t;window.innerHeight-e<=a&&(c-=a),window.innerWidth-t<=i&&(s-=i),this.el.offset({left:s,top:c}),Object(o.b)(this.el)},e.hide=function(){this.el.hide(),Object(o.L)(this.el)},e.bindHandler=function(t){this.clickHandler=t},e.tear=function(){document.body.removeChild(this.el.el)},e.configItems=function(t){var e=this;this.menuItems.forEach((function(r){t[r.key]?e.el.childEnable(r.key):e.el.disableChild(r.key)}))},e.buildItems=function(){var t=this;this.menuItems.forEach((function(e){"separator"===e.key&&t.el.children(Object(n.a)("div","sheet-menuseparator")),t.el.children(Object(n.a)("div","sheet-menuitem ".concat(e.key)).on("mousedown",(function(t){t.stopPropagation()})).on("click",(function(){t.clickHandler(e.key),t.hide()})).children(Object(n.a)("div","sheet-menuitem-icon"),Object(n.a)("span","sheet-menuitem-label").text(e.label||""),Object(n.a)("span","sheet-menuitem-accel").text(e.accel||"")))}))},t}(),yt=function(){function t(t){var e=t.data,r=t.editable,i=void 0!==r&&r;this.data=e,this.el=Object(n.a)("div","input-box").hide(),this.input=Object(n.a)("div","cell-input").attr("contenteditable","".concat(!!i)),this.el.children(this.input),document.body.appendChild(this.el.el)}var e=t.prototype;return e.show=function(t,e,r,i){if(!(r<=0||i<=0)){this.el.css({left:t-2+"px",top:e-2+"px",maxWidth:this.data.width-t+this.data.offset.offsetX-12+"px",minWidth:r+2+"px",minHeight:i+2+"px",maxHeight:this.data.height-e+this.data.offset.offsetY-12+"px"}).show(),this.input.text(""),this.text=this.text||Object(n.a)("span"),this.text.text(this.data.getSelectCell().value),this.input.children(this.text);var a=Object(o.t)(),c=document.createRange();a.removeAllRanges(),c.selectNodeContents(this.text.el),c.setStart(c.startContainer,c.endOffset),a.addRange(c),Object(o.b)(this.el),Object(o.c)(this.el)}},e.hide=function(){this.el.hide(),Object(o.L)(this.el),Object(o.M)(this.el)},e.tear=function(){document.body.removeChild(this.el.el)},t}(),vt=function(){function t(){var t=this;this.texts=[],this.cells=null,this.trigger=document.createElement("textarea"),this.trigger.className="trix-offscreen",this.trigger.innerText=" ",this.trigger.addEventListener("copy",(function(e){t.setClipboardData(e)})),document.body.appendChild(this.trigger)}var e=t.prototype;return e.copy=function(t){this.cells=t,this.isImage()?this.downloadImage():this.dispatchCopy()},e.copyText=function(t){0!==t.length&&(this.texts=t,this.dispatchCopy())},e.clear=function(){this.cells=null},e.tear=function(){document.body.removeChild(this.trigger)},e.isImage=function(){return 1<=this.cells.length&&1<=this.cells[0].length&&this.cells[0][0].image},e.downloadImage=function(){var t=document.createElement("a");t.href=this.cells[0][0].image,t.download="image.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)},e.dispatchCopy=function(){var t=Object(o.t)(),e=document.createRange();t.removeAllRanges(),e.selectNodeContents(this.trigger),t.addRange(e),this.trigger.setSelectionRange(0,99999),this.trigger.focus(),document.execCommand("copy"),this.trigger.blur()},e.transform2HTML=function(){if(!this.cells)return"";var t={},e=[],r=[];return this.cells.map((function(i,a){Object(n.a)("tr"),i.forEach((function(n,i){var a=n.ri,c=n.ci,s=n.width,u=n.height;e[c]!==s&&(e[c]||0===e[c]?(e[c]=Math.min(e[c],s),e[c+1]=Math.max(e[c],s)-e[c]):e[c]=s),r[a]!==u&&(r[a]||0===r[a]?(r[a]=Math.min(r[a],u),r[a+1]=Math.max(r[a],u)-r[a]):r[a]=u),t["".concat(n.ci,"-").concat(n.ri)]=Object(o.K)(n)}))})),""},e.transform2Text=function(){return this.texts.map((function(t){return t.join("\t")})).join("\n")},e.setClipboardData=function(t){if(t.clipboardData)t.clipboardData.setData("text/html",this.transform2HTML()),t.clipboardData.setData("text/plain",this.transform2Text());else{var e=this.transform2HTML();Object(o.h)(e),window.clipboardData.setData("text",this.transform2Text())}t.preventDefault()},t}();function gt(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return bt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function bt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var mt=function(){function t(t){var e,r,i=this,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.scrollHandler=function(t,e){"vertical"===e?i.data.scrollY(t,i.scrollTable):i.data.scrollX(t,i.scrollTable)},this.resizeHandler=function(t,e,r){"vertical"===r?i.data.resizeCol(t.ci,t.width+e):i.data.resizeRow(t.ri,t.height+e),i.render()},this.scrollTable=function(t,e){i.container.setWheelMode(E.WHEELMODE_WHEEL);var r=t.y-e.y,n=t.x-e.x;i.table.scroll(n,r),(i.eventsMap.scroll||[]).forEach((function(e){e.call(null,{x:t.x,y:t.y,deltaX:n,deltaY:r})}))},this.selectHandler=function(t,e,r,n,o){i.data.select(t,e,r,n,o),i.table.renderSequnce()},this.showContextMenu=function(t,e){if(!(Object(o.y)(i.disableContextMenu)?i.disableContextMenu():i.disableContextMenu)){var r,n=!1,a=gt(i.data.getSelectRangeCells());try{for(a.s();!(r=a.n()).done&&!(n=r.value.some((function(t){return!!t.canCopy}))););}catch(t){a.e(t)}finally{a.f()}i.contextMenu.show(t,e,{copy:n&&!Object(o.w)(i.data.selection.getSelectedTexts())})}},this.contextMenuHandler=function(t){switch(t){case"copy":default:i.copy()}},this.render=function(){var t,e;i.table.render(),null===(e=(t=i.events).render)||void 0===e||e.call(t)},this.copy=function(){i.clipboard.copyText(i.data.selection.getSelectedTexts())},this.events=a,this.el=Object(n.a)("div","sheet"),this.el.offset({width:t.width,height:t.height}),this.data=new v("sheet",t),this.disableContextMenu=t.disableContextMenu,this.container=new H(this.data,{sync:t.sync,getPointByClient:this.getPointByClient.bind(this),supportCSSTransform:t.supportCSSTransform}),this.table=new w(this.data,this.container),this.container.el.unshiftChildren(this.table.el),this.el.children(this.container.el),this.initEvent(),this.initHotKeys(),this.contextMenu=new dt(t.contextMenuItems),this.contextMenu.bindHandler(this.contextMenuHandler),this.inputBox=new yt({data:this.data}),null===(r=(e=this.events).created)||void 0===r||r.call(e),this.render()}var e=t.prototype;return e.initEvent=function(){this.eventsMap={},this.container.on("scroll",this.scrollHandler),this.container.on("resize",this.resizeHandler),this.container.on("select",this.selectHandler),this.container.on("contextmenu",this.showContextMenu)},e.initHotKeys=function(){this.hotkeys=new pt,this.initCopyEvent()},e.initCopyEvent=function(){this.clipboard=new vt,this.hotkeys.bindHotkeys(pt.KEY.COPY,this.copy)},e.resizeEl=function(){this.el.offset({width:this.data.width+this.data.offset.offsetX,height:this.data.height+this.data.offset.offsetY})},e.addEventListener=function(t,e){this.eventsMap[t]=this.eventsMap[t]||[],this.eventsMap[t].includes(e)||this.eventsMap[t].push(e)},e.removeEventListener=function(t,e){this.eventsMap[t]=this.eventsMap[t]||[],Object(o.I)(this.eventsMap[t],e)},e.loadData=function(t){this.data.setData(t),this.reset()},e.updateCell=function(t,e){this.data.updateCell(t.ri,t.ci,e),this.table.renderCell(t)},e.getCellPosition=function(t){return this.data.getCellPosition(t,this.data.options.sheet.merges)},e.whellByBounds=function(t){var e=t.x,r=void 0===e?0:e,n=t.y,i=void 0===n?0:n,o=t.width,a=t.height,c=this.getBounds(),s=c.left,u=c.top,l=c.right,f=c.bottom,h=0,p=0;(r<=s||l<=r+o)&&(h=r+o-(l<=r+o?l-o:s+2*o)),(i<=u||f<=i+a)&&(p=i+a-(f<=i+a?f-a:u+2*a)),this.whellScroll(h,p)},e.getBounds=function(){var t=this.data.getScroll(),e=t.x,r=t.y;return{left:e,top:r,right:e+this.data.width,bottom:r+this.data.height,width:this.data.width,height:this.data.height}},e.insertRows=function(t,e,r){this.data.insertRows(t,e,r),this.render(),this.container.resize()},e.insertCols=function(t,e,r){this.data.insertCols(t,e,r),this.render(),this.container.resize()},e.deleteRows=function(t,e){this.data.deleteRows(t,e),this.render(),this.container.resize()},e.deleteCols=function(t,e){this.data.deleteCols(t,e),this.render(),this.container.resize()},e.reset=function(){this.data.reset(),this.container.reset(),this.table.resize(),this.render(),this.resizeEl()},e.resize=function(t,e){this.data.resize(t,e),this.container.resize(),this.table.resize(),this.render(),this.resizeEl()},e.setHScrollBarVisible=function(t){this.container.horizontalScrollBar.setVisible(t)},e.setVScrollBarVisible=function(t){this.container.verticalScrollBar.setVisible(t)},e.whellScroll=function(t,e){return this.container.whellScroll(t,e)},e.tear=function(){this.clipboard.tear(),this.contextMenu.tear(),this.inputBox.tear(),this.container.tear()},e.getPointByClient=function(t,e){var r=this.table.el.el.getBoundingClientRect();return{x:t-r.left,y:e-r.top}},t}();r.d(e,"b",(function(){return n.a})),r.d(e,"a",(function(){return mt}))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!Array.isArray(t))return t;var r="";if(Array.isArray(t[0]))for(var i=0;i<t.length&&"!important"!==t[i];i++)r&&(r+=", "),r+=n(t[i]," ");else r=n(t,", ");return e||"!important"!==t[t.length-1]||(r+=" !important"),r};var n=function(t,e){for(var r="",n=0;n<t.length&&"!important"!==t[n];n++)r&&(r+=e),r+=t[n];return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"unnamed",e=arguments[1],r=arguments[2],a=r.jss,c=(0,o.default)(e),s=a.plugins.onCreateRule(t,c,r);return s||("@"===t[0]&&(0,n.default)(!1,"[JSS] Unknown at-rule %s",t),new i.default(t,c,r))};var n=a(r(8)),i=a(r(9)),o=a(r(47));function a(t){return t&&t.__esModule?t:{default:t}}},function(t,e){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":r(window))&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";function n(){var t=window.screen,e=1;return window.devicePixelRatio?e=window.devicePixelRatio:t.systemXDPI&&t.logicalXDPI&&(e=t.systemXDPI/t.logicalXDPI),1<e?Math.ceil(e):1}function i(t){return parseInt(t+"")+"px"}function o(t,e){var r=e.fontStyle,n=void 0===r?"":r,i=e.fontWeight,o=void 0===i?"":i,a=e.fontSize,c=void 0===a?"":a,s=e.fontFamily,u=void 0===s?"":s;t.font="".concat(n," ").concat(o," ").concat(c,' "Helvetica Neue"'),t.font="".concat(n," ").concat(o," ").concat(c,' "').concat(u,'"')}function a(t,e){var r=document.createElement("canvas").getContext("2d",{alpha:!1});return o(r,e),r.measureText(t)}r.d(e,"b",(function(){return n})),r.d(e,"g",(function(){return i})),r.d(e,"h",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"d",(function(){return s})),r.d(e,"c",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"a",(function(){return f})),r.d(e,"i",(function(){return h}));var c={};function s(t){var e="".concat(t.fontFamily," ").concat(t.fontSize);return void 0===c[e]&&(c[e]=function(t){var e=document.createElement("div"),r=document.createElement("img"),n=document.createElement("span"),i=document.body;if(!i)throw new Error("");e.style.visibility="hidden",e.style.fontFamily=t.fontFamily,e.style.fontSize=t.fontSize,e.style.margin="0",e.style.padding="0",e.appendChild(document.createTextNode("Hidden Text")),i.appendChild(e),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=Math.round(parseFloat(t.fontSize)/10),r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",e.appendChild(n),e.appendChild(r);var o=Math.round(parseFloat(t.fontSize)/3)+r.height+1;e.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-e.offsetTop+r.height+1;return i.removeChild(e),{baseline:o,middle:a}}(t)),c[e]}function u(t,e,r,n){var i=5<arguments.length?arguments[5]:void 0,o=[];if(!1===(4<arguments.length&&void 0!==arguments[4]&&arguments[4])){if(1===i&&o.push([[t,e],[t+r,e+n]]),2===i)o.push([[t,e],[t+r,e+2*n/3]]),o.push([[t,e],[t+2*r/3,e+n]]);else if(1<i)for(var a=Math.atan(n/r),c=Math.PI/2/(i+1),s=0,u=0;u<i;u++)(s+=c)<a?o.push([[t,e],[t+r,e+Math.ceil(Math.tan(s)*r)]]):o.push([[t,e],[t+Math.ceil(n*Math.tan(Math.PI/2-s)),e+n]])}else if(1===i&&o.push([[t,e+n],[t+r,e]]),2===i)o.push([[t,e+n],[t+2*r/3,e]]),o.push([[t,e+n],[t+r,e+n/3]]);else if(1<i)for(var l=Math.atan(r/n),f=Math.PI/2/(i+1),h=0,p=0;p<i;p++)(h+=f)<l?o.push([[t,e+n],[t+Math.ceil(Math.tan(h)*n),e]]):o.push([[t,e+n],[t+r,e+n-Math.ceil(Math.tan(Math.PI/2-h)*r)]]);return o}function l(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection}function f(t){}function h(t){return""}},function(t,e,r){"use strict";(function(t){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n="object"==(void 0===t?"undefined":r(t))&&t&&t.Object===Object&&t;e.a=n}).call(this,r(14))},function(t,e,r){t.exports=r(76)},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n="";if(!e)return n;var a=r.indent,c=void 0===a?0:a,s=e.fallbacks;if(c++,s)if(Array.isArray(s))for(var u=0;u<s.length;u++){var l=s[u];for(var f in l){var h=l[f];null!=h&&(n+="\n"+o(f+": "+(0,i.default)(h)+";",c))}}else for(var p in s){var d=s[p];null!=d&&(n+="\n"+o(p+": "+(0,i.default)(d)+";",c))}for(var y in e){var v=e[y];null!=v&&"fallbacks"!==y&&(n+="\n"+o(y+": "+(0,i.default)(v)+";",c))}return n||r.allowEmpty?n=o(t+" {"+n+"\n",--c)+o("}",c):n};var n,i=(n=r(12))&&n.__esModule?n:{default:n};function o(t,e){for(var r="",n=0;n<e;n++)r+="  ";return r+t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=r(23))&&n.__esModule?n:{default:n};e.default=new i.default},function(t,e,r){"use strict";(function(e){var n=r(4),i=r(80),o={"Content-Type":"application/x-www-form-urlencoded"};function a(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,s={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e)&&(c=r(31)),c),transformRequest:[function(t,e){return i(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(a(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)?(a(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return 200<=t&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){s.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){s.headers[t]=n.merge(o)})),t.exports=s}).call(this,r(79))},function(t,e,r){"use strict";r.d(e,"initRenderer",(function(){return s})),r.d(e,"renderComponent",(function(){return h}));var n=r(42),i=r(7),o=r(0);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(n.a)(t,e)}function u(t,e,r,n,i){function o(t,e,r,n,i){var o=4<arguments.length&&void 0!==i?i:0;o=o*Math.PI/180;var a=Math.cos,c=Math.sin;return[(t-r)*a(o)-(e-n)*c(o)+r,(t-r)*c(o)+(e-n)*a(o)+n]}if(i.rotate){var c=a(i.center,2),s=c[0],u=c[1],l=o(t,e,s,u,i.rotate),f=o(r,n,s,u,i.rotate);t=l[0],e=l[1],r=f[0],n=f[1]}return{type:"line",x:t,y:e,x1:r,y1:n,options:i}}function l(t,e,r){var n=t.getStyle();!function(t,e,r){var n=t.backgroundColor&&!t.backgroundColor.isTransparent(),i=t.backgroundImage&&t.backgroundSize,a={};if(n&&(a={type:"rect",x:t.left,y:t.top,width:t.width,height:t.height,options:{fillColor:t.backgroundColor.toString()}}),i){var c=Object(o.r)(t.backgroundImage);c?a={type:"image",x:t.left,y:t.top,width:t.width,height:t.height,image:c,imageLayout:t.backgroundSize}:Object(o.D)(t.backgroundImage).then(Object(o.i)((function(){r()})))}e.draw(a)}(n,e,r),function(t,e){var r=t.top,n=t.left,i=t.width,o=t.height,a=[n+i/2,r+o/2],c=[];t.borderTopStyle&&!t.borderTopColor.isTransparent()&&c.push(u(n,r,n+i,r,{color:t.borderTopColor.toString(),lineWidth:t.borderTopWidth,lineStyle:t.borderTopStyle,rotate:t.rotate,center:a})),t.borderBottomStyle&&!t.borderBottomColor.isTransparent()&&c.push(u(n,r+o,n+i,r+o,{color:t.borderBottomColor.toString(),lineWidth:t.borderBottomWidth,lineStyle:t.borderBottomStyle,rotate:t.rotate,center:a})),t.borderLeftStyle&&!t.borderLeftColor.isTransparent()&&c.push(u(n,r,n,r+o,{color:t.borderLeftColor.toString(),lineWidth:t.borderLeftWidth,lineStyle:t.borderLeftStyle,rotate:t.rotate,center:a})),t.borderRightStyle&&!t.borderRightColor.isTransparent()&&c.push(u(n+i,r,n+i,r+o,{color:t.borderRightColor.toString(),lineWidth:t.borderRightWidth,lineStyle:t.borderRightStyle,rotate:t.rotate,center:a})),c.forEach((function(t){t&&e.draw(t)}))}(n,e)}function f(t,e,r){var n=t.getText();if(null!=n&&""!==n){var i=t.getStyle(),o=i.top,a=i.left,c=i.width,s=i.height,u=i.textAlign,l=i.verticalAlign,f=i.color;e.draw({type:"text",text:n+"",x:a,y:o,width:c,height:s,options:Object.assign(Object.assign(Object.assign({},i),{wrap:"wrap",textAlign:u||"center",verticalAlign:l||"middle",color:"".concat(f),clip:!0}),function(t){return t.props?t.props.overflowConfig:{}}(t))},r)}}function h(t,e,r,n){for(var o=[Object(i.a)(t)];0<o.length;){var a=o.shift();a&&(l(a,e,r),f(a,e,n),o=o.concat(a.getChildren()||[]))}}r(29)},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,r){e&&n(t.prototype,e)}(o,[{key:"add",value:function(t){var e=this.registry,r=t.options.index;if(-1===e.indexOf(t))if(0===e.length||r>=this.index)e.push(t);else for(var n=0;n<e.length;n++)if(e[n].options.index>r)return void e.splice(n,0,t)}},{key:"reset",value:function(){this.registry=[]}},{key:"remove",value:function(t){var e=this.registry.indexOf(t);this.registry.splice(e,1)}},{key:"toString",value:function(t){return this.registry.filter((function(t){return t.attached})).map((function(e){return e.toString(t)})).join("\n")}},{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.registry=[]}e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n,i=(n=r(48))&&n.__esModule?n:{default:n};e.default=function(t){return t&&t[i.default]&&t===t[i.default]()}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){t.renderable=e,t.rules&&e.cssRules&&t.rules.link(e.cssRules)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(r(8)),i=(o(r(27)),o(r(50)));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(){var t=0;return function(e,r){1e10<(t+=1)&&(0,n.default)(!1,"[JSS] You might have a memory leak. Rule counter is at %s.",t);var o="c",a="";return r&&(o=r.options.classNamePrefix||"c",null!=r.options.jss.id&&(a+=r.options.jss.id)),""+o+i.default+a+t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=c(r(25)),a=c(r(10));function c(t){return t&&t.__esModule?t:{default:t}}var s=(function(t,e,r){e&&i(t.prototype,e),r&&i(t,r)}(u,[{key:"attach",value:function(){return this.attached||(this.deployed||this.deploy(),this.renderer.attach(),!this.linked&&this.options.link&&this.link(),this.attached=!0),this}},{key:"detach",value:function(){return this.attached&&(this.renderer.detach(),this.attached=!1),this}},{key:"addRule",value:function(t,e,r){var n=this.queue;this.attached&&!n&&(this.queue=[]);var i=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed&&(n?n.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0))):this.deployed=!1,i}},{key:"insertRule",value:function(t){var e=this.renderer.insertRule(t);e&&this.options.link&&(0,o.default)(t,e)}},{key:"addRules",value:function(t,e){var r=[];for(var n in t)r.push(this.addRule(n,t[n],e));return r}},{key:"getRule",value:function(t){return this.rules.get(t)}},{key:"deleteRule",value:function(t){var e=this.rules.get(t);return!!e&&(this.rules.remove(e),!this.attached||!e.renderable||this.renderer.deleteRule(e.renderable))}},{key:"indexOf",value:function(t){return this.rules.indexOf(t)}},{key:"deploy",value:function(){return this.renderer.deploy(),this.deployed=!0,this}},{key:"link",value:function(){var t=this.renderer.getRules();return t&&this.rules.link(t),this.linked=!0,this}},{key:"toString",value:function(t){return this.rules.toString(t)}}]),u);function u(t,e){var r=this;for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),this.update=function(t,e){return"string"==typeof t?r.rules.update(t,e):r.rules.update(t),r},this.attached=!1,this.deployed=!1,this.linked=!1,this.classes={},this.options=n({},e,{sheet:this,parent:this,classes:this.classes}),this.renderer=new e.Renderer(this),this.rules=new a.default(this.options),t)this.rules.add(i,t[i]);this.rules.process()}e.default=s},function(t,e,r){var n=r(68),i=r(69);t.exports=function(t,e,r){var o=e&&r||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null);var a=(t=t||{}).random||(t.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var c=0;c<16;++c)e[o+c]=a[c];return e||i(a)}},function(t,e){},function(t,e,r){"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},function(t,e,r){"use strict";var n=r(4),i=r(81),o=r(83),a=r(84),c=r(85),s=r(32),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||r(86);t.exports=function(t){return new Promise((function(e,l){var f=t.data,h=t.headers;n.isFormData(f)&&delete h["Content-Type"];var p=new XMLHttpRequest,d="onreadystatechange",y=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in p||c(t.url)||(p=new window.XDomainRequest,d="onload",y=!0,p.onprogress=function(){},p.ontimeout=function(){}),t.auth){var v=t.auth.username||"",g=t.auth.password||"";h.Authorization="Basic "+u(v+":"+g)}if(p.open(t.method.toUpperCase(),o(t.url,t.params,t.paramsSerializer),!0),p.timeout=t.timeout,p[d]=function(){if(p&&(4===p.readyState||y)&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:t.responseType&&"text"!==t.responseType?p.response:p.responseText,status:1223===p.status?204:p.status,statusText:1223===p.status?"No Content":p.statusText,headers:r,config:t,request:p};i(e,l,n),p=null}},p.onerror=function(){l(s("Network Error",t,null,p)),p=null},p.ontimeout=function(){l(s("timeout of "+t.timeout+"ms exceeded",t,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var b=r(87),m=(t.withCredentials||c(t.url))&&t.xsrfCookieName?b.read(t.xsrfCookieName):void 0;m&&(h[t.xsrfHeaderName]=m)}if("setRequestHeader"in p&&n.forEach(h,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete h[e]:p.setRequestHeader(e,t)})),t.withCredentials&&(p.withCredentials=!0),t.responseType)try{p.responseType=t.responseType}catch(d){if("json"!==t.responseType)throw d}"function"==typeof t.onDownloadProgress&&p.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){p&&(p.abort(),l(t),p=null)})),void 0===f&&(f=null),p.send(f)}))}},function(t,e,r){"use strict";var n=r(82);t.exports=function(t,e,r,i,o){var a=new Error(t);return n(a,e,r,i,o)}},function(t,e,r){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,r){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},function(t,e,r){(function(t){var r,n,i,o;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}window,o=function(){return r={},t.m=e=[function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Resizable=void 0;var n=["e","w","n","s","nw","ne","sw","se"];e.Resizable=function(){function t(t,e){this.element=t,this.document=t.ownerDocument,this.options=e||{},this.createHandles()}var e=t.prototype;return e.setPosition=function(t,e){this.element.style.top=t+"px",this.element.style.left=e+"px"},e.createHandles=function(){var t=this,e=this.options.handles;(void 0===e?n:e).filter((function(t){return n.includes(t)})).forEach((function(e){t.createHandle(e)}))},e.createHandle=function(t){var e=this,r=this.options.threshold,n=void 0===r?10:r;this.element.style.position="absolute";var i=this.document.createElement("div");i.className+="resizable-handle-"+t,i.style.position="absolute";var o=this.getStyleByDirection(t,n),a=o.left,c=o.right,s=o.width,u=o.height,l=o.top,f=o.bottom,h=o.cursor;i.style.left=a,i.style.right=c,i.style.width=s,i.style.height=u,i.style.top=l,i.style.bottom=f,i.style.cursor=h,this.element.appendChild(i),i.onmousedown=function(r){var n=r.x,i=r.y,o=e.element.style,a=o.width,c=o.height,s=e.element,u=s.offsetTop,l=s.offsetLeft;e.getChilds().forEach((function(t){t.style.pointerEvents="none"})),e.document.onmousemove=function(r){var o=r.x,s=r.y;e.resize(t,{baseX:n,baseY:i,width:a,height:c,offsetTop:u,offsetLeft:l,x:o,y:s})},e.document.onmouseup=function(){e.document.onmousemove=null,e.document.onmouseup=null,e.getChilds().forEach((function(t){t.style.pointerEvents="auto"}))}}},e.getChilds=function(){return[].slice.call(this.element.children).filter((function(t){return!t.className.includes("resizable-handle")}))},e.resize=function(t,e){var r=this,n=e.baseX,i=e.baseY,o=e.width,a=e.height,c=e.x,s=e.y,u=e.offsetTop,l=e.offsetLeft;t.split("").forEach((function(t){switch(t){case"e":r.element.style.width=parseFloat(o)+(c-n)+"px";break;case"w":r.element.style.width=parseFloat(o)+(n-c)+"px",r.element.style.left=l-(n-c)+"px";break;case"n":r.element.style.height=parseFloat(a)+(i-s)+"px",r.element.style.top=u-(i-s)+"px";break;case"s":r.element.style.height=parseFloat(a)+(s-i)+"px"}}))},e.getStyleByDirection=function(t,e){switch(t){case"e":return{left:"auto",right:"-".concat(e/2,"px"),width:e+"px",height:"auto",top:"0px",bottom:"0px",cursor:"e-resize"};case"w":return{left:"-".concat(e/2,"px"),right:"auto",width:e+"px",height:"auto",top:"0px",bottom:"0px",cursor:"w-resize"};case"n":return{left:"0px",right:"0px",width:"auto",height:e+"px",top:"-".concat(e/2,"px"),bottom:"auto",cursor:"n-resize"};case"s":return{left:"0px",right:"0px",width:"auto",height:e+"px",top:"auto",bottom:"-".concat(e/2,"px"),cursor:"s-resize"};case"nw":return{left:"-".concat(e/2,"px"),right:"auto",width:e+"px",height:e+"px",top:"-".concat(e/2,"px"),bottom:"auto",cursor:"nw-resize"};case"ne":return{left:"auto",right:"-".concat(e/2,"px"),width:e+"px",height:e+"px",top:"-".concat(e/2,"px"),bottom:"auto",cursor:"ne-resize"};case"sw":return{left:"-".concat(e/2,"px"),right:"auto",width:e+"px",height:e+"px",top:"auto",bottom:"-".concat(e/2,"px"),cursor:"sw-resize"};case"se":return{left:"auto",right:"-".concat(e/2,"px"),width:e+"px",height:e+"px",top:"auto",bottom:"-".concat(e/2,"px"),cursor:"se-resize"};default:return{}}},t}()}],t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==a(e)&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var i in e)t.d(n,i,function(t){return e[t]}.bind(null,i));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=0);function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var e,r},"object"==a(e)&&"object"==a(t)?t.exports=o():(n=[],void 0===(i="function"==typeof(r=o)?r.apply(e,n):r)||(t.exports=i))}).call(this,r(96)(t))},function(t,e,r){},function(t,e,r){"use strict";function n(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}r.d(e,"a",(function(){return n}))},function(t,e,r){"use strict";e.a=function(){return!1}},function(t,e,r){"use strict";(function(t){var n=r(3);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o="object"==("undefined"==typeof exports?"undefined":i(exports))&&exports&&!exports.nodeType&&exports,a=o&&"object"==i(t)&&t&&!t.nodeType&&t,c=a&&a.exports===o?n.a.Buffer:void 0,s=c?c.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=s?s(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(15)(t))},function(t,e,r){function n(t){return h({exact:!0}).test(t)}function i(t){return p({exact:!0}).test(t)}function o(t){return d({exact:!0}).test(t)}function a(t){return y({exact:!0}).test(t)}function c(t){return v({exact:!0}).test(t)}function s(t){return g.hasOwnProperty(t)}function u(t){return"inherit"===t}function l(t){return"currentColor"===t||"currentcolor"===t}function f(t){return"transparent"===t}var h=r(70),p=r(71),d=r(72),y=r(73),v=r(74),g=r(75);t.exports=function(t){return n(t)||i(t)||o(t)||a(t)||c(t)||s(t)||u(t)||l(t)||f(t)},t.exports.isRgb=n,t.exports.isRgba=i,t.exports.isHsl=o,t.exports.isHsla=a,t.exports.isHex=c,t.exports.isKeyword=s,t.exports.isInherit=u,t.exports.isCurrentColor=l,t.exports.isTransparent=f},function(t,e){t.exports=function(t){return/^(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset)$/i.test(t)}},function(t,e,r){"use strict";var n=r(0),i=r(11);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function c(t,e,r){var o=Object(n.l)();return t.width=Math.round(e*o),t.height=Math.round(r*o),Object(i.b)(t).offset({width:t.width/o,height:t.height/o}),t.getContext("2d").setTransform(o,0,0,o,0,0),t}var s=function(){function t(t,e){var r=Object(n.l)();this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.ctx.setTransform(r,0,0,r,0,0)}var e=t.prototype;return e.drawText=function(t,e,r,n,i,o){this.text(t,e,r,n,i,o)},e.wrapText=function(t,e){var r=this,i=t.text,o=t.x,a=t.y,c=t.width,s=t.height,u=t.lineHeight,l=t.options;this.ctx.save();var f=l.verticalAlign,h=l.clip,p=l.fontStyle,d=l.fontWeight,y=l.fontFamily,v=l.verticalText,g=l.textAlign,b=(function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}}(l,["verticalAlign","clip","fontStyle","fontWeight","fontFamily","verticalText","textAlign"]),l.fontSize);h&&(this.ctx.beginPath(),this.ctx.rect(o,a,c,s),this.ctx.clip(),this.ctx.beginPath()),Object(n.J)(this.ctx,{fontFamily:y,fontSize:b,fontStyle:p,fontWeight:d}),u=u||1.2*parseFloat(b);var m=[],w=this.makeLineTextOpts(b,i,o,a,c,s,u,l);if(m=w.textOpts,b=w.fontSize,u=w.lineHeight,"VERTICAL_TEXT"===v){var O=u*m.length;m.forEach((function(t,i){var o=t.text,a=t.width,s=t.height,l=t.options,h=t.x,v=t.y;switch(g){case"left":break;case"center":h+=(c-O)/2;break;case"right":h+=c-O;break;case"distributed":h+=(c-O)/(m.length-1)*i}var w=Math.floor(s/u);switch(f){case"middle":v+=Math.floor((w-o.length)/2)*u;break;case"bottom":v+=(w-o.length)*u}if(r.textVertical(o,h,v,a,s,Object.assign(Object.assign({},l),{verticalAlign:f,fontFamily:y,fontSize:b,fontWeight:d,fontStyle:p,lineHeight:u,clip:!1}),e),0===i){var x=m.reduce((function(t,e){return Math.max(t,e.text.length)}),0),E=m.length,j=Object(n.s)({fontFamily:y,fontSize:b}),S=j.baseline;j.middle,v=1===E?v:t.y;for(var C=0;C<x;C++)v+=u,r.drawUnderline(h,v-u/4+parseFloat(S),h+a*E,v-u/4+parseFloat(S),l),r.drawStrikeThrough(h,v-u/4+parseFloat(b)/10,h+a*E,v-u/4+parseFloat(b)/10,l)}}))}else{var x=u*m.length;m.forEach((function(t){var n=t.text,i=t.x,o=t.width,a=t.height,c=t.options,l=t.y;switch(f){case"top":break;case"middle":l+=0<s-x?(s-x)/2:2;break;case"bottom":l+=0<s-x?s-x:2}r.text(n,i,l,o,a,Object.assign(Object.assign({},c),{verticalAlign:"middle",fontFamily:y,fontSize:b,fontWeight:d,fontStyle:p,lineHeight:u,clip:!1}),e)}))}this.ctx.restore()},e.drawLine=function(t,e,r,n,i){var o=i.color,a=i.lineWidth,c=i.lineStyle,s=i.lineDash;if(0!==a&&"none"!==c){switch(this.ctx.save(),o&&(this.ctx.strokeStyle=o),a&&(this.ctx.lineWidth=a),c){case"solid":break;case"dashed":this.ctx.setLineDash(s);break;case"dotted":this.ctx.setLineDash([1,1]);break;case"double":return this.ctx.lineWidth=a/2,this.drawDoubleLine({x:t,y:e,x1:r,y1:n}),void this.ctx.restore()}this.ctx.beginPath(),this.linePath([[t,e],[r,n]]),this.ctx.restore()}},e.drawDoubleLine=function(t){var e=t.x,r=t.y,n=t.x1,i=t.y1,o=n-e,a=i-r,c=Math.sqrt(o*o+a*a),s=1*-a/c,u=1*o/c;this.ctx.beginPath(),this.linePath([[e+s,r+u],[n+s,i+u]]),this.linePath([[e-s,r-u],[n-s,i-u]])},e.drawRect=function(t,e,r,i,a){this.ctx.save();var c=a.color,s=void 0===c?"#fff":c,u=a.fillColor,l=a.lineWidth,f=void 0===l?0:l,h=a.linearGradient,p=a.radiusConfig,d=u;if(this.ctx.beginPath(),p?this.drawRadiusRect(t,e,r,i,p):this.ctx.rect(t,e,r,i),this.ctx.closePath(),h){var y=h.degree,v=h.stops,g=o(Object(n.p)(y,r,i),2),b=o(g[0],2),m=b[0],w=b[1],O=o(g[1],2),x=O[0],E=O[1],j=this.ctx.createLinearGradient(t+m,e+w,t+x,e+E);return v.forEach((function(t){j.addColorStop(t.per,t.color)})),this.ctx.fillStyle=j,this.ctx.fill(),this.ctx.restore()}d&&(this.ctx.fillStyle=d,this.ctx.fill()),f&&(this.ctx.strokeStyle=s,this.ctx.lineWidth=f,this.ctx.stroke()),this.ctx.restore()},e.drawRadiusRect=function(t,e,r,n,i){var o=i.radius,a=i.tlRadius,c=i.trRadius,s=i.blRadius,u=i.brRadius,l=Math.floor(Math.min(n/2,o)),f=Math.floor(Math.min(r/2,o));this.ctx.moveTo(t,e+l),a?this.ctx.quadraticCurveTo(t,e,t+f,e):this.ctx.lineTo(t,e),this.ctx.lineTo(t+r-f,e),c?this.ctx.quadraticCurveTo(t+r,e,t+r,e+l):this.ctx.lineTo(t+r,e),this.ctx.lineTo(t+r,e+n-l),u?this.ctx.quadraticCurveTo(t+r,e+n,t+r-f,e+n):this.ctx.lineTo(t+r,e+n),this.ctx.lineTo(t+f,e+n),s?this.ctx.quadraticCurveTo(t,e+n,t,e+n-l):this.ctx.lineTo(t,e+n),this.ctx.lineTo(t,e+l)},e.drawBias=function(t,e,r,i,a,c,s){var u=this;this.ctx.save();var l=s.fontSize,f=void 0===l?"9px":l,h=s.color,p=void 0===h?"#000000":h,d=s.fontWeight,y=void 0===d?400:d,v=s.fontFamily,g=void 0===v?"sans-serif":v,b=s.fontStyle,m=void 0===b?"normal":b,w={fontSize:f,color:p,fontWeight:y,fontFamily:g},O=1.3*parseFloat(f),x=Object(n.o)(t,e,r,i,a,c.length-1);this.ctx.beginPath(),this.ctx.rect(t,e,r,i),this.ctx.clip(),Object(n.J)(this.ctx,{fontFamily:g,fontSize:f,fontStyle:m,fontWeight:y}),x.forEach((function(n,l){var f=o(n,2),h=f[0],d=f[1];if(u.drawLine(h[0],h[1],d[0],d[1],{color:p,lineWidth:1}),0===l){var y=O,v=[];if(i<y)return;for(;y<=i;){var g=null;if(a){var b=Math.abs((d[0]-h[0])/(d[1]-h[1]))*(i-y);g={x:t,y:e+y-O,width:b,height:O}}else{var m=Math.abs((d[0]-h[0])/(d[1]-h[1]))*y;g={x:t+m,y:e+y-O,width:r-m,height:O}}v.push(g),y+=O}for(var E=(c[0]+"").split(""),j="",S=0,C=[],P=0;P<E.length;P++){var I=j+E[P],B=u.ctx.measureText(I).width;if(u.ctx.measureText(j).width>v[S].width)break;if(B>v[S].width){if(u.text(j,v[S].x,v[S].y,v[S].width,v[S].height,Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"})),C.push(Object.assign(Object.assign({x:v[S].x,y:v[S].y+v[S].height/2},v[S]),{text:j,options:s})),j=E[P],!v[++S])break}else j=I}j&&v[S]&&u.ctx.measureText(j).width<=v[S].width&&u.text(j,v[S].x,v[S].y,v[S].width,v[S].height,Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"}))}if(l===x.length-1){for(var T=i-O,_=[];0<=T;){var k=null;if(a){var N=Math.abs((d[0]-h[0])/(d[1]-h[1]))*(T+e-d[1]);k={x:t+r-N,y:e+T,width:N,height:O}}else{var A=Math.abs((d[0]-h[0])/(d[1]-h[1]))*T;k={x:t,y:e+T,width:A,height:O}}_.push(k),T-=O}for(var V=u.ctx.measureText(c[c.length-1]+"").width,D=Math.floor(_.length/2),R=_.length%2==1?_[D].width:_[D].width+_[_.length-D-1].width;R<V&&D<_.length-1;)R+=_[++D].width+_[_.length-D-1].width;var L=[],M=!0;for(_.reverse();M;){var z=(c[c.length-1]+"").split(""),H="",W=_.length-D-1;L=[];for(var F=0;F<z.length;F++){var G=H+z[F];if(u.ctx.measureText(G).width>_[W].width){if(L.push({text:H,x:_[W].x,y:_[W].y,width:_[W].width,height:_[W].height,options:Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"})}),H=z[F],!_[++W])break}else H=G}H&&W<_.length&&L.push({text:H,x:_[W].x,y:_[W].y,width:_[W].width,height:_[W].height,options:Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"})}),H&&W>=_.length||H&&u.ctx.measureText(H).width>_[W].width?D++:M=!1,D>=_.length&&(M=!1)}L.forEach((function(t){var e=t.text,r=t.x,n=t.y,i=t.width,o=t.height,a=t.options;u.text(e,r,n,i,o,a)}))}if(0!==l&&2<c.length){var U=x[l-1];if(a){var Y=Math.atan(Math.abs((U[1][1]-U[0][1])/(U[1][0]-U[0][0]))),X=Math.atan(Math.abs((n[1][1]-n[0][1])/(n[1][0]-n[0][0]))),q=Math.abs(O/2/Math.sin((X-Y)/2));u.ctx.save(),u.ctx.translate(t+Math.cos(Y)*q,e+i-Math.sin(Y)*q),u.ctx.rotate(-(Y+(X-Y)/2)),u.text(c[l]+"",0,0,u.ctx.measureText(c[l]+"").width,O,Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"})),u.ctx.restore()}else{var K=Math.atan((U[1][1]-U[0][1])/(U[1][0]-U[0][0])),$=Math.atan((n[1][1]-n[0][1])/(n[1][0]-n[0][0])),J=O/2/Math.sin(($-K)/2);u.ctx.save(),u.ctx.translate(t+Math.cos(K)*J,e+Math.sin(K)*J),u.ctx.rotate(K+($-K)/2),u.text(c[l]+"",0,0,u.ctx.measureText(c[l]+"").width,O,Object.assign(Object.assign({},w),{textAlign:"left",verticalAlign:"middle"})),u.ctx.restore()}}})),this.ctx.restore()},e.drawCurrencyLine=function(t,e,r,n,i,o,a){function c(t,r){s.drawLine(r+f,e,r+f,e+n,{color:t,lineWidth:1})}var s=this,u=i.intPart,l=u+i.deciPart,f=r/l,h=o.split(".")[0];o=o.replace(".","");for(var p=h.length<u?u-h.length:0,d=0;d<l;d++){var y=d-p;if(0<=y&&o.length>y){var v=o.substring(y,1+y);a.textAlign="center",this.text(v,t,e,f,n,a)}d+1===l||c(d+1===u?"#fe1713":(d+1)%3==0?"#2df713":"#8e877e",t),t+=f}},e.drawSelf=function(t,e,r,i,o,a){if(0!==o&&0!==a){var c=Object(n.l)();t*=c,e*=c,r*=c,i*=c,o*=c,a*=c,o=Math.min(o,this.canvas.width-r,this.canvas.width-t),a=Math.min(a,this.canvas.height-i,this.canvas.height-e),this.ctx.save();var s=this.getCacheCanvas(),u=this.getCacheContext();u.save(),u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,s.width,s.height),u.drawImage(this.canvas,t,e,o,a,r,i,o,a),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(r,i,o,a),this.ctx.drawImage(s,r,i,o,a,r,i,o,a),u.restore(),this.ctx.restore()}},e.drawImage=function(t,e,r,n,i,o,a){var c=5<arguments.length&&void 0!==o?o:"center",s=6<arguments.length&&void 0!==a?a:{};switch(this.ctx.save(),this.ctx.beginPath(),s.radiusConfig?this.drawRadiusRect(e,r,n,i,s.radiusConfig):this.ctx.rect(e,r,n,i),this.ctx.clip(),"default"===c&&(c=t.width>n||t.height>i?"repeat":"center"),t.width===n&&t.height===i&&(this.ctx.imageSmoothingEnabled=!1),c){case"center":this.ctx.drawImage(t,0,0,t.width,t.height,e+(n-t.width||1)/2,r+(i-t.height||1)/2,t.width,t.height);break;case"stretch":this.ctx.drawImage(t,0,0,t.width,t.height,e,r,n,i);break;case"adapt":var u=i*(t.width/t.height),l=n*(t.height/t.width);u<=n?this.ctx.drawImage(t,e+(n-u)/2,r,u,i):l<=i&&this.ctx.drawImage(t,e,r+(i-l)/2,n,l);break;case"repeat":var f=this.ctx.createPattern(t,"repeat");this.ctx.fillStyle=f,this.ctx.translate(e,r),this.ctx.fillRect(0,0,n,i)}this.ctx.restore()},e.draw=function(t,e){var r=t.type,n=t.x,i=t.y,o=t.x1,a=t.y1,c=t.text,s=t.width,u=t.height,l=t.image,f=t.imageLayout,h=t.options;switch(r){case"text":var p=h.wrap,d=h.lineHeight;"wrap"===p?this.wrapText({text:c,x:n,y:i,width:s,height:u,lineHeight:parseFloat(d),options:h},e):this.drawText(c,n,i,s,u,h);break;case"rect":this.drawRect(n,i,s,u,h);break;case"line":this.drawLine(n,i,o,a,h);break;case"image":this.drawImage(l,n,i,s,u,f)}},e.clear=function(t,e,r,n){var i=0<arguments.length&&void 0!==t?t:0,o=1<arguments.length&&void 0!==e?e:0,a=2<arguments.length&&void 0!==r?r:this.canvas.clientWidth,c=3<arguments.length&&void 0!==n?n:this.canvas.clientHeight;this.ctx.clearRect(i,o,a,c)},e.clip=function(t,e,r,n,i){if(0===r||0===n)return i&&i();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(t,e,r,n),this.ctx.clip(),i&&i(),this.ctx.restore()},e.getDefaultFont=function(){var t=window.getComputedStyle(this.canvas);return"".concat(t.fontStyle," ").concat(t.fontWeight," ").concat(t.fontSize," ").concat(t.fontFamily)},e.resize=function(t,e){c(this.canvas,t,e),this.cacheCanvas&&c(this.cacheCanvas,t,e)},e.linePath=function(t){if(1<t.length){var e=o(t[0],2),r=e[0],n=e[1];this.ctx.moveTo(r,n);for(var i=1;i<t.length;i++)this.ctx.lineTo(t[i][0],t[i][1]);this.ctx.stroke()}},e.text=function(t,e,r,i,o,a,c){var s=this;this.ctx.save();var u=r,l=a.clip,f=a.color,h=void 0===f?"":f,p=a.verticalAlign,d=a.textAlign,y=a.fontWeight,v=void 0===y?400:y,g=a.fontSize,b=void 0===g?"12px":g,m=a.fontFamily,w=void 0===m?"sans-serif":m,O=a.fontStyle,x=void 0===O?"normal":O,E=a.textShadow,j=a.subscript,S=a.supscript,C=a.lineHeight,P=a.rotate;h&&(this.ctx.fillStyle=h),Object(n.J)(this.ctx,{fontFamily:w,fontSize:b,fontStyle:x,fontWeight:v}),l&&(this.ctx.beginPath(),this.ctx.rect(e,r,i,o),this.ctx.clip()),E&&(this.ctx.shadowColor=E.shadowColor,this.ctx.shadowOffsetX=E.shadowOffsetX,this.ctx.shadowOffsetY=E.shadowOffsetY,this.ctx.shadowBlur=E.shadowBlur);var I=this.ctx.measureText(t),B=Object(n.s)({fontFamily:w,fontSize:b}),T=B.baseline,_=(B.middle,I.width);if(P){var k=function(t){var e=t.rotate,r=t.x,n=t.y,i=t.width,o=t.height,a=t.textAlign,c=t.boundsWidth,s=t.baseline,u=n+o/2-c/2,l=n+o/2+c/2;return Math.abs(e)<80||"center"===a?{baseX:r+i/2-s,baseY:n+o/2,textBaseline:0<e?"top":"bottom",textAlign:"center"}:"left"===a?{baseX:r,baseY:e<0?u:l,textBaseline:0<e?"top":"bottom",textAlign:a}:"right"===a?{baseX:r+i,baseY:e<0?l:u,textBaseline:0<e?"bottom":"top",textAlign:a}:{baseX:r,baseY:n,textBaseline:"bottom",textAlign:"left"}}({x:e,y:r,width:i,height:o,rotate:P,textAlign:d,boundsWidth:I.width,baseline:T}),N=k.baseX,A=k.baseY,V=k.textBaseline,D=k.textAlign;this.ctx.textAlign=D,this.ctx.translate(N,A),this.ctx.textBaseline=V,this.ctx.rotate(-P*Math.PI/180),this.ctx.fillText(t,0,0)}else{if(S)this.ctx.textBaseline="top",r-=o/2-T;else if(j)this.ctx.textBaseline="bottom",r=r+o+(o/2-T);else switch(p){case"top":this.ctx.textBaseline="top";break;case"middle":this.ctx.textBaseline="middle",r+=o/2;break;case"bottom":this.ctx.textBaseline="bottom",r+=o}switch(d){case"center":e=e+i/2-I.width/2;break;case"left":e=e;break;case"right":e=e+i-I.width}if("distributed"===d&&1<t.length){var R=(i-I.width)/(t.length-1),L=e;t.split("").forEach((function(t){s.ctx.fillText(t,L,r),c&&c({text:t,x:L,y:u,width:s.ctx.measureText(t).width,height:C}),L=L+s.ctx.measureText(t).width+R})),_=i}else{var M=e;(t+"").split("").forEach((function(t){c&&c({text:t,x:M,y:u,width:s.ctx.measureText(t).width,height:C}),M+=s.ctx.measureText(t).width})),this.ctx.fillText(t,e,r)}}this.drawUnderline(e,r+parseFloat(T),e+_,r+parseFloat(T),a),this.drawStrikeThrough(e,r+parseFloat(b)/20,e+_,r+parseFloat(b)/20,a),this.ctx.restore()},e.getVisualRangeText=function(t,e,r){if(this.ctx.measureText(t).width<e)return t;var n=this;return function i(o,a){var c=Math.floor((o+a)/2),s=t.substring(0,c)+r,u=t.substring(0,c+1)+r;return n.ctx.measureText(s).width>=e?i(o,a=c-1):n.ctx.measureText(u).width>=e?s:i(o=c+1,a)}(0,t.length)},e.textVertical=function(t,e,r,n,i,o,a){var c=this;this.ctx.save();var s=o.lineHeight,u=o.color,l=o.textShadow;u&&(this.ctx.fillStyle=u),l&&(this.ctx.shadowColor=l.shadowColor,this.ctx.shadowOffsetX=l.shadowOffsetX,this.ctx.shadowOffsetY=l.shadowOffsetY,this.ctx.shadowBlur=l.shadowBlur),t.split("").forEach((function(t){var i=c.ctx.measureText(t);r+=s,c.ctx.fillText(t,e+n/2-i.width/2,r),a&&a({word:t,x:e+n/2-i.width/2,y:r-2*s/3,width:i.width,height:s})})),this.ctx.restore()},e.drawUnderline=function(t,e,r,n,i){var o=i.underline;o&&0<o.width&&this.drawLine(t,e,r,n,{lineWidth:o.width,color:o.color,lineDash:o.dash,lineStyle:o.style})},e.drawStrikeThrough=function(t,e,r,n,i){var o=i.strikeThrough,a=i.fontSize,c=i.color;"solid"===o&&this.drawLine(t,e,r,n,{lineWidth:parseFloat(a)/10,color:c})},e.getCacheCanvas=function(){if(!this.cacheCanvas){var t=Object(n.l)();this.cacheCanvas=document.createElement("canvas"),this.cacheCanvas.width=this.canvas.width,this.cacheCanvas.height=this.canvas.height,this.cacheCanvas.getContext("2d").setTransform(t,0,0,t,0,0)}return this.cacheCanvas},e.getCacheContext=function(){return this.getCacheCanvas().getContext("2d")},e.makeLineTextOpts=function(t,e,r,n,i,o,a,c){var s=[],u=0;switch(c.newLine){case"SINGLE_LINE_ADJUST_FONT":o<1.2*(u=i/this.ctx.measureText(e).width*parseFloat(t))+10&&(u=(o-10)/1.2),t="".concat(u,"px"),s=[{text:e,x:r,y:n,width:i,height:a=1.2*u,options:c}];break;case"MULTI_LINE_ADJUST_FONT":u=parseFloat(t)/(128/72);var l=i*(128/72);a=o/(s=this.makeTextOpts(e,r,n,l,o,a,c)).length,(s=this.makeTextOpts(e,r,n,l,o,a,c)).forEach((function(t){t.width=i})),t="".concat(u,"px");break;default:s=this.makeTextOpts(e,r,n,i,o,a,c)}return{textOpts:s,fontSize:t,lineHeight:a}},e.makeVerticalWrap=function(t,e,r,i,o,a,c){var s=c.newLine,u=c.verTextDirection,l=c.autoWrapInfo,f=a,h=[];if("SINGLE_LINE"===s)return[{text:t.substring(0,l[0]),x:e,y:r,width:f,height:o,options:c}];var p=Object(n.k)(t,l);return"RIGHT_TO_LEFT"===u&&(p=p.reverse()),p.forEach((function(t){h.push({text:t,x:e,y:r,width:f,height:o,options:c}),e+=a})),h},e.makeVerticalOpts=function(t,e,r,n,i,o,a){var c=a.newLine,s=a.verTextDirection,u=Math.floor(i/o),l=[],f=o;if("SINGLE_LINE"===c)return[{text:t.substring(u),x:e,y:r,width:f,height:i,options:a}];var h=[];return t.split("\n").forEach((function(t){for(var e=t;""!==e;)e=e.length>u?(h.push(e.substring(0,u)),e.substring(u)):(h.push(e),"")})),"RIGHT_TO_LEFT"===s&&(h=h.reverse()),h.forEach((function(t){l.push({text:t,x:e,y:r,width:f,height:i,options:a}),e+=o})),l},e.makeSingleLineOpts=function(t,e,r,n,i,o,a){var c=a.overflowHide,s=a.hideType,u=a.appendTailStr,l=a.hideStrLength,f=t.split("\\n")[0];if(c)switch(s){case"CHAR_LENGTH":f=f.length<=l?f:f.substring(0,l)+u;break;case"CELL_WIDTH":f=this.getVisualRangeText(f,n,u)}else f=this.getVisualRangeText(f,n,"");return[this.newLine(f,e,r,n,i,o,a)]},e.newLine=function(t,e,r,n,i,o,a){return{text:t,x:e,y:r,width:n,height:o,options:a}},e.makeTextOpts=function(t,e,r,n,i,o,a){return a.autoWrapInfo?this.makeTextOptsByWrapInfo(t,e,r,n,i,o,a):this.makeTextOptsByWrapAuto(t,e,r,n,i,o,a)},e.makeTextOptsByWrapInfo=function(t,e,r,i,o,a,c){var s=this,u=c.newLine,l=c.verticalText,f=c.cellJust,h=c.rotate,p=c.autoWrapInfo;if(0!==h)return[this.newLine(t,e,r,i,o,a,c)];if("SINGLE_LINE"===u||"NONE"===f)return[this.newLine(t.substring(0,p[0]),e,r,i,o,a,c)];if("VERTICAL_TEXT"===l)return this.makeVerticalWrap(t,e,r,i,o,a,c);var d=Object(n.k)(t,p),y=[];return d.forEach((function(t){y.push(s.newLine(t,e,r,i,o,a,c)),r+=a})),y},e.makeTextOptsByWrapAuto=function(t,e,r,i,o,a,c){var s=this,u=c.newLine,l=c.verticalText,f=c.cellJust;if(0!==c.rotate)return[this.newLine(t,e,r,i,o,a,c)];if("SINGLE_LINE"===u||"NONE"===f)return this.makeSingleLineOpts(t,e,r,i,o,a,c);if("VERTICAL_TEXT"===l)return this.makeVerticalOpts(t,e,r,i,o,a,c);var h=Object(n.j)(t),p="",d=[];return h.forEach((function(t){var n=p+t,u=s.ctx.measureText(n).width;if("\n"===t)d.push(s.newLine(p,e,r,i,o,a,c)),p="",r+=a;else if(u<=i)p=n;else if(""!==p&&(d.push(s.newLine(p,e,r,i,o,a,c)),p="",r+=a),1<s.ctx.measureText(t).width/i)for(var l=(t+"").split(""),f=0;f<l.length;f++){var h=p+l[f],y=s.ctx.measureText(h).width;p=i<=y?(""!==p&&(d.push(s.newLine(p,e,r,i,o,a,c)),r+=a),l[f]):h}else p=t})),d.push(this.newLine(p,e,r,i,o,a,c)),d},t}(),u=r(16),l=r(2);function f(t,e){var r=Object(l.a)("canvas","sheet-table-canvas"),n=t.offset(),i=e.width,o=void 0===i?n.width:i,a=e.height,c=void 0===a?n.height:a,f=r.el;t.children(f);var h=Object(u.b)();return f.width=o*h,f.height=c*h,r.offset({width:o,height:c}),new s(f,e)}r.d(e,"a",(function(){return f}))},,function(t,e,r){t.exports=r(107)},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)};e.default=function t(e){var r=null;for(var n in e){var o=e[n],a=void 0===o?"undefined":i(o);if("function"===a)(r=r||{})[n]=o;else if("object"===a&&null!==o&&!Array.isArray(o)){var c=t(o);c&&((r=r||{})[n]=c)}}return r}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i,o=(i=r(8))&&i.__esModule?i:{default:i},a=(function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(c,[{key:"get",value:function(t){var e=this.keys.indexOf(t);return this.sheets[e]}},{key:"add",value:function(t,e){var r=this.sheets,n=this.refs,i=this.keys,o=r.indexOf(e);return-1!==o?o:(r.push(e),n.push(0),i.push(t),r.length-1)}},{key:"manage",value:function(t){var e=this.keys.indexOf(t),r=this.sheets[e];return 0===this.refs[e]&&r.attach(),this.refs[e]++,this.keys[e]||this.keys.splice(e,0,t),r}},{key:"unmanage",value:function(t){var e=this.keys.indexOf(t);-1!==e?0<this.refs[e]&&(this.refs[e]--,0===this.refs[e]&&this.sheets[e].detach()):(0,o.default)(!1,"SheetsManager: can't find sheet to unmanage")}},{key:"size",get:function(){return this.keys.length}}]),c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.sheets=[],this.refs=[],this.keys=[]}e.default=a},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)};e.default=function t(e){if(null==e)return e;var r=void 0===e?"undefined":i(e);if("string"===r||"number"===r||"function"===r)return e;if(c(e))return e.map(t);if((0,a.default)(e))return e;var n={};for(var o in e){var s=e[o];"object"!==(void 0===s?"undefined":i(s))?n[o]=s:n[o]=t(s)}return n};var o,a=(o=r(24))&&o.__esModule?o:{default:o},c=Array.isArray},function(t,e,r){"use strict";r.r(e),function(t,n){var i,o=r(37);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:n;var a=Object(o.a)(i);e.default=a}.call(this,r(14),r(15)(t))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),t.CSS,e.default=function(t){return t}}).call(this,r(14))},function(t,e,r){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r="2f1acc6c3a606b082e5eef5e54414ffb";null==t[r]&&(t[r]=0),e.default=t[r]++}).call(this,r(14))},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function a(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var c=m(r(52)),s=m(r(27)),u=m(r(53)),l=m(r(54)),f=m(r(60)),h=m(r(61)),p=m(r(20)),d=m(r(9)),y=m(r(26)),v=m(r(13)),g=m(r(62)),b=m(r(63));function m(t){return t&&t.__esModule?t:{default:t}}var w=l.default.concat([f.default,h.default]),O=0,x=(function(t,e,r){e&&a(t.prototype,e),r&&a(t,r)}(E,[{key:"setup",value:function(t){var e=0<arguments.length&&void 0!==t?t:{};return e.createGenerateClassName&&(this.options.createGenerateClassName=e.createGenerateClassName,this.generateClassName=e.createGenerateClassName()),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),(e.virtual||e.Renderer)&&(this.options.Renderer=e.Renderer||(e.virtual?b.default:g.default)),e.plugins&&this.use.apply(this,e.plugins),this}},{key:"createStyleSheet",value:function(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=r.index;"number"!=typeof n&&(n=0===p.default.index?0:p.default.index+1);var i=new s.default(t,o({},r,{jss:this,generateClassName:r.generateClassName||this.generateClassName,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i}},{key:"removeStyleSheet",value:function(t){return t.detach(),p.default.remove(t),this}},{key:"createRule",value:function(t,e,r){var n=1<arguments.length&&void 0!==e?e:{},o=2<arguments.length&&void 0!==r?r:{};"object"===(void 0===t?"undefined":i(t))&&(o=n,n=t,t=void 0);var a=o;a.jss=this,a.Renderer=this.options.Renderer,a.generateClassName||(a.generateClassName=this.generateClassName),a.classes||(a.classes={});var c=(0,v.default)(t,n,a);return!a.selector&&c instanceof d.default&&(c.selector="."+a.generateClassName(c)),this.plugins.onProcessRule(c),c}},{key:"use",value:function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.forEach((function(e){-1===t.options.plugins.indexOf(e)&&(t.options.plugins.push(e),t.plugins.use(e))})),this}}]),E);function E(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,E),this.id=O++,this.version="9.8.7",this.plugins=new u.default,this.options={createGenerateClassName:y.default,Renderer:c.default?g.default:b.default,plugins:[]},this.generateClassName=(0,y.default)(),this.use.apply(this,w),this.setup(t)}e.default=x},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}r.r(e),r.d(e,"isBrowser",(function(){return o}));var i="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)},o="object"===("undefined"==typeof window?"undefined":i(window))&&"object"===("undefined"==typeof document?"undefined":i(document))&&9===document.nodeType;e.default=o},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i,o=(i=r(8))&&i.__esModule?i:{default:i},a=(function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(c,[{key:"onCreateRule",value:function(t,e,r){for(var n=0;n<this.hooks.onCreateRule.length;n++){var i=this.hooks.onCreateRule[n](t,e,r);if(i)return i}return null}},{key:"onProcessRule",value:function(t){if(!t.isProcessed){for(var e=t.options.sheet,r=0;r<this.hooks.onProcessRule.length;r++)this.hooks.onProcessRule[r](t,e);t.style&&this.onProcessStyle(t.style,t,e),t.isProcessed=!0}}},{key:"onProcessStyle",value:function(t,e,r){for(var n=t,i=0;i<this.hooks.onProcessStyle.length;i++)n=this.hooks.onProcessStyle[i](n,e,r),e.style=n}},{key:"onProcessSheet",value:function(t){for(var e=0;e<this.hooks.onProcessSheet.length;e++)this.hooks.onProcessSheet[e](t)}},{key:"onUpdate",value:function(t,e,r){for(var n=0;n<this.hooks.onUpdate.length;n++)this.hooks.onUpdate[n](t,e,r)}},{key:"onChangeValue",value:function(t,e,r){for(var n=t,i=0;i<this.hooks.onChangeValue.length;i++)n=this.hooks.onChangeValue[i](n,e,r);return n}},{key:"use",value:function(t){for(var e in t)this.hooks[e]?this.hooks[e].push(t[e]):(0,o.default)(!1,'[JSS] Unknown hook "%s".',e)}}]),c);function c(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.hooks={onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(r(55)),i=s(r(56)),o=s(r(57)),a=s(r(58)),c=s(r(59));function s(t){return t&&t.__esModule?t:{default:t}}var u={"@charset":n.default,"@import":n.default,"@namespace":n.default,"@keyframes":i.default,"@media":o.default,"@supports":o.default,"@font-face":a.default,"@viewport":c.default,"@-ms-viewport":c.default},l=Object.keys(u).map((function(t){var e=new RegExp("^"+t),r=u[t];return{onCreateRule:function(t,n,i){return e.test(t)?new r(t,n,i):null}}}));e.default=l},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,r){e&&n(t.prototype,e)}(o,[{key:"toString",value:function(t){if(Array.isArray(this.value)){for(var e="",r=0;r<this.value.length;r++)e+=this.key+" "+this.value[r]+";",this.value[r+1]&&(e+="\n");return e}return this.key+" "+this.value+";"}}]),o);function o(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),this.type="simple",this.isProcessed=!1,this.key=t,this.value=e,this.options=r}e.default=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=(o=r(10))&&o.__esModule?o:{default:o},c=(function(t,e,r){e&&i(t.prototype,e),r&&i(t,r)}(s,[{key:"toString",value:function(t){var e=0<arguments.length&&void 0!==t?t:{indent:1},r=this.rules.toString(e);return r&&(r+="\n"),this.key+" {\n"+r+"}"}}]),s);function s(t,e,r){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.type="keyframes",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new a.default(n({},r,{parent:this})),e)this.rules.add(i,e[i],n({},this.options,{parent:this,selector:i}));this.rules.process()}e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o,a=(o=r(10))&&o.__esModule?o:{default:o},c=(function(t,e,r){e&&i(t.prototype,e),r&&i(t,r)}(s,[{key:"getRule",value:function(t){return this.rules.get(t)}},{key:"indexOf",value:function(t){return this.rules.indexOf(t)}},{key:"addRule",value:function(t,e,r){var n=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(n),n}},{key:"toString",value:function(t){var e=0<arguments.length&&void 0!==t?t:{indent:1},r=this.rules.toString(e);return r?this.key+" {\n"+r+"\n}":""}}]),s);function s(t,e,r){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),this.type="conditional",this.isProcessed=!1,this.key=t,this.options=r,this.rules=new a.default(n({},r,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}e.default=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i,o=(i=r(19))&&i.__esModule?i:{default:i},a=(function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(c,[{key:"toString",value:function(t){if(Array.isArray(this.style)){for(var e="",r=0;r<this.style.length;r++)e+=(0,o.default)(this.key,this.style[r]),this.style[r+1]&&(e+="\n");return e}return(0,o.default)(this.key,this.style,t)}}]),c);function c(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.type="font-face",this.isProcessed=!1,this.key=t,this.style=e,this.options=r}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i,o=(i=r(19))&&i.__esModule?i:{default:i},a=(function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(c,[{key:"toString",value:function(t){return(0,o.default)(this.key,this.style,t)}}]),c);function c(t,e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),this.type="viewport",this.isProcessed=!1,this.key=t,this.style=e,this.options=r}e.default=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(r(9)),i=a(r(13)),o=a(r(24));function a(t){return t&&t.__esModule?t:{default:t}}e.default={onCreateRule:function(t,e,r){if(!(0,o.default)(e))return null;var n=e,a=(0,i.default)(t,{},r);return n.subscribe((function(t){for(var e in t)a.prop(e,t[e])})),a},onProcessRule:function(t){if(t instanceof n.default){var e=t,r=e.style,i=function(t){var n=r[t];if(!(0,o.default)(n))return"continue";delete r[t],n.subscribe({next:function(r){e.prop(t,r)}})};for(var a in r)i(a)}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(r(10)),i=a(r(9)),o=a(r(13));function a(t){return t&&t.__esModule?t:{default:t}}var c=Date.now(),s="fnValues"+c,u="fnStyle"+ ++c;e.default={onCreateRule:function(t,e,r){if("function"!=typeof e)return null;var n=(0,o.default)(t,{},r);return n[u]=e,n},onProcessStyle:function(t,e){var r={};for(var n in t){var i=t[n];"function"==typeof i&&(delete t[n],r[n]=i)}return(e=e)[s]=r,t},onUpdate:function(t,e){if(e.rules instanceof n.default)e.rules.update(t);else if(e instanceof i.default){if((e=e)[s])for(var r in e[s])e.prop(r,e[s][r](t));var o=(e=e)[u];if(o){var a=o(t);for(var c in a)e.prop(c,a[c])}}}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var i=s(r(8)),o=s(r(20)),a=s(r(9)),c=s(r(12));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){var e=void 0;return function(){return e=e||t()}}function l(t,e){try{return t.style.getPropertyValue(e)}catch(t){return""}}function f(t,e,r){try{var n=r;if(Array.isArray(r)&&(n=(0,c.default)(r,!0),"!important"===r[r.length-1]))return t.style.setProperty(e,n,"important"),!0;t.style.setProperty(e,n)}catch(t){return!1}return!0}function h(t,e){try{t.style.removeProperty(e)}catch(t){(0,i.default)(!1,'[JSS] DOMException "%s" was thrown. Tried to remove property "%s".',t.message,e)}}function p(t){if(t.type===d)return t.selectorText;if(t.type!==y)return v(t.cssText);var e=t.name;if(e)return"@keyframes "+e;var r=t.cssText;return"@"+v(r,r.indexOf("keyframes"))}var d=1,y=7;function v(t,e){var r=1<arguments.length&&void 0!==e?e:0;return t.substr(r,t.indexOf("{")-1)}function g(t,e){return t.selectorText=e,t.selectorText===e}var b,m,w=u((function(){return document.head||document.getElementsByTagName("head")[0]})),O=(b=void 0,m=!1,function(t){var e={};b=b||document.createElement("style");for(var r=0;r<t.length;r++){var n=t[r];if(n instanceof a.default){var i=n.selector;if(i&&-1!==i.indexOf("\\")){m||(w().appendChild(b),m=!0),b.textContent=i+" {}";var o=b.sheet;if(o){var c=o.cssRules;c&&(e[c[0].selectorText]=n.key)}}}}return m&&(w().removeChild(b),m=!1),e});function x(t){var e=o.default.registry;if(0<e.length){var r=function(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.attached&&n.options.index>e.index&&n.options.insertionPoint===e.insertionPoint)return n}return null}(e,t);if(r)return r.renderer.element;if(r=function(t,e){for(var r=t.length-1;0<=r;r--){var n=t[r];if(n.attached&&n.options.insertionPoint===e.insertionPoint)return n}return null}(e,t))return r.renderer.element.nextElementSibling}var n=t.insertionPoint;if(n&&"string"==typeof n){var a=function(t){for(var e=w(),r=0;r<e.childNodes.length;r++){var n=e.childNodes[r];if(8===n.nodeType&&n.nodeValue.trim()===t)return n}return null}(n);if(a)return a.nextSibling;(0,i.default)("jss"===n,'[JSS] Insertion point "%s" not found.',n)}return null}var E=u((function(){var t=document.querySelector('meta[property="csp-nonce"]');return t?t.getAttribute("content"):null})),j=(function(t,e,r){e&&n(t.prototype,e),r&&n(t,r)}(S,[{key:"attach",value:function(){!this.element.parentNode&&this.sheet&&(this.hasInsertedRules&&(this.deploy(),this.hasInsertedRules=!1),function(t,e){var r=e.insertionPoint,n=x(e);if(n){var o=n.parentNode;o&&o.insertBefore(t,n)}else if(r&&"number"==typeof r.nodeType){var a=r,c=a.parentNode;c?c.insertBefore(t,a.nextSibling):(0,i.default)(!1,"[JSS] Insertion point is not in the DOM.")}else w().insertBefore(t,n)}(this.element,this.sheet.options))}},{key:"detach",value:function(){this.element.parentNode.removeChild(this.element)}},{key:"deploy",value:function(){this.sheet&&(this.element.textContent="\n"+this.sheet.toString()+"\n")}},{key:"insertRule",value:function(t,e){var r=this.element.sheet,n=r.cssRules,o=t.toString();if(e=e||n.length,!o)return!1;try{r.insertRule(o,e)}catch(e){return(0,i.default)(!1,"[JSS] Can not insert an unsupported rule \n\r%s",t),!1}return this.hasInsertedRules=!0,n[e]}},{key:"deleteRule",value:function(t){var e=this.element.sheet,r=this.indexOf(t);return-1!==r&&(e.deleteRule(r),!0)}},{key:"indexOf",value:function(t){for(var e=this.element.sheet.cssRules,r=0;r<e.length;r++)if(t===e[r])return r;return-1}},{key:"replaceRule",value:function(t,e){var r=this.indexOf(t),n=this.insertRule(e,r);return this.element.sheet.deleteRule(r),n}},{key:"getRules",value:function(){return this.element.sheet.cssRules}}]),S);function S(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,S),this.getPropertyValue=l,this.setProperty=f,this.removeProperty=h,this.setSelector=g,this.getKey=p,this.getUnescapedKeysMap=O,this.hasInsertedRules=!1,t&&o.default.add(t),this.sheet=t;var e=this.sheet?this.sheet.options:{},r=e.media,n=e.meta,i=e.element;this.element=i||document.createElement("style"),this.element.setAttribute("data-jss",""),r&&this.element.setAttribute("media",r),n&&this.element.setAttribute("data-meta",n);var a=E();a&&this.element.setAttribute("nonce",a)}e.default=j},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Object.defineProperty(e,"__esModule",{value:!0});var i=(function(t,e,r){e&&n(t.prototype,e)}(o,[{key:"setProperty",value:function(){return!0}},{key:"getPropertyValue",value:function(){return""}},{key:"removeProperty",value:function(){}},{key:"setSelector",value:function(){return!0}},{key:"getKey",value:function(){return""}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"deploy",value:function(){}},{key:"insertRule",value:function(){return!1}},{key:"deleteRule",value:function(){return!0}},{key:"replaceRule",value:function(){return!1}},{key:"getRules",value:function(){}},{key:"indexOf",value:function(){return-1}}]),o);function o(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o)}e.default=i},function(t,e,r){},function(t,e,r){},function(t,e){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})},function(t,e,r){},function(t,e){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);t.exports=function(){return r(n),n}}else{var i=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),i[e]=t>>>((3&e)<<3)&255;return i}}},function(t,e){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);t.exports=function(t,e){var n=e||0,i=r;return[i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],"-",i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]],i[t[n++]]].join("")}},function(t,e,r){"use strict";t.exports=function(t){return(t=t||{}).exact?/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/:/rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)/gi}},function(t,e,r){"use strict";t.exports=function(t){return(t=t||{}).exact?/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)$/:/rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*(?:\.\d+)?)\)/gi}},function(t,e,r){"use strict";t.exports=function(t){return(t=t||{}).exact?/^hsl\(\s*(\d+)\s*,\s*(\d*(?:\.\d+)?%)\s*,\s*(\d*(?:\.\d+)?%)\)$/:/hsl\(\s*(\d+)\s*,\s*(\d*(?:\.\d+)?%)\s*,\s*(\d*(?:\.\d+)?%)\)/gi}},function(t,e,r){"use strict";t.exports=function(t){return(t=t||{}).exact?/^hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)$/:/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*(\d*(?:\.\d+)?)\)/gi}},function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return(t=t&&"object"===n(t)?t:{}).strict?/^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\b$/i:/#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})\b/gi}},function(t){t.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(t,e,r){"use strict";var n=r(4),i=r(30),o=r(78),a=r(21);function c(t){var e=new o(t),r=i(o.prototype.request,e);return n.extend(r,o.prototype,e),n.extend(r,e),r}var s=c(a);s.Axios=o,s.create=function(t){return c(n.merge(a,t))},s.Cancel=r(34),s.CancelToken=r(93),s.isCancel=r(33),s.all=function(t){return Promise.all(t)},s.spread=r(94),t.exports=s,t.exports.default=s},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,r){"use strict";var n=r(21),i=r(4),o=r(88),a=r(89);function c(t){this.defaults=t,this.interceptors={request:new o,response:new o}}c.prototype.request=function(t,e){"string"==typeof t&&(t=i.merge({url:arguments[0]},e)),(t=i.merge(n,{method:"get"},this.defaults,t)).method=t.method.toLowerCase();var r=[a,void 0],o=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){r.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){r.push(t.fulfilled,t.rejected)}));r.length;)o=o.then(r.shift(),r.shift());return o},i.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,r){return this.request(i.merge(r||{},{method:t,url:e}))}})),i.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,r,n){return this.request(i.merge(n||{},{method:t,url:e,data:r}))}})),t.exports=c},function(t,e){var r,n,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===o||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:o}catch(t){r=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,u=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?u=s.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=c(h);l=!0;for(var e=u.length;e;){for(s=u,u=[];++f<e;)s&&s[f].run();f=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];u.push(new d(t,e)),1!==u.length||l||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},function(t,e,r){"use strict";var n=r(32);t.exports=function(t,e,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?e(n("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}},function(t,e,r){"use strict";t.exports=function(t,e,r,n,i){return t.config=e,r&&(t.code=r),t.request=n,t.response=i,t}},function(t,e,r){"use strict";var n=r(4);function i(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var o;if(r)o=r(e);else if(n.isURLSearchParams(e))o=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}return o&&(t+=(-1===t.indexOf("?")?"?":"&")+o),t}},function(t,e,r){"use strict";var n=r(4),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,o,a={};return t&&n.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=n.trim(t.substr(0,o)).toLowerCase(),r=n.trim(t.substr(o+1)),e){if(a[e]&&0<=i.indexOf(e))return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a}},function(t,e,r){"use strict";var n,i,o,a=r(4);function c(t){var e=t;return i&&(o.setAttribute("href",e),e=o.href),o.setAttribute("href",e),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}t.exports=a.isStandardBrowserEnv()?(i=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a"),n=c(window.location.href),function(t){var e=a.isString(t)?c(t):t;return e.protocol===n.protocol&&e.host===n.host}):function(){return!0}},function(t,e,r){"use strict";function n(){this.message="String contains an invalid character"}(n.prototype=new Error).code=5,n.prototype.name="InvalidCharacterError",t.exports=function(t){for(var e,r,i=String(t),o="",a=0,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.charAt(0|a)||(c="=",a%1);o+=c.charAt(63&e>>8-a%1*8)){if(255<(r=i.charCodeAt(a+=.75)))throw new n;e=e<<8|r}return o}},function(t,e,r){"use strict";var n=r(4);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,i,o,a){var c=[];c.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&c.push("expires="+new Date(r).toGMTString()),n.isString(i)&&c.push("path="+i),n.isString(o)&&c.push("domain="+o),!0===a&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,r){"use strict";var n=r(4);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,r){"use strict";var n=r(4),i=r(90),o=r(33),a=r(21),c=r(91),s=r(92);function u(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return u(t),t.baseURL&&!c(t.url)&&(t.url=s(t.baseURL,t.url)),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,r){"use strict";var n=r(4);t.exports=function(t,e,r){return n.forEach(r,(function(r){t=r(t,e)})),t}},function(t,e,r){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,r){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,r){"use strict";var n=r(34);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,r){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,r){},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var n=r(1),i=r.n(n);function o(){return(o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var a="@global",c="@global ",s=function(){function t(t,e,r){for(var i in this.type="global",this.at=a,this.rules=void 0,this.options=void 0,this.key=void 0,this.isProcessed=!1,this.key=t,this.options=r,this.rules=new n.RuleList(o({},r,{parent:this})),e)this.rules.add(i,e[i]);this.rules.process()}var e=t.prototype;return e.getRule=function(t){return this.rules.get(t)},e.addRule=function(t,e,r){var n=this.rules.add(t,e,r);return this.options.jss.plugins.onProcessRule(n),n},e.indexOf=function(t){return this.rules.indexOf(t)},e.toString=function(){return this.rules.toString()},t}(),u=function(){function t(t,e,r){this.type="global",this.at=a,this.name=void 0,this.options=void 0,this.rule=void 0,this.isProcessed=!1,this.key=void 0,this.name=t,this.options=r;var n=t.substr(c.length);this.rule=r.jss.createRule(n,e,o({},r,{parent:this}))}return t.prototype.toString=function(t){return this.rule?this.rule.toString(t):""},t}(),l=/\s*,\s*/g;function f(t,e){for(var r=t.split(l),n="",i=0;i<r.length;i++)n+=e+" "+r[i].trim(),r[i+1]&&(n+=", ");return n}var h,p,d=function(){return{onCreateRule:function(t,e,r){if(!t)return null;if(t===a)return new s(t,e,r);if("@"===t[0]&&t.substr(0,c.length)===c)return new u(t,e,r);var n=r.parent;return n&&("global"===n.type||n.options.parent&&"global"===n.options.parent.type)&&(r.scoped=!1),!1===r.scoped&&(r.selector=t),null},onProcessRule:function(t){"style"===t.type&&(function(t){var e=t.options,r=t.style,n=r?r[a]:null;if(n){for(var i in n)e.sheet.addRule(i,n[i],o({},e,{selector:f(i,t.selector)}));delete r[a]}}(t),function(t){var e=t.options,r=t.style;for(var n in r)if("@"===n[0]&&n.substr(0,a.length)===a){var i=f(n.substr(a.length),t.selector);e.sheet.addRule(i,r[n],o({},e,{selector:i})),delete r[n]}}(t))}}},y=/\s*,\s*/g,v=/&/g,g=/\$([\w-]+)/g,b=function(){function t(t,e){return function(r,n){var i=t.getRule(n)||e&&e.getRule(n);return i?(i=i).selector:(t.options.meta||t.toString(),n)}}function e(t,e){for(var r=e.split(y),n=t.split(y),i="",o=0;o<r.length;o++)for(var a=r[o],c=0;c<n.length;c++){var s=n[c];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(v,a):a+" "+s}return i}function r(t,e,r){if(r)return o({},r,{index:r.index+1});var n=t.options.nestingLevel;return n=void 0===n?1:n+1,o({},t.options,{nestingLevel:n,index:e.indexOf(t)+1})}return{onProcessStyle:function(n,i,a){if("style"!==i.type)return n;var c,s,u=i,l=u.options.parent;for(var f in n){var h=-1!==f.indexOf("&"),p="@"===f[0];if(h||p){if(c=r(u,l,c),h){var d=e(f,u.selector);s=s||t(l,a),d=d.replace(g,s),l.addRule(d,n[f],o({},c,{selector:d}))}else p&&l.addRule(f,{},c).addRule(u.key,n[f],{selector:u.selector});delete n[f]}}return n}}},m=new Map([["submit","submit-font"],["submitall","submit-font"],["pdf","export-pdf-font"],["excel","export-excel-font"],["word","export-word-font"],["image","export-image-font"],["appletprint","print-applet-font"],["last","last-page-font"],["next","next-page-font"],["first","first-page-font"],["previous","pre-page-font"],["pdfprint","print-pdf-font"],["flashprint","print-flash-font"],["customizexcel","import-excel-font"],["stash","temp-save-font"],["print","print-font"],["export","export-font"],["setprinteroffset","print-offset-font"],["email","mail-font"],["appendrow","add-record-font"],["deleterow","delete-record-font"],["preview","print-preview-font"],["pagesetup","page-setting-font"],["frozzen","show-cell-font"],["clearstash","clear-data-font"],["verify","check-data-font"]]);function w(t,e){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function O(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var x=BI.Decorators,E=x.shortcut,j=x.model,S=x.store,C=x.Model,P=x.provider,I=E()((O(p=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return O(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"props",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),w(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){return this.options.render()},r.doClick=function(){this.options.doClick()},e}(BI.BasicButton),"xtype","report.core.basic_button_wrapper"),h=p))||h;function B(t){if(BI.isString(t))return t;if(!t)return"#000";var e=(~t).toString(16),r=parseInt("0x".concat(e.replace(/#/g,"")),16),n="000000".concat((16777215-r).toString(16));return"#".concat(n.substring(n.length-6,n.length))}function T(t){return m.get(t.iconName)||function(t){var e,r="icon-".concat(BI.UUID()),n=t.iconPosition,o=t.toolbarImage;return i.a.use(d(),b()),i.a.createStyleSheet({"@global":(e={},O(e,".".concat(r," .b-font"),{"background-image":"url(".concat(o,")"),"background-repeat":"no-repeat","background-position":n,height:"16px",width:"16px"}),O(e,".base-disabled .".concat(r," .b-font"),{opacity:".5"}),e)}).attach(),r}(t)}function _(t){return BI.isNull(t)?"":t.replace(/<br\/>/g,"\n").replace(/&quot;/g,'"').replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;/g," ")}r(64);var k,N,A=["text"];function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){M(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function M(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var z=E()((M(N=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return M(R(e=t.call.apply(t,[this].concat(n))||this),"htmlContainer",void 0),M(R(e),"props",{baseCls:"report-html",text:"",textAlign:"left",lineHeight:null,whiteSpace:"normal"}),e}!function(t,e){t.prototype=Object.create(e.prototype),L(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.text;return D(D({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,A)),{},{type:BI.Html.xtype,ref:function(e){t.htmlContainer=e},text:_(r)})},r.setText=function(t){this.htmlContainer.setText(_(t))},e}(BI.Widget),"xtype","report.components.html"),k=N))||k;r(65);var H,W,F,G,U=["solution"];function Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function X(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function q(t,e){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function K(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(G=F=F||{}).SOLUTION="solution",G.EXCEPTION="exception";var $,J,Q=j()((K(W=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return K(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"actions",{changeTabPanel:function(t){e.model.showIndex=t},setErrorResult:function(t){var r=t.solution,n=X(t,U);e.model.errorResult=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(r),!0).forEach((function(e){K(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({solution:r||BI.i18nText("Fine-Report_Preview_Fail_Tip")},n)}}),e}return function(t,e){t.prototype=Object.create(e.prototype),q(t.prototype.constructor=t,e)}(e,t),e.prototype.state=function(){return{showIndex:F.SOLUTION,errorResult:{}}},e}(C),"xtype","report.model.errortip"),H=W))||H;function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tt(t,e){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function et(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rt=E()($=S(Q)((et(J=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return et(Z(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"report-main-components-error-pane bi-user-select-enable",errorCode:"",errorMsg:"",errorTip:"",solution:"",exception:""}),et(Z(e),"tabTrigger",void 0),et(Z(e),"labelSolution",void 0),et(Z(e),"model",void 0),et(Z(e),"store",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),tt(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.setup=function(){var t=this;return function(){return t.store.setErrorResult(t.options),{type:BI.CenterAdaptLayout.xtype,items:[{type:BI.VerticalLayout.xtype,vgap:10,items:[{type:BI.CenterAdaptLayout.xtype,items:[{type:BI.Icon.xtype,height:140,width:460,cls:"preview-fail-tip-background"}]},{type:BI.Label.xtype,cls:"fail-tip-title bi-high-light bi-font-bold",text:BI.i18nText("Fine-Report_Preview_Fail_Title")},{type:BI.Label.xtype,width:460,whiteSpace:"normal",cls:"fail-tip-message bi-error",text:function(){return t.getErrorCodeText(t.model.errorResult.errorMsg)}},{type:BI.VerticalLayout.xtype,cls:"bi-border error-tips",items:[{type:BI.Segment.xtype,height:36,ref:function(e){t.tabTrigger=e},cls:"fail-tip-message",value:F.SOLUTION,items:[{text:BI.i18nText("Fine-Report_Exception"),value:F.EXCEPTION},{text:BI.i18nText("Fine-Report_Solution"),value:F.SOLUTION}],listeners:[{eventName:"EVENT_CHANGE",action:function(){t.store.changeTabPanel(t.tabTrigger.getValue()[0])}}]},{type:BI.Tab.xtype,height:150,showIndex:function(){return t.model.showIndex},cardCreator:function(e){switch(e){case F.EXCEPTION:return{type:BI.VerticalLayout.xtype,scrolly:!0,vgap:10,hgap:10,items:[{el:{type:BI.Text.xtype,text:function(){return t.model.errorResult.exception},lineHeight:26}}]};case F.SOLUTION:default:return{type:BI.VerticalLayout.xtype,scrolly:!0,vgap:10,hgap:10,items:[{el:{type:z.xtype,ref:function(e){t.labelSolution=e},lineHeight:26,text:BI.i18nText("Fine-Report_Preview_Fail_Tip")}}]}}}}]}]}]}}},r.setErrorTexts=function(t){var e=t.errorTip,r=t.solution;this.labelSolution.setText(r||e||BI.i18nText("Fine-Report_Preview_Fail_Tip")),this.store.setErrorResult(t)},r.getErrorCodeText=function(t){var e=t;return 500<e.length?"".concat(e.substring(0,500),"..."):e},e}(BI.Widget),"xtype","report.components.error_tip"),$=J))||$)||$;function nt(){return function(t,e,r){var n=r.value;return r.value=function(){var t;this.on("EVENT_SHOW_ERROR",(function(e){t.setErrorTexts(e),t.visible()}));for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return[n.apply.apply(n,[this].concat(r)),{type:BI.AbsoluteLayout.xtype,items:[{el:{type:rt.xtype,invisible:!0,ref:function(e){t=e},cls:"bi-card"},top:0,left:0,right:0,bottom:0}]}]},r}}var it,ot,at=function(){function t(){}return t.prototype.toJSON=function(){return{reqPrefix:this.getReqPrefix(),sessionID:this.getSessionID(),version:this.getVersion(),fineServletURL:this.getFineServletURL(),initParameters:this.getInitParameters(),servletURL:this.getServletURL()}},t}();function ct(t,e){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function st(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ut(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lt=P()((ut(ot=function(){function t(){ut(this,"env",void 0)}var e=t.prototype;return e.$get=function(){var t=this;return function(){function e(){}var r=e.prototype;return r.use=function(e){t.env=new e},r.assign=function(e){t.env=ft(e)},r.isAssigned=function(){return!!t.env},r.getInstance=function(){return t.env},function(t,e,r){e&&st(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"Version",get:function(){return t.env.getVersion()}},{key:"FineServletURL",get:function(){return t.env.getFineServletURL()}},{key:"ReqPrefix",get:function(){return t.env.getReqPrefix()}},{key:"SessionID",get:function(){return t.env.getSessionID()}},{key:"initParameters",get:function(){return t.env.getInitParameters()}},{key:"servletURL",get:function(){return t.env.getServletURL()}}]),e}()},e.useEnv=function(t){this.env=ft(t)},t}(),"xtype","report.env.provider"),it=ot))||it;function ft(t){return new(function(e){function r(){return e.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),ct(t.prototype.constructor=t,e)}(r,e);var n=r.prototype;return n.getFineServletURL=function(){return"getFineServletURL"in t?t.getFineServletURL():t.fineServletURL},n.getReqPrefix=function(){return"getReqPrefix"in t?t.getReqPrefix():t.reqPrefix},n.getVersion=function(){return"getVersion"in t?t.getVersion():t.version},n.getServletURL=function(){return"getServletURL"in t?t.getServletURL():t.servletURL},n.getSessionID=function(){return"getSessionID"in t?t.getSessionID():t.sessionID},n.getInitParameters=function(){return"getInitParameters"in t?t.getInitParameters():t.initParameters},r}(at))}var ht=BI.Providers.getProvider(lt.xtype);function pt(t){return function(t){if(Array.isArray(t))return dt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return dt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vt=function(){function t(){yt(this,"controllerDict",new Map)}var e=t.prototype;return e.register=function(t,e){this.controllerDict.set(e||t.attr("widgetName"),t)},e.getWidgetsMap=function(){return this.controllerDict},e.getWidgetByName=function(t){return t?this.controllerDict.get(t.toUpperCase()):void 0},e.getWidgets=function(){return Array.from(this.getWidgetsMap().values())},e.getDependenceByWidget=function(t){return BI.uniq(BI.concat(t.attr("dependence")||[],t.attr("valueDependence")||[])).map((function(t){return t.toLowerCase()}))},e.getValueDependenceByWidget=function(t){return(t.attr("widgetExeDependence")||[]).map((function(t){return t.toLowerCase()}))},e.getWidgetDependenceByWidgetName=function(t){return this.getWidgetDependence(t,this.getDependenceByWidget)},e.getWidgetValueDependenceByWidgetName=function(t){return this.getWidgetDependence(t,this.getValueDependenceByWidget)},e.getWidgetDependence=function(e,r,n){var i=this,o=2<arguments.length&&void 0!==n?n:[],a=this.getWidgets();o.push(e);var c=a.reduce((function(n,a){var c=a.attr("widgetName");if(o.includes(c))return n;var s=r(a);return t.compareWidgetNameByDependences(e,s)&&n.push.apply(n,[c].concat(pt(i.getWidgetDependence(c,r,o)))),n}),[]);return BI.uniq(c)},e.resolveVariable=function(t){var e=this.getWidgetByName(BI.startWith(t,"$")?t.substring(1):t);return e?e.getValue():void 0},e.clear=function(){this.controllerDict.clear()},e.destroy=function(t){var e=this;t?BI.isArray(t)?t.forEach((function(t){e.controllerDict.delete(t)})):this.controllerDict.delete(t):this.clear()},e.update=function(){},e.refresh=function(){},t}();function gt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}yt(vt,"compareWidgetNameByDependences",(function(t,e){return e.includes("$".concat(t.toLowerCase()))||e.includes(t.toLowerCase())}));var bt=new(function(){function t(){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t.env=r}(this,"env",void 0)}var e=t.prototype;return e.use=function(t){this.env=new t},e.assign=function(t){this.env=t},function(t,e,r){e&&gt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"ReqPrefix",get:function(){var t;return(null===(t=this.env)||void 0===t?void 0:t.getReqPrefix())||ht.ReqPrefix}}]),t}()),mt=(r(66),r(67),r(11)),wt=function(){function t(t,e){var r,n,i,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!o.beforeInit||o.beforeInit()){null===(r=o.beforeCreate)||void 0===r||r.call(o),this.parent=Object(mt.b)(t,"sheet-root");var a=this.parent.offset(),c=a.width,s=a.height,u=e.tableWidth,l=void 0===u?c:u,f=e.tableHeight,h=void 0===f?s:f,p=Object.assign({width:l,height:h},e.options);this.sheet=new mt.a(p,o),null===(n=o.beforeMount)||void 0===n||n.call(o),this.parent.children(this.sheet.el),null===(i=o.mounted)||void 0===i||i.call(o)}}var e=t.prototype;return e.loadData=function(t){return this.sheet.loadData(t),this},e.updateData=function(){return this},e.updateCell=function(t,e){this.sheet.updateCell(t,e)},e.getCellPosition=function(t){return this.sheet.getCellPosition(t)},e.resize=function(t,e){var r=this.parent.offset(),n=r.width,i=r.height;t=t||n,e=e||i,this.sheet.resize(t,e)},e.insertRows=function(t,e,r){this.sheet.insertRows(t,e,r)},e.insertCols=function(t,e,r){this.sheet.insertCols(t,e,r)},e.deleteRows=function(t,e){this.sheet.deleteRows(t,e)},e.deleteCols=function(t,e){this.sheet.deleteCols(t,e)},e.tear=function(){this.sheet.tear()},t}(),Ot=r(18),xt=r.n(Ot);function Et(){}var jt=new(function(){function t(){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"adapterDict",new Map)}var e=t.prototype;return e.set=function(t,e){this.adapterDict.set(t,e)},e.handle=function(t){var e=t.config.url||"",r=this.adapterDict.get(e);return r?r(t):t},t}());function St(t,e){return(St=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Ct=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),St(t.prototype.constructor=t,e)}(e,t),e.prototype.handle=function(){},e}(Et);function Pt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function It(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bt(t,e){return(Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Tt,_t,kt=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Bt(t.prototype.constructor=t,e)}(e,t),e.prototype.handle=function(t){var e=BI.UUID(),r=BI.Layers.create(e);BI.createWidget({type:BI.CenterAdaptLayout.xtype,cls:"bi-card",element:r,items:[function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(r),!0).forEach((function(e){It(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:rt.xtype},t)]}),BI.Layers.show(e)},e}(Et);function Nt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var At=P()((Nt(_t=function(){function t(){Nt(this,"errorHandlerDict",new Map([["11200001",kt]]))}var e=t.prototype;return e.$get=function(){var t=this;return function(){function e(){}var r=e.prototype;return r.getHandler=function(e){return new(t.errorHandlerDict.get(e)||Ct)},r.setHandler=function(e,r){t.errorHandlerDict.set(e,r)},r.handle=function(t){try{var e=t.data;return null!=e&&e.errorCode&&this.getHandler(e.errorCode).handle(e),t}catch(e){throw t}},e}()},e.addErrorHandler=function(t,e){var r=BI.inherit(Et,e);this.errorHandlerDict.set(t,r)},t}(),"xtype","error.handle.provider"),Tt=_t))||Tt,Vt=BI.Providers.getProvider(At.xtype),Dt=new(function(){function t(){}return t.prototype.handle=function(t){var e;return null!==(e=t.data)&&void 0!==e&&e.errorCode?Vt.handle(t):jt.handle(t)},t}());function Rt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rt(Object(r),!0).forEach((function(e){Mt(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zt(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Ht(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){zt(o,n,i,a,c,"next",t)}function c(t){zt(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Wt(t){var e=BI.isString(t)?t:JSON.stringify(t);return encodeURIComponent(encodeURIComponent(e))}function Ft(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Wt;return Object.keys(t||{}).map((function(r){var n=t[r];if(BI.isNull(n))return"";var i=e(BI.isObject(n)?JSON.stringify(n):n);return"".concat(e(r),"=").concat(i)})).filter((function(t){return""!==t})).join("&")}function Gt(t,e){if(!e)return t;var r=t.includes("?")?BI.isNotEmptyObject(e)?"&":"":"?";return"".concat(t).concat(r).concat(Ft(e))}function Ut(){return Yt.apply(this,arguments)}function Yt(){return(Yt=Ht(regeneratorRuntime.mark((function t(){var e,r,n,i,o,a,c,s,u,l,f,h=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=(e=0<h.length&&void 0!==h[0]?h[0]:{}).url,n=e.type,i=e.headers,o=void 0===i?{}:i,a=e.data,c=e.params,s=void 0===c?{}:c,e.noProgress,u=e.cancelToken,l=e.baseURL,f=void 0===l?ht.ReqPrefix:l,t.abrupt("return",xt.a.request({url:r,baseURL:f||ht.FineServletURL,method:n,headers:Lt(Lt({},o),{},{"X-Requested-With":"XMLHttpRequest"}),params:Lt(Lt({},s),{},{_:BI.getDate().getTime()}),paramsSerializer:Ft,data:a,cancelToken:u}).then((function(t){return Dt.handle(t)})).catch((function(t){throw t})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xt(){return qt.apply(this,arguments)}function qt(){return(qt=Ht(regeneratorRuntime.mark((function t(){var e,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0<r.length&&void 0!==r[0]?r[0]:{},t.abrupt("return",Ut(e).then((function(t){var e,r;return 200===t.status?BI.isString(t.data)?(e=t.data,r=BI.jsonDecode(e),""===e||BI.isEmptyArray(r)?e:r):t.data:{}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=r.data,i=r.params,o=void 0===i?{}:i,a=r.headers,c=void 0===a?{}:a,s=r.noProgress,u=void 0!==s&&s,l=r.cancelToken,f=r.baseURL;return Xt({url:t,type:"GET",data:n,params:Lt({sessionID:ht.SessionID},o),headers:c,noProgress:u,cancelToken:l,baseURL:f})}function $t(t,e){var r=1<arguments.length&&void 0!==e?e:{},n=r.data,i=r.params,o=void 0===i?{}:i,a=r.headers,c=void 0===a?{}:a,s=r.noProgress,u=void 0!==s&&s,l=r.cancelToken,f=r.baseURL;return Xt({url:t,type:"POST",data:Ft(n,r.encoder),params:o,headers:Lt({sessionID:ht.SessionID,"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},c),noProgress:u,cancelToken:l,baseURL:f})}var Jt=void 0;function Qt(t,e,r){var n=2<arguments.length&&void 0!==r?r:"_self",i=document.createElement("form");i.action=t,i.target=n,i.method="post",i.style.display="none",Object.keys(e||{}).forEach((function(t){var r=e[t];if(r){var n=document.createElement("textarea");n.name=t,n.value=r,i.appendChild(n)}})),document.body.appendChild(i),i.submit(),i.remove()}function Zt(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function te(){return ee.apply(this,arguments)}function ee(){return(ee=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Zt(o,n,i,a,c,"next",t)}function c(t){Zt(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$t("/remote/evaluate",{data:{expression:e}}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function re(t){return $t("email/send",{data:t})}function ne(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ie=function(){function t(t){var e=this;ne(this,"popup",void 0),ne(this,"hyperLinks",[]),ne(this,"attach",void 0),this.attach=function(){e.popup||t({type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.DownListCombo.xtype,belowMouse:!0,container:"body",trigger:"",$testId:"report-table-popup",el:{type:BI.Layout.xtype},ref:function(t){e.popup=t},listeners:[{eventName:BI.DownListCombo.EVENT_CHANGE,action:function(t){e.hyperLinks[t]&&e.hyperLinks[t].excute()}}]},top:0,left:0}]})}}return t.prototype.handle=function(t,e){this.attach();var r=e.filter((function(t){return!(!t||t.silent&&(t.excute(),1))}));if(0!==r.length)if(1!==r.length){var n=r.map((function(t,e){return[{$testId:"report-table-popup-hyper-link-item",text:t.getName(),value:e}]}));this.hyperLinks=r,this.popup.populate(n),this.popup.showView(t)}else r[0].excute()},t}();function oe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ae(t,e,r){oe(this,"target",void 0),oe(this,"url",void 0),this.target=t,this.url=e}function ce(t,e){return(ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var se=function(t){function e(e,r,n){var i;return function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i=t.call(this,e,r,n)||this),"options",void 0),i.options=n,i}return function(t,e){t.prototype=Object.create(e.prototype),ce(t.prototype.constructor=t,e)}(e,t),e.prototype.handle=function(){return window.open(this.url,"_self")},e}(ae);function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function le(t,e){return(le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function fe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var he=function(t){function e(e,r,n){var i;return fe(ue(i=t.call(this,e,r,n)||this),"byPost",void 0),fe(ue(i),"parameter",void 0),i.byPost=n.byPost,i.parameter=n.parameter,i}return function(t,e){t.prototype=Object.create(e.prototype),le(t.prototype.constructor=t,e)}(e,t),e.prototype.handle=function(){return this.byPost?Qt(this.url,{__parameters__:this.parameter},this.target):window.open(this.url,this.target)},e}(ae);function pe(t,e){return(pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var de,ye,ve,ge=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),pe(t.prototype.constructor=t,e)}(e,t),e}(he);function be(t,e){return(be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function me(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function we(t,e){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}r(95),E()((me(de=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return me(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"props",void 0),e}return function(t,e){t.prototype=Object.create(e.prototype),be(t.prototype.constructor=t,e)}(e,t),e.prototype.render=function(){var t=this.options.copyright,e=t.text,r=t.color,n=t.backgroundColor,o=t.alpha,a=t.fontSize,c=t.url,s=i.a.createStyleSheet({copyright:{background:n,opacity:o,"font-size":"".concat(a,"px")},font:{color:r}}).attach();return c?{type:BI.AbsoluteLayout.xtype,cls:"report-core-copyrightmark",items:[{el:this.options.renderItem(),top:0,bottom:0,left:0,right:0},{el:{type:BI.VerticalAdaptLayout.xtype,cls:"copyright-lable ".concat(s.classes.copyright),items:[{type:BI.A.xtype,href:c,cls:"".concat(s.classes.font),text:e,fontSize:a},{type:BI.A.xtype,cls:"copyright-link",href:"https://help.fanruan.com/finereport/doc-view-281.html",text:BI.i18nText("Fine-Report_Trial_Mode"),fontSize:a}],hgap:10,vgap:10},bottom:10,right:10}]}:{type:BI.AbsoluteLayout.xtype,cls:"report-core-copyrightmark",items:[{el:{type:BI.Label.xtype,cls:"copyright-lable copyright-unreachable ".concat(s.classes.copyright," ").concat(s.classes.font),text:e,fontSize:a,hgap:10,vgap:10},bottom:10,right:10},{el:this.options.renderItem(),top:0,bottom:0,left:0,right:0}]}},e}(BI.Widget),"xtype","report.core.copyrightmark"),de));var Oe,xe,Ee,je,Se,Ce=E()((xe="report.main.components.loading","xtype"in(Oe=ve=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),we(t.prototype.constructor=t,e)}(e,t),e.prototype.mounted=function(){this.loading()},e}(BI.Pane))?Object.defineProperty(Oe,"xtype",{value:xe,enumerable:!0,configurable:!0,writable:!0}):Oe.xtype=xe,ye=ve))||ye,Pe=r(35);function Ie(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Be(t,e){t.prototype=Object.create(e.prototype),function(t,e){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(t.prototype.constructor=t,e)}function Te(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _e,ke,Ne=E()((Te(je=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Te(Ie(e=t.call.apply(t,[this].concat(n))||this),"resizable",void 0),Te(Ie(e),"props",{baseCls:"bi-popover bi-card bi-border-radius",size:"normal",logic:{dynamic:!1},header:null,headerHeight:40,body:null,footer:null,footerHeight:44,closable:!0,bodyHgap:0,bodyTgap:0,btns:[BI.i18nText("BI-Basic_Sure"),BI.i18nText("BI-Basic_Cancel")],warningTitle:""}),e}Be(e,t);var r=e.prototype;return r.mounted=function(){var e;null===(e=t.prototype.mounted)||void 0===e||e.call(this),this.resizable=new Pe.Resizable(this.element.context)},r.setPosition=function(t){var e=t.center,r=t.left,n=t.top;e||this.resizable.setPosition(n||0,r||0)},e}(BI.Popover),"xtype","report.main.popover"),Ee=je))||Ee;function Ae(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ve(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ae(Object(r),!0).forEach((function(e){Le(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function De(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Re(t,e){return(Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Le(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}E()((Te(Se=function(t){function e(){return t.apply(this,arguments)||this}return Be(e,t),e.prototype.beforeCreate=function(){var t=this,e=this.options;e.footer||(e.footer={type:BI.RightVerticalAdaptLayout.xtype,lgap:10,items:[{type:BI.Button.xtype,text:this.options.btns[1],value:1,level:"ignore",handler:function(e){t.fireEvent(BI.Popover.EVENT_CANCEL,e),t.close()}},{type:BI.Button.xtype,text:this.options.btns[0],warningTitle:e.warningTitle,value:0,handler:function(e){t.fireEvent(BI.Popover.EVENT_CONFIRM,e),t.close()}}]})},e}(Ne),"xtype","report.main.bar_popover"),Se));var Me,ze,He=j()((Le(ke=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Le(De(e=t.call.apply(t,[this].concat(n))||this),"options",void 0),Le(De(e),"computed",{transformedWatermark:function(){return e.model.watermark?Ve(Ve({},e.model.watermark),{},{text:_(e.model.watermark.text),fontWeight:"normal"}):{}}}),Le(De(e),"actions",{setWatermark:function(t){e.model.watermark=t}}),e}return function(t,e){t.prototype=Object.create(e.prototype),Re(t.prototype.constructor=t,e)}(e,t),e.prototype.state=function(){return{watermark:this.options.watermark||{}}},e}(C),"xtype","report.model.watermark"),_e=ke))||_e;function We(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t,e){return(Fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ge(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ue(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ye(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(r),!0).forEach((function(e){Xe(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xe(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qe(t,e){return(qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}E()(Me=S(He,{props:function(){return{watermark:this.options.watermark}}})((Ge(ze=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ge(We(e=t.call.apply(t,[this].concat(n))||this),"props",{watermark:{}}),Ge(We(e),"store",void 0),Ge(We(e),"model",void 0),Ge(We(e),"watermarkPane",void 0),Ge(We(e),"watch",{transformedWatermark:function(){var t;null===(t=e.watermarkPane)||void 0===t||t.setValue(e.model.transformedWatermark)}}),e}!function(t,e){t.prototype=Object.create(e.prototype),Fe(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this;return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.WaterMark.xtype,ref:function(e){t.watermarkPane=e},watermark:this.model.transformedWatermark},top:0,left:0,right:0,bottom:0}]}},r.setValue=function(t){this.store.setWatermark(t)},e}(BI.Widget),"xtype","report.watermark"),Me=ze))||Me);var Ke=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),qe(t.prototype.constructor=t,e)}(e,t),e.prototype.dbCommit=function(t){!function(t,e){var r=1<arguments.length&&void 0!==e?e:{};$t("db/commit",{data:{__parameters__:Ye(Ye({},t),r)},encoder:function(t){return encodeURIComponent(t)}})}(t)},e}(vt),$e=["title"];function Je(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Qe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ze(t,e){return(Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function tr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var er,rr,nr=function(t){function e(e,r,n){var i;return tr(Qe(i=t.call(this,e,r,n)||this),"options",void 0),tr(Qe(i),"popover",void 0),i.options=n,i}!function(t,e){t.prototype=Object.create(e.prototype),Ze(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.handle=function(){var t=this,e=this.options,r=e.width,n=void 0===r?0:r,i=e.height,o=void 0===i?0:i,a=e.attr,c=void 0===a?{}:a,s=e.byPost,u=e.parameter,l=c.title,f=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(c,$e),h=BI.UUID();return this.getHeader(l).then((function(e){var r=BI.UUID();t.findTargetParent().BI.Popovers.create(h,{type:Ne.xtype,width:Math.min(n,window.innerWidth),height:Math.min(o,window.innerHeight),header:e,ref:function(e){t.popover=e},body:{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Iframe.xtype,src:s?"":t.url,name:r},top:0,left:0,right:0,bottom:0}]},listeners:[{eventName:BI.Popover.EVENT_CLOSE,action:function(){BI.Popovers.remove(h)}}]}).open(h),BI.isNotEmptyObject(f)&&t.popover.setPosition(f),s&&Qt(t.url,{__parameters__:u},r)})),h},r.findTargetParent=function(){return function(t){var e=0<arguments.length&&void 0!==t?t:function(){return!0},r=window;try{for(var n=null;r&&r.parent!==r;){var i=r.parent;if(!i)break;if(!e(i))break;r=(n=r).parent}BI.FullScreen.isFullScreen(r.document)&&n&&n.document&&(r=n)}catch(t){}return r}((function(t){return!(!t.Report||!t.BI)}))},r.getHeader=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Je(o,n,i,a,c,"next",t)}function c(t){Je(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(BI.isObject(e))return t.next=3,te(e.value);t.next=5;break;case 3:return r=t.sent,t.abrupt("return",null==r?void 0:r.result);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}(ae);function ir(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var or=function(){function t(){ir(this,"targetDict",new Map([["_self",he],["_blank",ge],["_dialog",nr]]))}var e=t.prototype;return e.get=function(t,e,r){return new(this.targetDict.get(t)||se)(t,e,r)},e.set=function(t,e){this.targetDict.set(t,e)},e.handle=function(t,e,r){return this.get(t,e,r).handle()},e.getImpl=function(){return se},t}(),ar=P()((ir(rr=function(){function t(){}return t.prototype.$get=function(){return or},t}(),"xtype","report.hyperlink_target.provider"),er=rr))||er,cr=BI.Providers.getProvider(ar.xtype),sr=["target","url"];function ur(t){var e=t.target,r=t.url,n=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,sr);return cr.handle(e,r,n)}function lr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fr=function(){function t(t){lr(this,"silent",!1),lr(this,"name",void 0);var e=t.name;this.name=e;for(var r=arguments.length,n=new Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.init(t,n)}var e=t.prototype;return e.init=function(t){},e.excute=function(){this._excute()},e.getName=function(){return this.name},t}();function hr(t,e){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var pr=function(t){function e(e){var r;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t.id=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e)||this),"id",void 0);var n=e.id;return r.id=n,r}return function(t,e){t.prototype=Object.create(e.prototype),hr(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){window.open("".concat(ht.FineServletURL,"/view/report?op=fr_attach&cmd=ah_download&id=").concat(this.id))},e}(fr);function dr(t,e){return(dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var yr=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),dr(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){},e}(fr);function vr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function br(t,e){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function mr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wr=function(t){function e(e){var r;mr(gr(r=t.call(this,e)||this),"_url",void 0),mr(gr(r),"target",void 0),mr(gr(r),"width",void 0),mr(gr(r),"height",void 0),mr(gr(r),"parameters",void 0);var n=e.targetFrame,i=e.url,o=e.width,a=e.height,c=e.parameters,s=void 0===c?[]:c;return r.url=i,r.target=n,r.width=o,r.height=a,r.parameters=s,r}return function(t,e){t.prototype=Object.create(e.prototype),br(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){ur({target:this.target,url:this.url,width:this.width,height:this.height,title:this.name})},function(t,e,r){e&&vr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"url",get:function(){var t={};return this.parameters.forEach((function(e){t[e.name]=e.value})),Gt(this._url,t)},set:function(t){this._url=t}}]),e}(fr);function Or(t,e){return(Or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var xr=function(t){function e(e){var r;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e)||this),"jsContent",void 0);var n=e.jsContent;return r.jsContent=n,r}return function(t,e){t.prototype=Object.create(e.prototype),Or(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){new Function(this.jsContent)()},e}(fr);function Er(t,e){return(Er=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var jr=function(t){function e(e){var r;return function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e)||this),"mailLinkProps",void 0),r.mailLinkProps=e,r}return function(t,e){t.prototype=Object.create(e.prototype),Er(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){!function(t,e){var r=BI.UUID();BI.Popovers.create(r,{type:Ne.xtype,width:200,height:100,header:BI.i18nText("Fine-Engine_Basic_Email"),closable:!1,bodyHgap:20,bodyTgap:10,body:{type:BI.Label.xtype,text:BI.i18nText("Fine-Engine_Basic_Email_Sending")}}).open(r),e(t).then((function(t){BI.Popovers.remove(r),"error"===t.status?BI.Msg.alert(BI.i18nText("Fine-Engine_Basic_Email_Send_Failed"),BI.i18nText("Fine-Engine_Basic_Email_Send_Error"),(function(){})):BI.Msg.alert(BI.i18nText("Fine-Engine_Basic_Email"),BI.i18nText("Fine-Engine_Basic_Email_Send_Success"),(function(){}))}))}(this.mailLinkProps,re)},e}(fr);function Sr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Cr(t,e){return(Cr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Pr=function(t){function e(e){var r;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r=t.call(this,e)||this),"parameters",void 0);var n=e.parameters;return r.parameters=n,r}return function(t,e){t.prototype=Object.create(e.prototype),Cr(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){ur({target:"_self",url:this.url})},function(t,e,r){e&&Sr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"url",get:function(){var t=new URL(window.location.href);return BI.each(this.parameters,(function(e,r){t.searchParams.has(r.name)?t.searchParams.set(r.name,r.value.toString()):t.searchParams.append(r.name,r.value.toString())})),t.href}}]),e}(fr);function Ir(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Br(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tr(t,e){return(Tr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function _r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kr,Nr,Ar=function(t){function e(e){var r;_r(Br(r=t.call(this,e)||this),"_url",void 0),_r(Br(r),"target",void 0),_r(Br(r),"width",void 0),_r(Br(r),"height",void 0),_r(Br(r),"parameters",void 0),_r(Br(r),"attr",void 0),_r(Br(r),"showParameterInterface",void 0),_r(Br(r),"byPost",void 0);var n=e.targetFrame,i=e.width,o=e.height,a=e.reportUrl,c=e.parameters,s=e.attr,u=e.showParameterInterface,l=e.byPost;return r.target=n,r.width=i,r.height=o,r.url=a,r.parameters=c,r.attr=s,r.showParameterInterface=u,r.byPost=l,r}!function(t,e){t.prototype=Object.create(e.prototype),Tr(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r._excute=function(){var t=this.byPost?decodeURIComponent(Wt(this.getParameter())):"";ur({target:this.target,url:this.url,width:this.width,height:this.height,attr:this.attr,byPost:this.byPost,parameter:t,title:this.name})},r.getParameter=function(){var t={__pi__:this.showParameterInterface};return this.parameters.forEach((function(e){t[e.name]=e.value})),t},function(t,e,r){e&&Ir(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"url",get:function(){return this.byPost?"".concat(this._url,"&__pi__=").concat(this.showParameterInterface):"".concat(this._url,"&").concat(Ft({__parameters__:this.getParameter(),_:BI.getDate().getTime()}))},set:function(t){this._url=t}}]),e}(fr),Vr=["type"];function Dr(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Dr(Object(r),!0).forEach((function(e){Lr(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dr(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Mr="download",zr=P()((Lr(Nr=function(){function t(){Lr(this,"linkHandlerDict",new Map([["weblink",{link:wr}],["javascript",{link:xr}],["email",{link:jr}],["viewlet",{link:Ar}],["parameter",{link:Pr}],[Mr,{link:pr}]]))}var e=t.prototype;return e.$get=function(){var t=this;return function(){function e(){}var r=e.prototype;return r.getHandler=function(e){var r=e.type,n=void 0===r?"":r,i=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Vr),o=t.linkHandlerDict.get(n)||{link:yr,external:{}};return new o.link(i,o.external)},r.setHandler=function(e,r,n){t.linkHandlerDict.set(e,{link:r,external:n})},e}()},e.addHandler=function(t,e,r){var n=BI.inherit(fr,e);this.linkHandlerDict.set(t,{link:n,external:r})},t}(),"xtype","report.link.provider"),kr=Nr))||kr,Hr=BI.Providers.getProvider(zr.xtype);function Wr(t,e){var r=1<arguments.length&&void 0!==e?e:{};return t.filter((function(t){return t.javaScript})).map((function(t){return Hr.getHandler(Rr(Rr({name:t.name},t.javaScript),{},{external:r}))}))}function Fr(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ur=function(){function t(t){Gr(this,"externalContext",void 0),Gr(this,"name",void 0),Gr(this,"eventNames",void 0),Gr(this,"merger",void 0),this.externalContext=t}return t.prototype.getCellById=function(t){var e;if(t&&(this.tableData.some((function(r){return r.some((function(r){return r.id===t&&(e=r,!0)}))})),e))return e},function(t,e,r){e&&Fr(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"tableData",get:function(){return this.externalContext.getTableData()}}]),t}();function Yr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xr(t,e){return"".concat(t,"-").concat(e)}function qr(t){var e=function(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Yr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yr(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("-").map((function(t){return parseInt(t,10)})),2);return{x:e[0],y:e[1]}}function Kr(t,e,r){e.forEach((function(e){var n=e.x,i=e.y,o=e.alterer,a=function(t,e,r){var n;return t.some((function(t){return t.some((function(t){return t.position.x===e&&t.position.y===r&&(n=t,!0)}))})),n}(t,n,i);a&&r(a,o)}))}function $r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jr(t,e){return(Jr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Qr(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zr=function(t){function e(e,r){var n,i;function o(t,e){return i.apply(this,arguments)}Qr($r(n=t.call(this,e)||this),"eventNames",["CELL_CLICK","CELL_HOVER"]),Qr($r(n),"merger","uniqe"),Qr($r(n),"filter",void 0),Qr($r(n),"canCellReset",void 0),Qr($r(n),"clickCache",new Map),Qr($r(n),"hoverCache",new Map),Qr($r(n),"cellStyle",void 0),Qr($r(n),"trigger",void 0),Qr($r(n),"eventTrigger",void 0),Qr($r(n),"eventPosition",void 0),Qr($r(n),"filterOperationMap",{line:function(t,e){return t.position.y===e.y},column:function(t,e){return t.position.x===e.x},cross:function(t,e){return t.position.x===e.x||t.position.y===e.y},cell:(i=function(t,e){return t.position.x===e.x&&t.position.y===e.y},o.toString=function(){return i.toString()},o)}),Qr($r(n),"canCellResetMap",{row:function(t,e){return t.y===e.y},column:function(t,e){return t.x===e.x},all:function(t,e){return t.y===e.y&&t.x===e.x},cross:function(t,e){return t.y===e.y||t.x===e.x},default:function(){return!0}});var a=r.type,c=r.hold,s=void 0===c?"default":c,u=r.trigger;return n.filter=BI.isFunction(a)?a:n.filterOperationMap[a],n.canCellReset=BI.isFunction(s)?s:n.canCellResetMap[s],n.trigger=u,n}!function(t,e){t.prototype=Object.create(e.prototype),Jr(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.alterTableCellStyle=function(t){Kr(this.tableData,t.map((function(t){return{x:t.x,y:t.y,alterer:t.style}})),(function(t,e){t.cellstyle=BI.extend(t.cellstyle||{},e)}))},r.action=function(t){var e=t.e,r=t.cell,n="mouseup"===(null==e?void 0:e.type)?"mousedown":"mouseover";if(this.eventTrigger=n,r){var i=r.position,o=i.x,a=i.y,c="mousedown"==n&&this.clickCache.has(Xr(o,a)),s="mouseover"==n&&this.hoverCache.has(Xr(o,a));this.eventPosition={x:o,y:a},this.resetTableCell(),n!==this.trigger&&void 0!==this.trigger||(c||s?this.updateTable():this.doAction(o,a))}else this.eventTrigger===this.trigger&&(this.resetTableCell(),this.updateTable())},r.doAction=function(t,e){var r=this;(function(t,e,r){return t.reduce((function(t,n){return t.concat(n.filter((function(t){return r(t,e)})))}),[])})(this.tableData,{x:t,y:e},this.filter).forEach((function(t){r.alterCell(t.position.x,t.position.y)})),this.updateTable()},r.updateTable=function(){this.externalContext.populate(this.tableData)},r.alterCell=function(t,e){var r=this;Kr(this.tableData,[{x:t,y:e,alterer:this.cellStyle}],(function(n,i){if(n.value=n.value||'{"type":"text","value":"","autoWrapInfo":"[]"}',"mousedown"===r.eventTrigger){var o=Xr(t,e);r.clickCache.set(o,r.hoverCache.has(o)?r.hoverCache.get(o):r.transform2DeaultStyle(n.cellstyle))}else"mouseover"===r.eventTrigger&&r.hoverCache.set(Xr(t,e),r.transform2DeaultStyle(n.cellstyle));BI.deepExtend(n,{cellstyle:i})}))},r.resetTableCell=function(){var t=[];this.resetHoverCell(t),this.resetClickCell(t),this.alterTableCellStyle(t)},r.resetHoverCell=function(t){var e=this;"mousedown"!==this.eventTrigger&&this.hoverCache.forEach((function(r,n){var i=qr(n),o=i.x,a=i.y;e.canCellReset({x:o,y:a},e.eventPosition)&&(e.clickCache.has(n)||t.push({x:o,y:a,style:r}),e.hoverCache.delete(n))}))},r.resetClickCell=function(t){var e=this;"mouseover"!==this.eventTrigger&&this.clickCache.forEach((function(r,n){var i=qr(n),o=i.x,a=i.y;e.canCellReset({x:o,y:a},e.eventPosition)&&(e.hoverCache.has(n)&&e.hoverCache.delete(n),t.push({x:o,y:a,style:r}),e.clickCache.delete(n))}))},e}(Ur);function tn(t,e){return(tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var en=function(t){function e(e,r){var n;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this,e,r)||this),"name","CHANGE_CELL_BACKGROUND");var i=r.style;return n.cellStyle={cellBackground:{background:{backgroundType:"ColorBackground",color:"".concat(i)}}},n}return function(t,e){t.prototype=Object.create(e.prototype),tn(t.prototype.constructor=t,e)}(e,t),e.prototype.transform2DeaultStyle=function(t){var e;return BI.deepClone({cellBackground:{background:(null==t||null===(e=t.cellBackground)||void 0===e?void 0:e.background)||{}}})},e}(Zr);function rn(t,e){return(rn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var nn=function(t){function e(e,r){var n;!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n=t.call(this,e,r)||this),"name","CHANGE_CELL_FONT_STYLE");var i=r.style;return n.cellStyle={fontStyle:Object.assign({fontFamily:"",underLine:{width:0,color:-16777216,style:"SOLID"}},i)},n}return function(t,e){t.prototype=Object.create(e.prototype),rn(t.prototype.constructor=t,e)}(e,t),e.prototype.transform2DeaultStyle=function(t){return BI.deepClone({fontStyle:null==t?void 0:t.fontStyle})},e}(Zr);function on(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function an(t,e){return(an=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function cn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var sn=function(t){function e(e,r){var n;cn(on(n=t.call(this,e)||this),"name","HOVER_CELL_POPUP"),cn(on(n),"eventNames",["CELL_HOVER"]),cn(on(n),"merger",""),cn(on(n),"combo",void 0),cn(on(n),"textLabel",void 0),cn(on(n),"position",void 0),cn(on(n),"scopeType",void 0),cn(on(n),"attach",void 0),cn(on(n),"useCellValue",!1);var i=r.header,o=r.body,a=r.image,c=r.style,s=r.position,u=r.scopeType;return n.position=s,n.scopeType=u,n.useCellValue=BI.isNull(o),n.attach=function(){n.combo||n.externalContext.attach({type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Combo.xtype,container:"body",belowMouse:!0,el:{type:BI.Layout.xtype},ref:function(t){n.combo=t},popup:{minHeight:15,el:{type:BI.VerticalLayout.xtype,cls:"bi-card bi-border-radius",extraCls:n.createPopupStyle(c).classes.popupStyle,items:[i?{el:{type:BI.Label.xtype,cls:"bi-header-background bi-font-bold",text:i,hgap:5,vgap:5}}:{},o||!a?{type:BI.Label.xtype,ref:function(t){n.textLabel=t},text:o,hgap:5,vgap:5}:{type:BI.Img.xtype,src:a,hgap:5,vgap:5}]}}}}]})},n}!function(t,e){t.prototype=Object.create(e.prototype),an(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.createPopupStyle=function(t){var e=0<arguments.length&&void 0!==t?t:{};return i.a.createStyleSheet({popupStyle:{"font-weight":e.fontWeight,"font-family":e.fontFamily,"font-size":e.fontSize,color:e.color,"text-decoration":"".concat(e.textDecorationLine," ").concat(e.textDecorationStyle," ").concat(e.textDecorationColor," ").concat(e.textDecorationThickness),"font-style":e.fontStyle,"text-shadow":e.textShadow,padding:e.padding,"line-height":e.lineHeight,"vertical-align":e.verticalAlign,"text-align":e.textAlign,border:e.border,"background-size":"contain","background-repeat":e.backgroundRepeat,"background-image":e.backgroundImage,"background-color":e.backgroundColor}}).attach()},r.action=function(t){var e=t.cell,r=t.e;if(e){if(this.combo&&this.combo.hideView(),BI.isNull(this.position))return this.doAction(r,e.value);var n,i=e.position,o=i.x,a=i.y,c=this.position,s=c.x,u=c.y;switch(this.scopeType){case"cell":default:n=o===s&&a===u;break;case"table":n=!0;break;case"rowcolumn":n=o===s||a===u}n&&this.doAction(r,e.value)}},r.doAction=function(t,e){var r;this.attach(),this.combo.showView(t),this.useCellValue&&(null===(r=this.textLabel)||void 0===r||r.setValue(e))},e}(Ur);function un(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function ln(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fn(t,e){return(fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function hn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pn,dn,yn,vn=function(t){function e(){for(var e,r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return hn(ln(e=t.call.apply(t,[this].concat(i))||this),"chart",void 0),hn(ln(e),"chartAttr",void 0),hn(ln(e),"props",{chartAttrGetter:(r=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){un(o,n,i,a,c,"next",t)}function c(t){un(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),autoSize:!0,instantiateXHyperLinks:function(t){return Wr(t)},wScale:1,hScale:1,fontScale:1}),e}return function(t,e){t.prototype=Object.create(e.prototype),fn(t.prototype.constructor=t,e)}(e,t),e.prototype.destroy=function(){this.remove()},e}(BI.Widget);function gn(t,e){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function bn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}hn(vn,"EVENT_LOADED","EVENT_LOADED");var mn,wn,On,xn,En,jn=(pn=nt(),bn(yn=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),gn(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){return{type:BI.AbsoluteLayout.xtype}},r.mounted=function(){var t=this;this.options.chartAttrGetter().then((function(e){if("errorCode"in e)throw t.fireEvent("EVENT_SHOW_ERROR",e),{errorCode:e.errorCode,errorMsg:e.errorMsg};t.chartAttr=e}));var e=VanCharts.init(this.element.context);e.setOptions(this.chartAttr),this.bind(e)},r.refresh=function(t){var e=0<arguments.length&&void 0!==t?t:this.chartAttr,r=VanCharts.init(this.element.context);r.clear(),r.setOptions(e),this.bind(r)},r.resize=function(){var t=VanCharts.init(this.element.context);t.resize(),this.bind(t)},r.bind=function(t){var r=this;t.doHyperlink=function(t){r.fireEvent(e.EVENT_HYPER_LINK,t)}},r.changeParameter=function(){},r.reload=function(){},r.remove=function(){},e}(vn),"xtype","report.chart_alpha"),bn(yn,"EVENT_HYPER_LINK","EVENT_HYPER_LINK"),bn(yn,"VERSION","1.0.0"),bn(yn,"BUILD_TIME","2020-8-3 09:48:57"),mn=(dn=yn).prototype,"render",wn=[pn],On=Object.getOwnPropertyDescriptor(dn.prototype,"render"),xn=dn.prototype,En={},Object.keys(On).forEach((function(t){En[t]=On[t]})),En.enumerable=!!En.enumerable,En.configurable=!!En.configurable,("value"in En||En.initializer)&&(En.writable=!0),En=wn.slice().reverse().reduce((function(t,e){return e(mn,"render",t)||t}),En),xn&&void 0!==En.initializer&&(En.value=En.initializer?En.initializer.call(xn):void 0,En.initializer=void 0),void 0===En.initializer&&(Object.defineProperty(mn,"render",En),En=null),dn),Sn=["chartID","widgetName"];function Cn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Pn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function In(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Bn(t){var e=t.chartID,r=t.widgetName;return Kt("chart/data",{params:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(r),!0).forEach((function(e){Pn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({chartID:e,ecName:void 0===r?"":r},In(t,Sn))})}function Tn(t,e){return(Tn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var _n,kn,Nn,An,Vn,Dn=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Tn(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.register=function(e,r){t.prototype.register.call(this,e,r.toUpperCase())},r.destroy=function(){this.getWidgets().forEach((function(t){t.remove()})),t.prototype.destroy.call(this)},r.refresh=function(){this.getWidgets().forEach((function(t){t.refresh()}))},e}(Ke),Rn=new Dn;function Ln(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Mn(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ln(o,n,i,a,c,"next",t)}function c(t){Ln(o,n,i,a,c,"throw",t)}a(void 0)}))}}function zn(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?zn(Object(r),!0).forEach((function(e){Gn(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zn(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Wn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fn(t,e){return(Fn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Gn(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Un,Yn,Xn,qn,Kn,$n,Jn,Qn=(_n=E(),kn=nt(),_n((Gn(Vn=function(t){function e(){for(var e,r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Gn(Wn(e=t.call.apply(t,[this].concat(i))||this),"hyperlinkHandler",new ie((function(t){BI.createWidget(Hn(Hn({},t),{},{element:Wn(e)}))}))),Gn(Wn(e),"props",{chartAttrGetter:(r=Mn(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{});case 1:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)}),autoSize:!0,instantiateXHyperLinks:function(t){return Wr(t)},wScale:1,hScale:1,fontScale:1,chartHyperLinkId:""}),e}!function(t,e){t.prototype=Object.create(e.prototype),Fn(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){return VanCharts.resetGlobalScale(this.options.fontScale),{type:BI.AbsoluteLayout.xtype}},r.mounted=function(){var t=this;this.getChartAttr().then((function(e){if("errorCode"in e)throw t.fireEvent("EVENT_SHOW_ERROR",e),{errorCode:e.errorCode,errorMsg:e.errorMsg};t.chartAttr=e;var r=Rn.getWidgetByName(t.chartAttr.chartID);r&&r.remove(),t.initChart(),t.fireEvent(vn.EVENT_LOADED)}))},r.refresh=function(){var t=this.options,e=t.wScale,r=t.hScale,n=t.fontScale;this.resize(e,r,n)},r.reload=function(){var t=Mn(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=4;break}t.t0=e,t.next=7;break;case 4:return t.next=6,this.getChartAttr();case 6:t.t0=t.sent;case 7:this.chartAttr=t.t0,this.initChart();case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.changeParameter=function(t){this.chart.changeParameter(t)},r.resize=function(t,e,r){var n;this.options.fontScale=r,VanCharts.resetGlobalScale(r),null===(n=this.chart)||void 0===n||n.resize()},r.initChart=function(){this.remove(),this.enforceChartAttr(),this.chart=new VanChartWidget(this.chartAttr,this.element),Rn.register(this,this.chartAttr.chartID)},r.enforceChartAttr=function(){var t,e=this.options.fontScale;null!==(t=this.chartAttr)&&void 0!==t&&t.chartAttr&&(this.chartAttr.chartAttr.scale=e)},r.remove=function(){this.removeChart(),this.chartAttr&&Rn.getWidgetsMap().delete(this.chartAttr.chartID)},r.destroy=function(){this.remove()},r.removeChart=function(){this.chart&&this.chart.chartWrapper&&(this.chart.chartWrapper.clearAll(),this.chart.options=this.chart.chartWrapper=null)},r.getChartAttr=function(){var t=Mn(regeneratorRuntime.mark((function t(){var e,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.options.chartAttrGetter();case 2:return e=t.sent,t.abrupt("return",Hn(Hn({},e),{},{doFineHyperlink:function(t,e,n){var i=2<arguments.length&&void 0!==n?n:function(t){return t},o=[];e.ChartHyperlink_ID||(e.ChartHyperlink_ID=r.options.chartHyperLinkId),$t("chart/calculate/hyperlink",{data:e}).then((function(e){var n,a=i((null===(n=e.nxNameJavascriptGroup)||void 0===n?void 0:n.javaScriptGroup)||[]);o=r.options.instantiateXHyperLinks(a),r.hyperlinkHandler.handle(t,o)}))}}));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(vn),"xtype","report.chart_beta"),Gn(Vn,"VERSION","1.0.0"),Gn(Vn,"BUILD_TIME","2020-8-31 09:27:02"),Un=(An=Vn).prototype,"render",Yn=[kn],Xn=Object.getOwnPropertyDescriptor(An.prototype,"render"),qn=An.prototype,Kn={},Object.keys(Xn).forEach((function(t){Kn[t]=Xn[t]})),Kn.enumerable=!!Kn.enumerable,Kn.configurable=!!Kn.configurable,("value"in Kn||Kn.initializer)&&(Kn.writable=!0),Kn=Yn.slice().reverse().reduce((function(t,e){return e(Un,"render",t)||t}),Kn),qn&&void 0!==Kn.initializer&&(Kn.value=Kn.initializer?Kn.initializer.call(qn):void 0,Kn.initializer=void 0),void 0===Kn.initializer&&(Object.defineProperty(Un,"render",Kn),Kn=null),Nn=An))||Nn);function Zn(t,e){return(Zn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ti(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ei,ri,ni,ii,oi,ai=E()((ti(Jn=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Zn(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.removeChart=function(){var t;null===(t=this.chart)||void 0===t||t.remove()},r.refresh=function(){var t;null===(t=this.chart)||void 0===t||t.resize()},e}(Qn),"xtype","report.chart_gamma"),ti(Jn,"VERSION","1.0.0"),ti(Jn,"BUILD_TIME","2020-11-2 17:32:05"),$n=Jn))||$n;function ci(t,e){return(ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function si(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ui,li,fi,hi,pi,di=(ei=E(),ri=nt(),ei((si(oi=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),ci(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.resize=function(t,e,r){var n;e&&t&&(this.options.wScale=t,this.options.hScale=e,this.options.fontScale=r,null===(n=this.chart)||void 0===n||n.setAutoFitScale(r,t,e))},r.enforceChartAttr=function(){var t,e=this.options,r=e.wScale,n=e.hScale,i=e.fontScale;null!==(t=this.chartAttr)&&void 0!==t&&t.chartAttr&&(this.chartAttr.chartAttr.wScale=r,this.chartAttr.chartAttr.hScale=n,this.chartAttr.chartAttr.fontScale=i)},r.refresh=function(){var t;null===(t=this.chart)||void 0===t||t.setAutoFitScale(this.options.fontScale,this.options.wScale,this.options.hScale)},r.render=function(){return{type:BI.AbsoluteLayout.xtype}},e}(ai),"xtype","report.chart_delta"),si(oi,"VERSION","2.0.0"),si(oi,"BUILD_TIME",""),ui=(ii=oi).prototype,"render",li=[ri],fi=Object.getOwnPropertyDescriptor(ii.prototype,"render"),hi=ii.prototype,pi={},Object.keys(fi).forEach((function(t){pi[t]=fi[t]})),pi.enumerable=!!pi.enumerable,pi.configurable=!!pi.configurable,("value"in pi||pi.initializer)&&(pi.writable=!0),pi=li.slice().reverse().reduce((function(t,e){return e(ui,"render",t)||t}),pi),hi&&void 0!==pi.initializer&&(pi.value=pi.initializer?pi.initializer.call(hi):void 0,pi.initializer=void 0),void 0===pi.initializer&&(Object.defineProperty(ui,"render",pi),pi=null),ni=ii))||ni);function yi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var gi=new(function(){function t(){vi(this,"list",[di,ai,Qn,jn]),vi(this,"chart",jn)}var e=t.prototype;return e.initChart=function(){if(!this.chart){var t=VanCharts,e=t.version,r=t.buildTime,n=this.list.find((function(t){return"1.0.0"===e?new Date(r)>=new Date(t.BUILD_TIME):e>=t.VERSION}));this.chart=n||Qn}},e.hideFullScreenChart=function(){VanCharts.hideFullScreenChart()},function(t,e,r){e&&yi(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(t,[{key:"xtype",get:function(){return this.initChart(),this.chart.xtype}}]),t}());function bi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bi(Object(r),!0).forEach((function(e){Ei(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wi(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Oi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xi(t,e){return(xi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ei(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ji=function(t){function e(e){var r,n;Ei(Oi(n=t.call(this,e)||this),"width",void 0),Ei(Oi(n),"height",void 0),Ei(Oi(n),"parameters",void 0),Ei(Oi(n),"chartDigTitle",void 0),Ei(Oi(n),"chartHyperLinkId",void 0),Ei(Oi(n),"chartManager",void 0);var i=e.width,o=e.height,a=e.chartDigTitle,c=e.chartHyperLinkId,s=e.parameters,u=e.external;return n.width=i,n.height=o,n.chartDigTitle=a,n.chartHyperLinkId=c,n.parameters=s,n.chartManager=null==u||null===(r=u.managersGetter)||void 0===r?void 0:r.call(u),n}!function(t,e){t.prototype=Object.create(e.prototype),xi(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r._excute=function(){var t=this,e=this.parameters?this.parameters.reduce((function(t,e){var r=e.value;return t[e.name.toUpperCase()]=r,t}),{}):void 0;(function(t,e){return Kt("chart/pop",{params:{ChartHyperlink_ID:t,__parameters__:e}})})(this.chartHyperLinkId,e).then((function(e){t.openChart({width:t.width,height:t.height,chartID:e.items[0].simpleChartInShowID,chartHyperLinkId:t.chartHyperLinkId})}))},r.openChart=function(t){var e,r=this,n=BI.UUID(),i=t.chartID,o=t.width,a=t.height,c=t.chartHyperLinkId;return BI.Popovers.create(n,{type:Ne.xtype,width:o,height:a,header:this.chartDigTitle,body:{type:gi.xtype,chartHyperLinkId:c,instantiateXHyperLinks:function(t){return Wr(t,{managersGetter:function(){return r.chartManager}})},chartAttrGetter:(e=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){wi(o,n,i,a,c,"next",t)}function c(t){wi(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Bn({chartID:i});case 2:return e=t.sent,t.abrupt("return",mi(mi({},e),{},{chartID:i}));case 4:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})}}).open(n),n},e}(fr);function Si(t,e){return(Si=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ci(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pi=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ci(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"linkageCache",new Map),e}!function(t,e){t.prototype=Object.create(e.prototype),Si(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getWidgetByCellName=function(t){var e,r=this;return this.controllerDict.forEach((function(n,i){r.isChartIDMatchWithCellName(i,t)&&(e=n)})),e},r.link=function(t,e){var r=this.getWidgetByCellName(e);r?r.changeParameter(t):this.linkageCache.set(e,t)},r.isChartIDMatchWithCellName=function(t,e){return t.toUpperCase().startsWith("Cells__".concat(e).toUpperCase())},r.getParameterCacheByChartID=function(t,e){var r=this,n=!(1<arguments.length&&void 0!==e)||e,i="";Array.from(this.linkageCache.keys()).some((function(e){return!!r.isChartIDMatchWithCellName(t,e)&&(i=e,!0)}));var o=this.linkageCache.get(i)||{};return n&&this.linkageCache.delete(i),o},r.update=function(){},e}(Dn);function Ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bi(t,e){return(Bi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ti(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ci(Pi,"NAME","CELL_CHART");var _i=function(t){function e(e){var r,n;return Ti(Ii(n=t.call(this,e)||this),"managersGetter",void 0),Ti(Ii(n),"relateCCName",void 0),Ti(Ii(n),"parameters",void 0),Ti(Ii(n),"silent",!0),n.parameters=e.parameters,n.managersGetter=null===(r=e.external)||void 0===r?void 0:r.managersGetter,n.relateCCName=e.relateCCName,n}return function(t,e){t.prototype=Object.create(e.prototype),Bi(t.prototype.constructor=t,e)}(e,t),e.prototype._excute=function(){var t,e=this.parameters.reduce((function(t,e){var r=e.value;return t[e.name.toUpperCase()]=r,t}),{}),r=null===(t=this.managersGetter)||void 0===t?void 0:t.call(this).get(Pi.NAME);r&&r.link(e,this.relateCCName)},e}(fr);function ki(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ni(t,e){return(Ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ai(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vi=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ai(ki(e=t.call.apply(t,[this].concat(n))||this),"uninitializedDict",new Map),Ai(ki(e),"unmountDict",new Map),Ai(ki(e),"shouldHideSelectFrame",!1),e}!function(t,e){t.prototype=Object.create(e.prototype),Ni(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.addUninitializedWidget=function(t,e,r){this.uninitializedDict.set(t,e),r&&this.unmountDict.set(t,r)},r.mountWidget=function(t){var e;null===(e=this.unmountDict.get(t))||void 0===e||e(),this.unmountDict.delete(t)},r.initializeWidget=function(t){var e;null===(e=this.uninitializedDict.get(t))||void 0===e||e.init(),this.uninitializedDict.delete(t)},r.getUninitializedWidgetsDict=function(){return this.uninitializedDict},r.getHideSelectFrameSign=function(){return this.shouldHideSelectFrame},r.setHideSelectFrameSign=function(t){this.shouldHideSelectFrame=t},r.destroy=function(t){var e=this;t?BI.isArray(t)?t.forEach((function(t){e.controllerDict.delete(t),e.uninitializedDict.delete(t),e.unmountDict.delete(t)})):(this.controllerDict.delete(t),this.uninitializedDict.delete(t),this.unmountDict.delete(t)):this.clear()},r.update=function(){this.controllerDict.forEach((function(t){t.blur()}))},r.clear=function(){this.controllerDict.forEach((function(t){t.destroy()})),this.uninitializedDict.clear(),this.unmountDict.clear(),t.prototype.clear.call(this)},r.getWidgetDependenceByCellId=function(t,e){var r=this,n=1<arguments.length&&void 0!==e?e:[],i=(0<arguments.length&&void 0!==t?t:"").toUpperCase(),o=new Map;return this.controllerDict.forEach((function(t){var e=t.attr("dependenceMap")||{};Object.values(e).forEach((function(e){var r=o.get(e)||[],n=t.attr("cellId");n&&r.push(n.toUpperCase()),o.set(e.toUpperCase(),r)}))})),this.uninitializedDict.forEach((function(t){var e=t.dependenceMap,r=t.cellId;Object.values(e).forEach((function(t){var e=o.get(t)||[];r&&e.push(r.toUpperCase()),o.set(t.toUpperCase(),e)}))})),(o.get(i)||[]).forEach((function(t){n.includes(t)||(n.push(t),r.getWidgetDependenceByCellId(t,n))})),n},e}(Ke);function Di(t,e){return(Di=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}Ai(Vi,"NAME","CELL_CONTROLLER");var Ri,Li,Mi=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Di(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.destroy=function(){t.prototype.destroy.call(this)},r.update=function(){this.destroy()},r.clear=function(){this.controllerDict.forEach((function(t){t.destroy()})),t.prototype.clear.call(this)},r.adjustErrorTip=function(t,e,r){var n=this.getWidgetByName(t);if(n){var i=e.width,o=0,a=r.right,c=r.bottom,s=r.top,u=r.width,l=n.element.width(),f=n.element.height();(e.x||0)+e.width+l>a&&(o=c-(e.y||0)-e.height>(e.y||0)-s?f:-f);var h=u/2<l;h&&(n.setWidth(u/2),n.setTitle(n.getText())),i=h?e.width-u/2:e.width-l,o&&n.element.css({left:i,top:o})}},e}(Ke);Li="ERROR_TIP","NAME"in(Ri=Mi)?Object.defineProperty(Ri,"NAME",{value:Li,enumerable:!0,configurable:!0,writable:!0}):Ri.NAME=Li;var zi={type:"color"},Hi={width:0,style:"solid",color:-1},Wi={shadowBlur:5,shadowColor:"black",shadowOffsetX:1,shadowOffsetY:1},Fi="bias",Gi="simplechart",Ui="currencyLine",Yi="image",Xi="webimage",qi="text",Ki="node",$i="download";function Ji(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Qi(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Qi(Object(r),!0).forEach((function(e){to(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function to(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eo(t,e){var r="".concat(t,"-").concat(BI.UUID()),n=".".concat(r);return i.a.use(d(),b()),i.a.createStyleSheet({"@global":to({},"".concat(n),{"font-size":"".concat(e,"px")})}).attach(),r}function ro(t,e){return t?{}:{width:"".concat((1/(1<arguments.length&&void 0!==e?e:1)*100).toFixed(0),"%")}}function no(t,e){return e?void 0:t}function io(t){return{"font-style":t,"padding-right":"0.1em"}}function oo(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="report-contoller-editor-".concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},to(e,"".concat(u),{opacity:r,background:n}),to(e,"".concat(u," .bi-input"),{color:o}),to(e,"".concat(u," .bi-textarea"),{color:o}),to(e,"".concat(u," .bi-border"),{border:a,"boder-radius":c}),e)}).attach(),s}function ao(t){var e=0<arguments.length&&void 0!==t?t:[];return BI.isNull(e)?[]:BI.isArray(e)?e.map((function(t){var e=t.text,r=t.value;return{text:"".concat(e),value:"".concat(BI.isNull(r)?"":r)}})):(BI.Msg.toast(BI.i18nText(e.error)),[])}function co(t,e){var r,n=e.fontSize,o="".concat(t,"-").concat(BI.UUID());i.a.use(d(),b());var a=".".concat(o," .bi-trigger-icon-button.bi-icon-button"),c=n/12,s="".concat(15*c,"px !important"),u="".concat(24*c,"px !important");return i.a.createStyleSheet({"@global":(r={},to(r,"".concat(a),{width:u,"font-size":"".concat(16*c,"px")}),to(r,".".concat(o,">.bi-trigger.bi-text-trigger >div:first-child"),{"font-size":"".concat(n,"px")}),to(r,".".concat(o,">.bi-combo .bi-trigger .bi-searcher >div:first-child"),{"font-size":"".concat(n,"px")}),to(r,".".concat(o,"> .bi-trigger .bi-searcher >div:first-child"),{"font-size":"".concat(n,"px")}),to(r,".".concat(o," .bi-multi-tree-check-selected-button .x-icon"),{"font-size":"".concat(n,"px")}),to(r,".".concat(o," .bi-multi-tree-check-selected-button .bi-icon-button"),{width:s,height:s,"line-height":s}),to(r,".".concat(o," .bi-multi-tree-check-selected-button .bi-text"),{"font-size":"".concat(n,"px"),"line-height":s}),to(r,".".concat(o," .bi-switcher .bi-multi-select-check-selected-button .bi-text"),{"font-size":"".concat(n,"px")}),r)}).attach(),o}function so(){return uo.apply(this,arguments)}function uo(){return(uo=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ji(o,n,i,a,c,"next",t)}function c(t){Ji(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r,n,i){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(Zi(Zi({},i),{},{widgetname:e})).then((function(t){if(t){var e=i.__text__;if(BI.isString(t)||!("value"in t))return r&&e?{text:"".concat(e),value:"".concat(e)}:void 0;var n=t.value;if(!BI.isEmptyString(n))return{text:"".concat(n.text),value:"".concat(n.val)}}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lo(t,e){var r="".concat(t,"-").concat(BI.UUID()),n=".".concat(r);return i.a.use(d(),b()),i.a.createStyleSheet({"@global":to({},"".concat(n," input"),{"line-height":"".concat(e,"px")})}).attach(),r}function fo(t,e,r,n){var i=1<arguments.length&&void 0!==e?e:",",o=2<arguments.length&&void 0!==r?r:"",a=3<arguments.length&&void 0!==n?n:"",c="".concat(t);return c.substring(0,1)===o&&(c=c.substring(1)),c.substring(c.length-1)===a&&(c=c.substring(0,c.length-1)),c.split(i)}function ho(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function po(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(97);var yo=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ho(Object(r),!0).forEach((function(e){po(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ho(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pause:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46,numlock:144,scroll:145,f1:112,f2:113,f12:123,return:13},function(){for(var t={},e=0;e<26;e++)0<=e&&e<=9&&(t[e]=[48+e,96+e]),t[String.fromCharCode(97+e)]=e+65;return t}());function vo(t,e){var r=t.fontSize,n=t.color,o=t.fontWeight,a=t.fontFamily,c=t.decoration,s=t.initial,u=t.click,l=t.hover,f=t.fontStyle,h=t.opacity,p=t.background,y=t.border,v=t["border-radius"];i.a.use(d(),b());var g={};r&&(g["font-size"]=BI.isNumeric(r)?"".concat(r,"px"):"".concat(r)),g.color=n,g["font-weight"]=o,g["font-family"]=a,g["text-decoration"]=c,g.background=(null==s?void 0:s.background)||"transparent",null!=s&&s["background-size"]&&(g["background-size"]=null==s?void 0:s["background-size"]),null!=s&&s["background-position"]&&(g["background-position"]=null==s?void 0:s["background-position"]),null!=s&&s["image-rendering"]&&(g["image-rendering"]=null==s?void 0:s["image-rendering"]),g["border-radius"]="2px",g["border-width"]="1px solid transparent",h&&(g.opacity="".concat(h)),p&&(g.background="".concat(p)),y&&(g.border="".concat(y)),v&&(g["border-radius"]="".concat(v)),l&&(g["&:hover"]={background:l.background}),u&&(g["&:active"]={background:u.background}),i.a.createStyleSheet({"@global":["body","#body"].reduce((function(t,r){var n="".concat(r," .bi-button.button-common.").concat(e);return t[n]=g,t["".concat(n," .bi-text")]=f?io(f):{},t["".concat(n," .bi-icon-label")]={margin:"0 4px"},t}),{})}).attach()}function go(t){return t in yo?yo[t]:yo.enter}function bo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mo(t,e){return(mo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function wo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Oo,xo,Eo=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return wo(bo(e=t.call.apply(t,[this].concat(n))||this),"bubbleName",BI.UUID()),wo(bo(e),"silence",!1),wo(bo(e),"props",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),mo(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.isUnavailableState=function(){return!this.isEnabled()||!this.isVisible()},r.validate=function(){return!0===this.getValidation().result},r.emitManualStopEditEvent=function(){},r.setSilent=function(t){this.silence=t},r.setValue=function(){var t=this;Promise.resolve(this.setControllerValue.apply(this,arguments)).then((function(){t.hideBubble(),t.fireEvent("EVENT_SET_VALUE")}))},r.setText=function(){this.setValue.apply(this,arguments)},r.preValidateAndToast=function(){var t=this.preGetValidation();return!0===t.result||(BI.Msg.toast("".concat(this.attr("widgetName"),": ").concat(t.errorMsg),{level:"error"}),!1)},r.getValidation=function(){return this.isUnavailableState()?this.preGetValidation():this.postGetValidation()},r.validateAndToast=function(){return this.isUnavailableState()?this.preValidateAndToast():this.postValidateAndToast()},r.validateAndMsgToast=function(t){var e=0<arguments.length&&void 0!==t?t:this.attr("widgetName")||"",r=this.getValidation();return!!r.result||(BI.Msg.toast("".concat(e,": ").concat(r.errorMsg),{level:"error"}),!1)},r.showBubble=function(t){BI.Bubbles.show(this.bubbleName,t,this,{offsetStyle:"left"})},r.hideBubble=function(){BI.Bubbles.hide(this.bubbleName,this,{offsetStyle:"left"})},r.refresh=function(){},r.mounted=function(){this.fireEvent("afterinit")},r.resize=function(t,e){var r=this.isEnabled();this.preResize(t,e),this.setEnable(r)},r.preResize=function(e,r){return(this.options.width!==e||this.options.height!==r)&&(this.options.width=e,this.options.height=r,this.element.css("width",e),this.element.css("height",r),t.prototype.reset.call(this),!0)},r.setFontSize=function(t){this.options.fontSize=t},r.getAdapter=function(){},r.reloadControlAttr=function(){},r.focus=function(){},r.blur=function(){},r.getType=function(){return this.attr("xtype")},r.getSubmitValue=function(){return wo({},this.attr("widgetName"),this.getValue())},e}(BI.Widget);function jo(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function So(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Co(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?So(Object(r),!0).forEach((function(e){Bo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):So(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Po(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Io(t,e){return(Io=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Bo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var To,_o,ko=E()((Bo(xo=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Bo(Po(e=t.call.apply(t,[this].concat(n))||this),"button",void 0),Bo(Po(e),"keydownListener",void 0),Bo(Po(e),"btnCls","report-main-parameter-container-controller-button-".concat(BI.UUID())),Bo(Po(e),"props",{baseCls:"report-main-parameter-container-controller-button",width:80,height:21,text:"",value:"",xtype:"button",hotkeys:"",isToggle:!1,isCustomStyle:!1,icon:"",initial:void 0,over:void 0,click:void 0,disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,color:"",fontweight:"",fontfamily:"",decoration:"",fontstyle:void 0,$testId:"report-main-parameter-container-controller-button",widgetName:"",allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Io(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.mounted=function(){var t,e=this,r=this.options.hotkeys;this.silence||this.fireEvent("afterinit"),this.button.text.setStyle({"text-overflow":"clip"});var n=r.trim().split("+");null===(t=this.keydownListener)||void 0===t||t.remove(),this.keydownListener=BI.EventListener.listen(document,"keydown",BI.debounce((function(t){if(!BI.isEmptyString(r))if(1!==BI.size(n)){var i=[t.keyCode];t.ctrlKey||t.metaKey?i.unshift("ctrl"):t.altKey?i.unshift("alt"):t.shiftKey&&i.unshift("shift"),1!==i.length&&BI.isEqual([n[0],go(n[1])],i)&&e.doClick()}else{var o=go(BI.first(n));(BI.isArray(o)&&-1!==o.indexOf(t.keyCode)||t.keyCode===o)&&e.doClick()}}),300))},r.render=function(){var t=this,e=this.options,r=e.iconInfo,n=e.fontSize,i=e.fontweight,o=e.fontfamily,a=e.width,c=e.height,s=e.text,u=e.color,l=e.decoration,f=e.initial,h=e.click,p=e.over,d=e.fontstyle,y=e.xtype,v=e.widgetName,g=this.btnCls;vo("freebutton"===y?{fontSize:n,color:u,fontWeight:i,fontFamily:o,decoration:l,initial:f,click:h,hover:p,fontStyle:d}:{fontSize:n,initial:{background:"inhreit"}},g);var b=r?{iconCls:T(r),iconWidth:16}:{};return Co(Co({type:BI.Button.xtype,ref:function(e){t.button=e},cls:"button ".concat(g),attributes:{id:"fr-btn-".concat(v)}},b),{},{level:"common",width:a,textWidth:a,height:c,text:s,minWidth:0,block:"freebutton"===y,listeners:[{eventName:BI.Button.EVENT_CHANGE,action:function(){t.silence||t.fireEvent("click")}}]})},r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.postValidateAndToast=function(){return!0},r.getValue=function(){return this.button.getText()},r.getText=function(){return this.button.getText()},r.reset=function(){this.button.setText(this.options.text)},r.doClick=function(){var t=this;BI.delay((function(){t.button.doClick()}),2*BI.EVENT_RESPONSE_TIME)},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){jo(o,n,i,a,c,"next",t)}function c(t){jo(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(BI.isNull(e)||BI.isEmptyString(e))return t.abrupt("return");t.next=2;break;case 2:this.button.setText(e);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.setControllerValue(t)},r.setFontSize=function(t){this.options.fontSize=t},r.setStyle=function(t){vo(t,this.btnCls)},e}(Eo),"xtype","report.main.parameter_container.controller.button"),Oo=xo))||Oo;function No(t){return"true"===t||!0===t}function Ao(t,e){var r="".concat(t,"-").concat(BI.UUID()),n=".".concat(r," .bi-checkbox .checkbox-content:after");return i.a.use(d(),b()),i.a.createStyleSheet({"@global":function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},"".concat(n),{"border-width":"".concat(2*e,"px"),width:"".concat(6*e,"px"),height:"".concat(8*e,"px"),top:"".concat(5*e,"px"),left:"".concat(2*e,"px")})}).attach(),r}function Vo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Do(t,e){return(Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ro(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Lo,Mo,zo=E()((Ro(_o=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ro(Vo(e=t.call.apply(t,[this].concat(n))||this),"checkbox",void 0),Ro(Vo(e),"text",void 0),Ro(Vo(e),"props",{extraCls:"bi-multi-select-item",height:void 0,logic:{dynamic:!1},hgap:2,rgap:void 0,text:"",keyword:"",value:"",py:"",scale:1,width:80,title:function(){return e.options.text}}),e}!function(t,e){t.prototype=Object.create(e.prototype),Do(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=16*e.scale+2,n=12*e.scale;return{type:BI.TableAdaptLayout.xtype,cls:Ao("report-main-components-multiselect-item",e.scale),horizontalAlign:BI.HorizontalAlign.Left,verticalAlign:e.logic.dynamic?BI.VerticalAlign.Middle:void 0,columnSize:[n,""],items:[{type:BI.CenterAdaptLayout.xtype,items:[{type:BI.Checkbox.xtype,cls:"bi-card",ref:function(e){t.checkbox=e},width:n,height:n,iconWidth:n,iconHeight:n,listeners:[{eventName:BI.Controller.EVENT_CHANGE,action:function(e){e===BI.Events.CLICK&&t.setSelected(t.isSelected())}}]}],width:n,height:r},{type:BI.Label.xtype,ref:function(e){t.text=e},rgap:e.rgap,keyword:e.keyword,py:e.py,cls:"list-item-text",textAlign:"left",whiteSpace:"normal",hgap:e.hgap*e.scale,text:e.text,value:e.value}]}},r.doRedMark=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.text.doRedMark(e)},r.unRedMark=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.text.unRedMark(e)},r.doClick=function(){t.prototype.doClick.apply(this,arguments),this.checkbox.setSelected(this.isSelected()),this.isValid()&&this.fireEvent(BI.MultiSelectItem.EVENT_CHANGE,this.getValue(),this)},r.setSelected=function(e){t.prototype.setSelected.apply(this,arguments),this.checkbox.setSelected(e)},e}(BI.BasicButton),"EVENT_CHANGE","EVENT_CHANGE"),Ro(_o,"xtype","report.main.components.multiselect_item"),To=_o))||To;function Ho(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Wo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fo(t,e){return(Fo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Go(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Uo,Yo,Xo=E()((Go(Mo=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Go(Wo(r=t.call.apply(t,[this].concat(i))||this),"checkbox",void 0),Go(Wo(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,width:80,height:21,text:"",value:!1,disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,allowBg:!0}),r}!function(t,e){t.prototype=Object.create(e.prototype),Fo(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.width,i=r.text,o=r.value,a=r.fontSize,c=eo(e.BASE_CLS,a);return{type:BI.VerticalLayout.xtype,scrolly:!0,items:[{type:zo.xtype,cls:"".concat(c),ref:function(e){t.checkbox=e},scale:a/12,width:n,text:i,logic:{dynamic:!0},selected:No(o),iconWrapperWidth:20,listeners:[{eventName:BI.MultiSelectItem.EVENT_CHANGE,action:function(){t.silence||t.fireEvent("statechange"),t.fireEvent("EVENT_CHANGE")}}]}]}},r.postValidateAndToast=function(){return!0},r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.getValue=function(){return this.checkbox.isSelected()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ho(o,n,i,a,c,"next",t)}function c(t){Ho(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.checkbox.setSelected(No(e));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.setControllerValue(t)},r.reset=function(){this.checkbox.setSelected(!1)},r.resize=function(e,r){var n=this.checkbox.isSelected();t.prototype.resize.call(this,e,r),this.checkbox.setSelected(n)},r.setStyle=function(t){this.checkbox.element.addClass(function(t){var e=t.opacity,r=t.background,n=t.color;i.a.use(d(),b());var o="".concat(Xo.BASE_CLS,"-").concat(BI.UUID()),a={};return e&&(a.opacity="".concat(e)),r&&(a.background="".concat(r)),n&&(a.color="".concat(n)),i.a.createStyleSheet({"@global":function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},".".concat(o),a)}).attach(),o}(t))},r.getText=function(){return this.options.text},e}(Eo),"xtype","report.main.parameter_container.controller.checkbox"),Go(Mo,"BASE_CLS","report-main-parameter-container-controller-checkbo"),Lo=Mo))||Lo;function qo(t,e,r,n,i){var o=BI.isArray(e)?e.slice(0):""===e?[]:fo(e,r,n,i);return t.forEach((function(t){var e=o.findIndex((function(e){return"".concat(e)===t.value}));-1!==e&&(o.splice(e,1),t.selected=!0)})),t.forEach((function(t){var e=o.findIndex((function(e){return"".concat(e)===t.text}));-1!==e&&(o.splice(e,1),t.selected=!0)})),t}function Ko(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function $o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jo(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$o(Object(r),!0).forEach((function(e){Qo(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$o(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zo(t,e,r){var n=2<arguments.length?r:void 0;return $t("widget/data",{data:Jo(Jo({},1<arguments.length&&void 0!==e?e:{}),{},{widgetname:t}),baseURL:bt.ReqPrefix,cancelToken:n}).catch((function(){}))}function ta(t){return Zo(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function ea(t){return ra.apply(this,arguments)}function ra(){return(ra=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Ko(o,n,i,a,c,"next",t)}function c(t){Ko(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",$t("widget/view/value",{data:e,baseURL:bt.ReqPrefix}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function na(t){return Zo(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function ia(t){return Zo(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},2<arguments.length?arguments[2]:void 0).then((function(t){return t||[]}))}function oa(t){return Zo(t,Jo(Jo({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),{},{fine_outlet_widget:"nx",completion:!0}))}function aa(t){var e=2<arguments.length?arguments[2]:void 0;return Zo(t,Jo(Jo({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),{},{fine_outlet_widget:"nx"}),e)}function ca(t){return"".concat(bt.ReqPrefix,"/attach/download?id=").concat(t,"&sessionID=").concat(ht.SessionID)}function sa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ua(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sa(Object(r),!0).forEach((function(e){ya(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function la(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function fa(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){la(o,n,i,a,c,"next",t)}function c(t){la(o,n,i,a,c,"throw",t)}a(void 0)}))}}function ha(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function pa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function da(t,e){return(da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ya(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var va,ga,ba=E()((ya(Yo=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ya(pa(r=t.call.apply(t,[this].concat(i))||this),"lists",void 0),ya(pa(r),"selectedAllValue",BI.UUID()),ya(pa(r),"selectedAllItem",{text:BI.i18nText("BI-Select_All"),value:r.selectedAllValue}),ya(pa(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,widgetName:"",width:80,height:21,adaptive:!1,columnsInRow:1,controlAttr:{data:[],value:""},customData:!0,directEdit:!0,autoMode:!0,mode:"remote",searchTime:200,chooseAll:!1,noRepeat:!0,needSubmit:!1,disabled:!1,invisible:!1,fontSize:12,value:"",delimiter:",",startSymbol:"",endSymbol:"",returnArray:!1,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),controlAttrFetcher:ta,extraOptsGetter:function(){return{}},getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},allowBg:!0}),r}!function(t,e){t.prototype=Object.create(e.prototype),da(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.width,n=e.height;return{type:BI.ButtonGroup.xtype,cls:"report-hide-scrollbar",ref:function(e){t.lists=e},chooseType:BI.ButtonGroup.CHOOSE_TYPE_MULTI,items:this.items,layouts:[{type:BI.FloatLeftLayout.xtype,width:r,height:n,scrolly:!0}]}},r.mounted=function(){t.prototype.mounted.call(this),this.checkAllSelected()},r.checkAllSelected=function(){if(this.options.chooseAll){var t=0,e=this.lists.getAllButtons();e.forEach((function(r,n){n!==e.length-1&&r.isSelected()&&(t+=1)})),BI.last(e).setSelected(t===e.length-1)}},r.getValue=function(){var t=this.options,e=t.delimiter,r=t.returnArray,n=t.startSymbol,i=t.endSymbol,o=this.lists.getAllButtons().filter((function(t){return t.isSelected()})).map((function(t){return t.getValue()}));return BI.remove(o,this.selectedAllValue),function(t,e){var r=e.delimiter,n=e.startSymbol,i=e.endSymbol,o=e.returnArray,a=t.filter((function(t){return t})),c=no(r,o);return c?"".concat(n).concat(a.join(c)).concat(i):a}(o,{delimiter:e,returnArray:r,startSymbol:n,endSymbol:i})},r.preGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.value,n=t.errorMsg,i=t.controlAttr,o=t.delimiter,a=t.startSymbol,c=t.endSymbol;return e||qo(ao(i.data),r,o,a,c).some((function(t){return t.selected}))?{result:!0}:{result:!1,errorMsg:n}},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg;return e||0<this.lists.getValue().length?{result:!0}:{result:!1,errorMsg:r}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.setControllerValue=function(){var t=fa(regeneratorRuntime.mark((function t(e){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reset(),BI.isNull(e))return t.abrupt("return");t.next=3;break;case 3:r=this.lists.getAllButtons(),n=this.options,i=n.delimiter,o=n.startSymbol,a=n.endSymbol,qo(r.map((function(t){return{text:t.attr("text"),value:t.getValue()}})),e,i,o,a).forEach((function(t,e){r[e].setSelected(t.selected||!1)})),this.checkAllSelected();case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.lists.getAllButtons().forEach((function(t){t.setSelected(!1)}))},r.setInteractValue=function(t){this.options.controlAttr=t,this.options.value=t.value,this.lists.populate(this.items)},r.resize=function(e,r){var n=this.lists.getValue();t.prototype.resize.call(this,e,r),this.lists.setValue(n)},r.updateControlAttr=function(){var t=fa(regeneratorRuntime.mark((function t(){var e,r,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,r=e.widgetName,n=e.controlAttrFetcher,t.abrupt("return",n(r,this.getRequestOpts()).then((function(t){i.options.controlAttr={data:t,value:i.options.value}})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.reloadControlAttr=function(){var t=this;this.reset(),this.updateControlAttr().then((function(){t.lists.populate(t.items)}))},r.getRequestOpts=function(){var t=this.options,e=t.getWidgetDependenceValueByWidget,r=t.getDependenceByWidget,n=t.extraOptsGetter;return ua({dependence:e(this),reload:BI.isNotEmptyArray(r(this))},n())},r.setStyle=function(t){this.lists.element.addClass(function(t){var e=t.opacity,r=t.background,n=t.color;i.a.use(d(),b());var o="".concat(ba.BASE_CLS,"-").concat(BI.UUID()),a={};return e&&(a.opacity="".concat(e)),r&&(a.background="".concat(r)),n&&(a.color="".concat(n)),i.a.createStyleSheet({"@global":function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}({},".".concat(o),a)}).attach(),o}(t))},r.getText=function(){var t=this.lists.getAllButtons().filter((function(t){return t.isSelected()})).map((function(t){return t.getText()}));return BI.remove(t,this.selectedAllItem.text),"".concat(t)},function(t,e,r){e&&ha(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"items",get:function(){var t=this,r=this.options,n=r.fontSize,i=r.columnsInRow,o=r.adaptive,a=r.chooseAll,c=r.controlAttr,s=r.value,u=r.delimiter,l=r.startSymbol,f=r.endSymbol,h=eo(e.BASE_CLS,n);return qo(ao(c.data),s,u,l,f).concat(a?[this.selectedAllItem]:[]).map((function(e){var r=e.text,c=e.value,s=e.selected,u=void 0!==s&&s;return ua(ua({type:zo.xtype,width:null,scale:n/12,cls:"".concat(h," bi-list-item-active"),$testId:"report-main-parameter-container-controller-checkbox-group-item",text:r,value:c,selected:u,logic:{dynamic:o}},ro(o,i)),{},{listeners:[{eventName:BI.MultiSelectItem.EVENT_CHANGE,action:function(e,r){if(a){var n=r.isSelected();e===t.selectedAllValue?t.lists.getAllButtons().forEach((function(t){t.setSelected(n)})):t.checkAllSelected()}}},{eventName:BI.MultiSelectItem.EVENT_CHANGE,action:function(){t.hideBubble(),t.silence||t.fireEvent("statechange"),t.fireEvent("EVENT_CHANGE")}}]})}))}}]),e}(Eo),"xtype","report.main.parameter_container.controller.checkbox_group"),ya(Yo,"BASE_CLS","report-main-parameter-container-controller-checkbox-group"),Uo=Yo))||Uo;function ma(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wa(t,e){return(wa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Oa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xa,Ea,ja=j()((Oa(ga=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Oa(ma(e=t.call.apply(t,[this].concat(n))||this),"options",void 0),Oa(ma(e),"computed",{}),Oa(ma(e),"actions",{updateName4Empty:function(){e.model.name4Empty=e.options.name4EmptyGetter()||BI.i18nText("BI-Basic_No_Select")}}),e}return function(t,e){t.prototype=Object.create(e.prototype),wa(t.prototype.constructor=t,e)}(e,t),e.prototype.state=function(){return{name4Empty:this.options.name4EmptyGetter()||BI.i18nText("BI-Basic_No_Select")}},e}(C),"xtype","report.model.main.parameter_container.controller.singleselectpopup"),va=ga))||va;function Sa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sa(Object(r),!0).forEach((function(e){Ba(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pa(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ia(t,e){return(Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ba(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ta,_a,ka=E()(xa=S(ja,{props:function(){return{name4EmptyGetter:this.options.name4EmptyGetter}}})((Ba(Ea=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ba(Pa(e=t.call.apply(t,[this].concat(n))||this),"pane",void 0),Ba(Pa(e),"props",{itemsCreator:BI.emptyFn,keywordGetter:function(){},valueGetter:function(){},unmatchedValueGetter:function(){return[]},minWidth:135,maxHeight:400,height:72,value:void 0,customData:!0,allowNoSelect:!0,repopulateGetter:function(){return!1},name4EmptyGetter:function(){return""},itemHeightGetter:function(){return 24},maxCountGetter:function(){return 0},popupAdjuster:function(){},tipText:""}),Ba(Pa(e),"store",void 0),Ba(Pa(e),"model",void 0),Ba(Pa(e),"addTextBtn",void 0),Ba(Pa(e),"notSelectBtn",void 0),Ba(Pa(e),"unmatchedValues",[]),Ba(Pa(e),"value",void 0),Ba(Pa(e),"hasNext",!1),Ba(Pa(e),"afterInit",!1),Ba(Pa(e),"vtapeWrapper",void 0),Ba(Pa(e),"loader",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ia(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.itemsCreator,i=r.itemHeightGetter,o=r.keywordGetter,a=r.value,c=r.allowNoSelect,s=r.tipText;return this.value=BI.deepClone(a),{type:BI.VTapeLayout.xtype,ref:function(e){t.vtapeWrapper=e},items:[{el:{type:BI.VerticalLayout.xtype,scrolly:!1,items:[{type:BI.SingleSelectItem.xtype,cls:"bi-list-item-active",iconWrapperWidth:36,ref:function(e){t.notSelectBtn=e},text:function(){return t.model.name4Empty},invisible:!c,height:i(),listeners:[{eventName:BI.SingleSelectItem.EVENT_CHANGE,action:function(){t.fireEvent(e.EVENT_CLEAR),t.notSelectBtn.setSelected(!1)}}]},{type:BI.TextButton.xtype,ref:function(e){t.addTextBtn=e},invisible:!0,text:BI.i18nText("BI-Basic_Click_To_Add_Text",""),height:i(),cls:"bi-high-light",hgap:5,handler:function(){t.fireEvent(e.EVENT_CHANGE,o(),o(),!0)}}]},height:i()},{type:BI.ListPane.xtype,tipText:s,ref:function(e){t.pane=e},itemsCreator:function(e,r){var i=o();e.keyword=i,n(e,(function(n){t.hasNext=n.hasNext,n.items=t.transformItems(n.items),r(t.createItems(n.items)),1===e.times&&(t.resizeLayout(n.items),t.resize(0<BI.size(n.items)))}))},el:{type:BI.Loader.xtype,ref:function(e){t.loader=e},el:{chooseType:BI.ButtonGroup.CHOOSE_TYPE_MULTI},layouts:[{type:BI.VerticalLayout.xtype,height:400,minHeight:400,scrolly:!0}]},hasNext:function(){return t.hasNext},listeners:[{eventName:BI.Pane.EVENT_LOADED,action:function(){t.fireEvent(e.EVENT_LOADED)}}]}]}},r.resizeLayout=function(t){var e=this.options,r=e.allowNoSelect,n=e.itemHeightGetter;this.vtapeWrapper.attr("items")[0].height=0!==BI.size(t)&&r?n():0,this.vtapeWrapper.resize()},r.resize=function(t){var e=this,r=this.options,n=r.itemHeightGetter,i=r.allowNoSelect,o=r.maxCountGetter,a=i?n():0,c=o()*n();BI.nextTick((function(){e.handleResize(t,(c||e.loader.element.height()||n())+a)}))},r.resetResize=function(t){this.handleResize(t,72)},r.handleResize=function(t,e){if(this.afterInit){var r=this.options,n=r.itemHeightGetter,i=r.allowNoSelect,o=r.popupAdjuster,a=r.keywordGetter,c=i?n():0;this.pane.setTipVisible(!t),a()||(this.vtapeWrapper.element.css("height",e),this.vtapeWrapper.attr("items")[0].height=t?c:0,this.vtapeWrapper.resize(),o())}else this.afterInit=!0},r.transformItems=function(t){for(var e=this,r=0,n=function(){var n=e.unmatchedValues[r],i=t.findIndex((function(t){return t.text===n.text&&t.value===n.value}));-1!==i?(t.splice(i,1),e.unmatchedValues.splice(r,1)):r+=1};r<this.unmatchedValues.length;)n();t.some((function(t){return!!BI.isNull(e.value)||t.text===e.value.text&&t.value===e.value.value&&(t.selected=!0,!(e.value=void 0))}));var i=this.value?[Ca(Ca({},this.value),{},{selected:!0})]:[];return this.value&&this.unmatchedValues.push(this.value),this.value=void 0,t.concat(i)},r.getValue=function(){var t=this.pane.getAllButtons().find((function(t){return t.isSelected()}));return t?{text:t.attr("text"),value:t.getValue()}:void 0},r.getAllLeaves=function(){return this.pane.getAllButtons().map((function(t){return{text:t.attr("text"),value:t.getValue()}}))},r.populate=function(){this.pane.populate()},r.setAllUnselected=function(){this.pane.getAllButtons().forEach((function(t){t.setSelected(!1)}))},r.selectNextItem=function(){var t=this.pane.getAllButtons(),e=t.findIndex((function(t){return t.isSelected()}));e+1<t.length&&(0<=e&&t[e].setSelected(!1),t[e+1].setSelected(!0))},r.selectPreItem=function(){var t=this.pane.getAllButtons(),e=t.findIndex((function(t){return t.isSelected()}));0<e&&(t[e].setSelected(!1),t[e-1].setSelected(!0))},r.createItems=function(t){var r=this;return BI.createItems(t,{type:BI.SingleSelectItem.xtype,cls:"bi-list-item-active",iconWrapperWidth:36,height:this.options.itemHeightGetter(),keyword:this.options.keywordGetter(),$testId:"report-main-parameter-container-controller-combo-item",listeners:[{eventName:BI.SingleSelectItem.EVENT_CHANGE,action:function(t,n){r.fireEvent(e.EVENT_CHANGE,n.attr("text"),n.getValue(),n.isSelected())}}]})},r.switchState=function(t,e){var r=!1;this.pane.getAllButtons().forEach((function(n){r?n.setSelected(!1):(r=n.attr("text")===t&&n.getValue()===e,n.setSelected(r))})),r&&!this.options.repopulateGetter()||(this.pane.addItems(this.createItems([{text:t,value:e,selected:!0}])),this.options.repopulateGetter()?this.value={text:t,value:e}:this.unmatchedValues.push({text:t,value:e}))},r.setValue=function(t){this.setAllUnselected(),BI.isNotNull(t)&&this.switchState(t.text,t.value)},r.getUnmatchedValues=function(){return this.unmatchedValues},r.resetState=function(){this.unmatchedValues=[],this.value=void 0,this.hasNext=!1},r.updateName4Empty=function(){this.store.updateName4Empty()},e}(BI.Widget),"xtype","report-single-select-popup"),Ba(Ea,"EVENT_CHANGE","EVENT_CHANGE"),Ba(Ea,"EVENT_CLEAR","EVENT_CLEAR"),Ba(Ea,"EVENT_LOADED","EVENT_LOADED"),xa=Ea))||xa)||xa;function Na(t,e){return(Na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Aa(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Va,Da,Ra=E()((Aa(_a=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Aa(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"props",{itemsCreator:BI.emptyFn,keywordGetter:function(){},valueGetter:function(){},unmatchedValueGetter:function(){return[]},minWidth:135,maxHeight:400,height:void 0,value:void 0,customData:!0,allowNoSelect:!1,repopulateGetter:function(){return!1},name4EmptyGetter:function(){return""},itemHeightGetter:function(){return 24},maxCountGetter:function(){return 0},popupAdjuster:function(){},tipText:BI.i18nText("BI-No_Selected_Item")}),e}!function(t,e){t.prototype=Object.create(e.prototype),Na(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.transformItems=function(t){var e=this.options,r=e.valueGetter,n=e.unmatchedValueGetter,i=e.keywordGetter,o=e.customData,a=i()||"",c=n().slice(0),s=r();t.forEach((function(t){var e=!1;BI.isNull(s)?e=!0:(e=s.text===t.text&&s.value===t.value,(t.selected=e)&&(s=void 0));var r=c.findIndex((function(e){return e.text===t.text&&e.value===t.value}));-1!==r&&c.splice(r,1)})),c.forEach((function(t){var e=!1;BI.isNull(s)?e=!0:(e=s.text===t.text&&s.value===t.value,(t.selected=e)&&(s=void 0))}));var u=BI.Func.getSearchResult(c,a,"value"),l=u.match,f=u.find,h=f.concat(t,l);return 0===BI.size(h)&&o?(this.addTextBtn.setText(BI.i18nText("BI-Basic_Click_To_Add_Text",i())),this.addTextBtn.visible()):this.addTextBtn.invisible(),l.concat(t,f)},r.resizeLayout=function(t){this.vtapeWrapper.attr("items")[0].height=0!==BI.size(t)?0:25,this.vtapeWrapper.resize()},e}(ka),"xtype","report-single-select-search-popup"),Ta=_a))||Ta;function La(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ma(t,e){return(Ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function za(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ha,Wa,Fa=E()((za(Da=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return za(La(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-search-text-value-trigger bi-border bi-focus-shadow",height:24,itemsCreator:BI.emptyFn,valueGetter:function(){},unmatchedValueGetter:function(){return[]},watermark:"",allowEdit:!1,customData:!0,itemHeightGetter:function(){return 24},value:""}),za(La(e),"searcher",void 0),za(La(e),"editor",void 0),za(La(e),"popup",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ma(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t,r=this,n=this.options,i=n.height,o=n.itemsCreator,a=n.valueGetter,c=n.watermark,s=n.unmatchedValueGetter,u=n.customData,l=n.itemHeightGetter;return{type:BI.HTapeLayout.xtype,items:[{el:{type:BI.Searcher.xtype,ref:function(t){r.searcher=t},isAutoSearch:!1,el:{type:BI.SignEditor.xtype,ref:function(t){r.editor=t},value:(null===(t=a())||void 0===t?void 0:t.text)||"",allowBlank:!0,watermark:c,height:i,listeners:[{eventName:BI.SignEditor.EVENT_FOCUS,action:function(){r.editor.setValue(""),r.fireEvent(e.EVENT_FOCUS)}},{eventName:BI.SignEditor.EVENT_BLUR,action:function(){r.fireEvent(e.EVENT_BLUR)}},{eventName:BI.SignEditor.EVENT_CLICK,action:function(){r.fireEvent(e.EVENT_CLICK)}},{eventName:BI.SignEditor.EVENT_KEY_DOWN,action:function(){r.fireEvent(e.EVENT_KEY_DOWN)}}]},popup:{type:Ra.xtype,customData:u,cls:"bi-card",ref:function(t){r.popup=t},keywordGetter:function(){return r.editor.getValue()},unmatchedValueGetter:s,itemsCreator:o,valueGetter:a,itemHeightGetter:l,listeners:[{eventName:ka.EVENT_CHANGE,action:function(t,n,i){r.fireEvent(e.EVENT_CHANGE,t,n,i)}}]},onSearch:function(t,e){e()},listeners:[{eventName:BI.Searcher.EVENT_CHANGE,action:function(){}},{eventName:BI.Searcher.EVENT_START,action:function(){r.fireEvent(e.EVENT_START)}},{eventName:BI.Searcher.EVENT_SEARCHING,action:function(){r.fireEvent(e.EVENT_SEARCHING)}},{eventName:BI.Searcher.EVENT_STOP,action:function(){r.fireEvent(e.EVENT_STOP)}}]}},{el:{type:BI.Layout.xtype,width:24},width:24}]}},r.mounted=function(){var t=this;this.options.allowEdit||BI.createWidget({type:BI.AbsoluteLayout.xtype,element:this,items:[{el:{type:BI.Text.xtype,title:function(){return t.editor.getValue()}},left:0,right:24,top:0,bottom:0}]}),BI.EventListener.listen(this.element.context,"keydown",(function(r){if(r.keyCode===BI.KeyCode.ENTER){var n=t.editor.getValue(),i=t.popup.getAllLeaves().find((function(t){return t.text===n}))||{text:n,value:n};t.options.customData&&t.fireEvent(e.EVENT_CHANGE,i.text,i.value,!0)}}))},r.setValue=function(t){this.editor.setValue((null==t?void 0:t.text)||"")},r.stopEditing=function(){this.searcher.stopSearch()},r.getSearcher=function(){return this.searcher},r.getValue=function(){return this.popup.getValue()},r.setAdapter=function(t){this.searcher.setAdapter(t)},r.adjustPopupHeight=function(t){this.setAdapter(t),this.searcher.populate(),this.searcher.adjustHeight()},r.isSearching=function(){return this.searcher.isSearching()},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setWaterMark=function(t){this.editor.setWaterMark(t)},r.selectNextItem=function(){this.popup.selectNextItem()},r.selectPreItem=function(){this.popup.selectPreItem()},e}(BI.Trigger),"EVENT_SEARCHING","EVENT_SEARCHING"),za(Da,"EVENT_STOP","EVENT_STOP"),za(Da,"EVENT_START","EVENT_START"),za(Da,"EVENT_CHANGE","EVENT_CHANGE"),za(Da,"EVENT_FOCUS","EVENT_FOCUS"),za(Da,"EVENT_BLUR","EVENT_BLUR"),za(Da,"xtype","report.single_select_trigger"),za(Da,"EVENT_CLICK","EVENT_CLICK"),za(Da,"EVENT_KEY_DOWN","EVENT_KEY_DOWN"),Va=Da))||Va;function Ga(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ua(t,e){return(Ua=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ya(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xa,qa,Ka=E()((Ya(Wa=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ya(Ga(e=t.call.apply(t,[this].concat(n))||this),"repopulate",!1),Ya(Ga(e),"needResize",!1),Ya(Ga(e),"props",{baseCls:"bi-search-text-value-combo",height:24,text:"",items:[],tipType:"",warningTitle:"",attributes:{tabIndex:0},title:"",value:void 0,itemsCreator:BI.emptyFn,watermark:"",allowEdit:!1,customData:!0,allowNoSelect:!0,controlDataGetter:function(){return[]},name4EmptyGetter:function(){return""},itemHeightGetter:function(){return 24},maxCountGetter:function(){return 0}}),Ya(Ga(e),"combo",void 0),Ya(Ga(e),"trigger",void 0),Ya(Ga(e),"popup",void 0),Ya(Ga(e),"triggerBtn",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ua(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.height,i=r.value,o=r.text,a=r.tipType,c=r.warningTitle,s=r.title,u=r.itemsCreator,l=r.watermark,f=r.allowEdit,h=r.customData,p=r.allowNoSelect,d=r.name4EmptyGetter,y=r.itemHeightGetter,v=r.maxCountGetter;return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Combo.xtype,adjustLength:2,toggle:!f,ref:function(e){t.combo=e},el:{type:Fa.xtype,customData:h,watermark:l,allowEdit:f,itemHeightGetter:y,cls:"search-text-value-trigger bi-border-radius",ref:function(e){t.trigger=e},height:n-2,text:o,value:i,tipType:a,warningTitle:c,itemsCreator:u,valueGetter:function(){return t.popup?t.popup.getValue():i},unmatchedValueGetter:function(){return t.popup?t.popup.getUnmatchedValues():i},title:s,listeners:[{eventName:Fa.EVENT_FOCUS,action:function(){t.fireEvent(e.EVENT_BEFORE_EDIT)}},{eventName:Fa.EVENT_CHANGE,action:function(r,n){t.popup.switchState(r,n),t.fireEvent(e.EVENT_CLICK_ITEM),t.fireEvent(e.EVENT_AFTER_EDIT),t.combo.hideView()}},{eventName:Fa.EVENT_SEARCHING,action:function(){t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:Fa.EVENT_BLUR,action:function(){t.fireEvent(e.EVENT_BLUR)}},{eventName:Fa.EVENT_CLICK,action:function(){t.showView()}}]},popup:{minWidth:135,minHeight:25,maxHeight:500,el:{type:ka.xtype,name4EmptyGetter:d,itemHeightGetter:y,maxCountGetter:v,allowNoSelect:p,itemsCreator:u,customData:h,tipText:p?"":BI.i18nText("BI-No_Selected_Item"),popupAdjuster:function(){t.combo.adjustHeight()},ref:function(e){t.popup=e,t.trigger.setAdapter(t.popup)},repopulateGetter:function(){return t.repopulate},listeners:[{eventName:ka.EVENT_CHANGE,action:function(r,n){t.setValue({value:n,text:r}),t.fireEvent(e.EVENT_CLICK_ITEM),t.fireEvent(e.EVENT_AFTER_EDIT),t.combo.hideView()}},{eventName:ka.EVENT_CLEAR,action:function(){t.reset(),t.fireEvent(e.EVENT_CLICK_ITEM),t.fireEvent(e.EVENT_AFTER_EDIT),t.combo.hideView()}},{eventName:ka.EVENT_LOADED,action:function(){BI.nextTick((function(){t.trigger.isSearching()&&t.trigger.adjustPopupHeight(t.popup)}))}}]},value:i},listeners:[{eventName:BI.Combo.EVENT_AFTER_HIDEVIEW,action:function(){var r=t.trigger.isSearching()?t.getAdapter().getKeyword():void 0;t.trigger.stopEditing(),t.popup&&t.setValue(t.popup.getValue()),t.fireEvent(e.EVENT_CONFIRM,r)}},{eventName:BI.Combo.EVENT_BEFORE_POPUPVIEW,action:function(){t.fireEvent(e.EVENT_BEFORE_POPUPVIEW),t.repopulate?(t.populate([]),t.popup.resetResize(!0),t.repopulate=!1):t.needResize=!0}},{eventName:BI.Combo.EVENT_AFTER_POPUPVIEW,action:function(){t.checkResize()}}],hideChecker:function(e){return 0===t.triggerBtn.element.find(e.target).length}},left:0,right:0,bottom:0,top:0},{el:{type:BI.TriggerIconButton.xtype,cls:"trigger-icon-button",ref:function(e){t.triggerBtn=e},width:n,height:n,handler:function(){t.combo.isViewVisible()?t.combo.hideView():(t.showView(),t.fireEvent(e.EVENT_BEFORE_EDIT))}},right:0,bottom:0,top:0}]}},r.mounted=function(){var t=this;BI.EventListener.listen(this.element.context,"keydown",(function(e){var r,n,i=t.trigger&&t.trigger.isSearching();switch(e.keyCode){case BI.KeyCode.DOWN:null===(r=i?t.trigger:t.popup)||void 0===r||r.selectNextItem();break;case BI.KeyCode.UP:null===(n=i?t.trigger:t.popup)||void 0===n||n.selectPreItem();break;case BI.KeyCode.ENTER:if(i)return;t.combo.hideView()}}))},r.focus=function(){this.trigger.focus(),this.combo.showView(),this.checkResize()},r.blur=function(){this.trigger.blur(),this.combo.hideView()},r.setRepopulate=function(t){this.reset(),this.popup&&this.popup.resetState(),this.popup&&(this.combo.isViewVisible()?this.combo.populate():this.repopulate=t,this.needResize=!0)},r.reset=function(){this.popup&&this.popup.setAllUnselected(),this.setValue()},r.showView=function(){this.combo.showView()},r.checkResize=function(){this.popup&&this.needResize&&(this.popup.resize(!0),this.needResize=!1)},r.populate=function(t){this.options.items=t,this.combo.populate(t)},r.setValue=function(t){this.options.value=t,this.combo.setValue(t)},r.getValue=function(){return this.popup?this.popup.getValue():this.options.value},r.validateData=function(){var t=this.getValue(),e=this.options.controlDataGetter();return!!BI.isEmpty(null==t?void 0:t.value)||e.some((function(e){return e.text===(null==t?void 0:t.text)&&e.value===(null==t?void 0:t.value)}))},r.getAdapter=function(){return this.trigger.getSearcher()},r.setWaterMark=function(t){this.trigger.setWaterMark(t)},r.updateName4Empty=function(){var t;null===(t=this.popup)||void 0===t||t.updateName4Empty()},e}(BI.Widget),"EVENT_CHANGE","EVENT_CHANGE"),Ya(Wa,"EVENT_BEFORE_POPUPVIEW","EVENT_BEFORE_POPUPVIEW"),Ya(Wa,"EVENT_CONFIRM","EVENT_CONFIRM"),Ya(Wa,"xtype","report.single_select_combo"),Ya(Wa,"EVENT_BEFORE_EDIT","EVENT_BEFORE_EDIT"),Ya(Wa,"EVENT_AFTER_EDIT","EVENT_AFTER_EDIT"),Ya(Wa,"EVENT_CLICK_ITEM","EVENT_CLICK_ITEM"),Ya(Wa,"EVENT_BLUR","EVENT_BLUR"),Ha=Wa))||Ha;function $a(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ja(t,e){var r=Qa(t);if(r){var n=e.slice(0),i=n.findIndex((function(t){return t.value==r}));return-1!==i||-1!==(i=n.findIndex((function(t){return t.text==r})))?{text:"".concat(n[i].text),value:"".concat(n[i].value)}:{text:"".concat(r),value:"".concat(r)}}}function Qa(t){if(t)return BI.isObject(t)&&"date_milliseconds"in t?BI.print(new Date(t.date_milliseconds),"%Y-%X-%d"):BI.isArray(t)?t.join(","):t}function Za(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function tc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Za(o,n,i,a,c,"next",t)}function c(t){Za(o,n,i,a,c,"throw",t)}a(void 0)}))}}function ec(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ec(Object(r),!0).forEach((function(e){ac(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ic(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oc(t,e){return(oc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ac(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(36);var cc,sc,uc=E()((ac(qa=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ac(ic(r=t.call.apply(t,[this].concat(i))||this),"props",{baseCls:"".concat(e.BASE_CLS," bi-border-radius"),$testId:"report-main-parameter-container-controller-combo",width:80,height:21,watermark:"",value:"",fontSize:12,needSubmit:!1,disabled:!1,invisible:!1,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),controlAttr:{data:[],value:""},customData:!1,directEdit:!0,noRepeat:!0,autoMode:!0,mode:"remote",searchTime:200,widgetName:"",getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},add2WaitingQueue:function(){return""},removeFromWaitingQueue:function(){},name4Empty:"",sonHeight:24,maxCount:0,controlAttrFetcher:ta,extraOptsGetter:function(){return{}},viewValueFetcher:ea,allowBg:!0,needCheckCustomData:!0}),ac(ic(r),"combo",void 0),ac(ic(r),"ratio",2),r}!function(t,e){t.prototype=Object.create(e.prototype),oc(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.setName4Empty=function(t){var e;this.options.name4Empty=t,null===(e=this.combo)||void 0===e||e.updateName4Empty()},r.render=function(){var t=this,r=this.options,n=r.width,i=r.height,o=r.watermark,a=r.fontSize,c=r.widgetName,s=r.value,u=r.controlAttr,l=r.customData,f=r.directEdit,h=r.allowBlank,p=r.controlAttrFetcher,d=r.allowBg;return{type:Ka.xtype,cls:"".concat(co(e.BASE_CLS,{fontSize:a,width:n,height:i})," ").concat(d?"bi-card":""),ref:function(e){t.combo=e},customData:l,allowEdit:f,allowNoSelect:h,value:Ja(s,ao(u.data)),controlDataGetter:function(){return ao(t.options.controlAttr.data)},name4EmptyGetter:function(){return t.options.name4Empty},itemHeightGetter:function(){return t.options.sonHeight},maxCountGetter:function(){return t.options.maxCount},itemsCreator:function(e,r){p(c,rc(rc({startIndex:500*(e.times-1),limitIndex:500*e.times},e.keyword?{filter:e.keyword}:{}),t.getRequestOpts())).then((function(e){t.options.controlAttr.data=(t.options.controlAttr.data||[]).concat(e),r({items:ao(e),hasNext:500<=e.length})}))},width:n,height:i,watermark:o,listeners:[{eventName:Ka.EVENT_CONFIRM,action:function(){!1!==(!t.silence&&t.fireEvent("stopedit"))&&t.fireEvent("EVENT_CHANGE")}},{eventName:Ka.EVENT_BEFORE_EDIT,action:function(){t.hideBubble(),t.silence||t.fireEvent("beforeedit")}},{eventName:Ka.EVENT_AFTER_EDIT,action:function(){t.silence||t.fireEvent("afteredit")}},{eventName:Ka.EVENT_CLICK_ITEM,action:function(){t.hideBubble(),t.silence||t.fireEvent("click")}}]}},r.mounted=function(){t.prototype.mounted.call(this);var e=this.options.fontSize;this.setPopupStyle({fontSize:"".concat(e,"px"),itemHeight:"".concat(e*this.ratio,"px")})},r.preGetValidation=function(){var t=this.options,e=t.errorMsg,r=t.value,n=t.allowBlank;return this.options.customData||this.combo.validateData()?n||!BI.isEmpty(r)?{result:!0}:{result:!1,errorMsg:e}:{result:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Not_In_List")}},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg,n=t.customData,i=t.needCheckCustomData,o="".concat(this.getValue())||"";return n||!i||this.combo.validateData()?e||BI.isNotEmptyString(o)?{result:!0}:{result:!1,errorMsg:r}:{result:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Not_In_List")}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.getValue=function(){var t=this.combo.getValue();return BI.isNull(t)?"":t.value},r.updateControllAttrByValue=function(){var t=tc(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,c,s,u,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.options,i=n.add2WaitingQueue,o=n.removeFromWaitingQueue,a=n.widgetName,c=n.customData,s=n.viewValueFetcher,r&&!BI.isEmptyArray(r)){t.next=12;break}if(u=Qa(e),BI.isNull(u))return t.abrupt("return",u);t.next=5;break;case 5:return l=i(),t.next=8,so(a,c,s,rc({__text__:u},this.getRequestOpts()));case 8:return f=t.sent,this.options.controlAttr=f?{data:(this.options.controlAttr.data||[]).concat([f]),value:u}:this.options.controlAttr,o(l),t.abrupt("return",f);case 12:return this.options.controlAttr={data:(this.options.controlAttr.data||[]).concat(r),value:e},t.abrupt("return",Ja(e,r||[]));case 14:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setControllerValue=function(){var t=tc(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.combo,t.next=3,this.updateControllAttrByValue(e,r);case 3:t.t1=t.sent,t.t0.setValue.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setValue=function(t,e){var r=this;this.setControllerValue(t,e).then((function(){r.fireEvent("EVENT_SET_VALUE"),!r.silence&&e&&r.fireEvent("afteredit")}))},r.reset=function(){this.setControllerValue("",[])},r.reloadControlAttr=function(){this.reset(),this.combo.setRepopulate(!0)},r.setInteractValue=function(t){this.combo.setRepopulate(!0),this.setControllerValue(t.value,t.data)},r.resize=function(e,r){var n=this.combo.getValue();t.prototype.resize.call(this,e,r),this.combo.setValue(n)},r.getRequestOpts=function(){var t=this.options,e=t.getWidgetDependenceValueByWidget,r=t.getDependenceByWidget,n=t.extraOptsGetter;return rc({dependence:e(this),reload:BI.isNotEmptyArray(r(this))},n())},r.getText=function(){var t;return null===(t=this.combo.getValue())||void 0===t?void 0:t.text},r.getAdapter=function(){return this.combo.getAdapter()},r.setStyle=function(t){this.combo.element.addClass(function(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="".concat(uc.BASE_CLS,"-").concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},$a(e,"".concat(u),{opacity:r,background:n}),$a(e,"".concat(u," .bi-combo .bi-card"),{background:n,color:o}),$a(e,"".concat(u," .bi-text"),{color:o}),$a(e,"".concat(u," .bi-icon-button"),{color:o}),$a(e,"".concat(u," .bi-border"),{border:a,"boder-radius":c}),e)}).attach(),s}(t))},r.setPopupStyle=function(t){this.options.sonHeight=parseInt(t.itemHeight,10),this.combo.element.addClass(function(t){var e,r=t.fontSize,n=t.itemHeight;i.a.use(d(),b());var o="".concat(uc.BASE_CLS,"-").concat(BI.UUID()),a=".".concat(o);return i.a.createStyleSheet({"@global":(e={},$a(e,"".concat(a," .bi-list-pane .bi-label"),{"font-size":"".concat(r," !important")}),$a(e,"".concat(a," .bi-v .bi-label"),{"font-size":"".concat(r," !important")}),$a(e,"".concat(a," .bi-list-pane .bi-tips"),{"font-size":"".concat(r," !important"),height:"".concat(n," !important"),"line-height":"".concat(n," !important")}),e)}).attach(),o}(t))},r.setWaterMark=function(t){this.options.watermark=t,this.combo.setWaterMark(t)},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},function(t,e,r){e&&nc(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"editComp",get:function(){return this.combo}}]),e}(Eo),"xtype","report.main.parameter_container.controller_next.combo"),ac(qa,"BASE_CLS","report-main-parameter-container-controller-combo"),Xa=qa))||Xa,lc=(r(98),"2999-12-31"),fc="1900-01-01";function hc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pc(t,e){return(pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function dc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yc=j()((dc(sc=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dc(hc(e=t.call.apply(t,[this].concat(n))||this),"options",void 0),dc(hc(e),"computed",{validOperationCount:function(){return 0<e.model.operationCount}}),dc(hc(e),"actions",{setValue:function(t){e.model.value=t},setValid:function(t){e.model.valid=!!t},operationCountUp:function(){e.model.operationCount++}}),e}return function(t,e){t.prototype=Object.create(e.prototype),pc(t.prototype.constructor=t,e)}(e,t),e.prototype.state=function(){return{value:this.options.value,valid:!0,operationCount:0}},e}(C),"xtype","report.model.main.parameter_container.controller.datetime"),cc=sc))||cc;function vc(t){return t.replace(/yyyy/g,"%Y").replace(/MM/g,"%X").replace(/dd/g,"%d").replace(/M/g,"%x").replace(/^d/g,"%e").replace(/.d/g,(function(t){return"%"===t[0]?t:"".concat(t[0],"%e")})).replace(/yy/g,"%y").replace(/HH/g,"%H").replace(/mm/g,"%M").replace(/ss/g,"%S").replace(/hh/g,"%I").replace(/a/g,"%P").replace(/h/g,"%l").replace(/^H/g,"%k").replace(/.H/g,(function(t){return"%"===t[0]?t:"".concat(t[0],"%k")}))}function gc(t){var e=t;return new Map([["%Y","(?!0000)[0-9]{4}"],["%X","0[1-9]|1[0-2]"],["%d","0[1-9]|1[0-9]|2[0-9]|3[0-1]"],["%x","[1-9]|1[0-2]"],["%e","[1-9]|1[0-9]|2[0-9]|3[0-1]"],["%y","[0-9]{2}"],["%H","[01][0-9]|2[0-3]"],["%M","[0-5][0-9]"],["%S","[0-5][0-9]"],["%I","0[0-9]|1[0-2]"],["%P","am|pm"],["%l","[1-9]|1[0-2]"],["%k","2[0-3]|[0-1]?[0-9]"]]).forEach((function(t,r){e=e.replaceAll(r,(function(){return"(".concat(t,")")}))})),"^".concat(e,"$")}function bc(t){var e=vc(t);return{isDateFormat:/%d|%e/g.test(e),isTimeFormat:/%H|%M|%S|%I|%l|%k/.test(e),isYearFormat:/%Y/.test(e)&&!/%[^Y]/.test(e)}}function mc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wc,Oc,xc=function(){function t(t,e){if(mc(this,"format",void 0),mc(this,"date",void 0),mc(this,"isLegal",!1),mc(this,"isDateFormat",!0),mc(this,"isTimeFormat",!0),mc(this,"isYearFormat",!0),this.format=vc(e||""),this.format){var r=bc(this.format),n=r.isDateFormat,i=r.isTimeFormat,o=r.isYearFormat;this.isDateFormat=n,this.isTimeFormat=i,this.isYearFormat=o}var a=this.formatDate(t),c=a.date,s=a.isLegal;this.date=c,this.isLegal=s}var e=t.prototype;return e.getTime=function(){return this.date.getTime()},e.toString=function(t){var e=0<arguments.length&&void 0!==t?t:"";return BI.print(this.date,vc(e))},e.getValue=function(){return this.date},e.toJSON=function(){return{year:this.date.getFullYear(),month:this.date.getMonth()+1,day:this.date.getDate(),hour:this.date.getHours(),minute:this.date.getMinutes(),second:this.date.getSeconds()}},e.setFullYear=function(t){return this.date.setFullYear(t),this},e.setMonth=function(t){return this.date.setMonth(t-1),this},e.setDay=function(t){return this.date.setDate(t),this},e.setHours=function(t){return this.date.setHours(t),this},e.setMinutes=function(t){return this.date.setMinutes(t),this},e.setSeconds=function(t){return this.date.setSeconds(t),this},e.formatDate=function(t){return function(t,e){if(t){if(BI.isDate(t))return{date:new Date,isLegal:!0};if(BI.isString(t)||BI.isNumber(t)){var r=function(t){var e=t;return[["上午","am"],["下午","pm"]].forEach((function(t){e=e.replaceAll(t[0],(function(){return t[1]}))})),e}("".concat(t));return function(t){return!["yyyy/MM/dd","yyyy-MM-dd","yyyy/MM/dd HH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss a","yyyy-MM-dd HH:mm:ss a"].some((function(e){return new RegExp(gc(vc(e))).test(t)}))}(r)?e&&function(t,e){var r=gc(e);return new RegExp(r).test(t)}(r,e)?{date:BI.parseDateTime("".concat(r.replaceAll("-",(function(){return"/"}))),e.replaceAll("-",(function(){return"/"}))),isLegal:!0}:{date:new Date,isLegal:!1}:{date:BI.parseDateTime(r,"%Y-%X-%d %H:%M:%S %p"),isLegal:!0}}return{date:new Date("date_milliseconds"in t?t.date_milliseconds:t.__time__),isLegal:!0}}return{date:new Date,isLegal:!1}}(t,this.format)},t}();function Ec(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jc(t,e){return(jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Sc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cc,Pc,Ic=E()((Sc(Oc=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Sc(Ec(e=t.call.apply(t,[this].concat(n))||this),"props",{extraCls:"bi-year-month-trigger",min:fc,max:lc,height:24,format:"",allowEdit:!0}),Sc(Ec(e),"storeTriggerValue",void 0),Sc(Ec(e),"editor",void 0),Sc(Ec(e),"storeValue",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),jc(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=arguments,r=this.options,n=r.height,i=r.allowEdit,o=r.watermark,a=4,c=2;return this.storeTriggerValue="",{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.SignEditor.xtype,height:n,validationChecker:function(e){var r=t.getStandardDateStr(e),n=r.match(/\d+/g);return t.dateCheck(r)&&BI.checkDateLegal(r)&&t.checkVoid({year:0|(n?n[0]:void 0),month:0|(n?n[1]:void 0)})},quitChecker:function(){return!1},ref:function(e){t.editor=e},hgap:a,vgap:c,allowBlank:!0,watermark:BI.isKey(o)?o:BI.i18nText("BI-Basic_Unrestricted"),title:BI.bind(this.getFormattedTitle,this),listeners:[{eventName:"EVENT_KEY_DOWN",action:function(){t.fireEvent("EVENT_KEY_DOWN",e)}},{eventName:"EVENT_FOCUS",action:function(){t.storeTriggerValue=t.getKey(),t.fireEvent("EVENT_FOCUS")}},{eventName:"EVENT_BLUR",action:function(){t.fireEvent("EVENT_BLUR")}},{eventName:"EVENT_STOP",action:function(){t.fireEvent("EVENT_STOP")}},{eventName:"EVENT_VALID",action:function(){t.fireEvent("EVENT_VALID")}},{eventName:"EVENT_ERROR",action:function(){t.fireEvent("EVENT_ERROR")}},{eventName:"EVENT_CONFIRM",action:function(){var e=t.editor.getValue();if(BI.isNotNull(e)&&t.editor.setState(e),BI.isNotEmptyString(e)&&!BI.isEqual(t.storeTriggerValue,t.getKey())){var r=t.getStandardDateStr(e).match(/\d+/g);t.storeValue={type:BI.DynamicDateCombo.Static,value:{year:0|(r?r[0]:void 0),month:0|(r?r[1]:void 0)}}}t.fireEvent("EVENT_CONFIRM")}},{eventName:"EVENT_START",action:function(){t.fireEvent("EVENT_START")}},{eventName:"EVENT_CHANGE",action:function(){t.fireEvent("EVENT_CHANGE")}}]},left:0,right:24,top:0,bottom:0},{el:{type:BI.Layout.xtype},width:24,right:24,top:0,bottom:0},{el:{type:BI.Text.xtype,invisible:i,cls:"show-text",title:BI.bind(this.getFormattedTitle,this),hgap:4},left:0,right:24,top:0,bottom:0}]}},r.mounted=function(){this.setValue(this.options.value)},r.getFormattedTitle=function(){var t=this.storeValue||{type:void 0,value:void 0},e=t.type,r=void 0===e?BI.DynamicDateCombo.Static:e,n=t.value;switch(r){case BI.DynamicDateCombo.Dynamic:var i=this.getDisplayText(n),o=BI.print(BI.DynamicDateHelper.getCalculation(n),this.getFormatString());return BI.isEmptyString(i)?o:"".concat(i,":").concat(o);case BI.DynamicDateCombo.Static:default:return BI.isNull(n)||BI.isNull(n.year)||BI.isNull(n.month)?"":BI.print(BI.getDate(n.year,n.month-1,1),this.getFormatString())}},r.getStandardDateStr=function(t){var e=t,r="%Y-%X",n=[0,1],i=this.getFormatString().match(/%./g);BI.each(i||[],(function(t,e){switch(e){case"%Y":case"%y":n[0]=t;break;case"%X":case"%x":n[1]=t}}));var o=BI.parseDateTime(e,this.getFormatString());BI.print(o,this.getFormatString())===e&&(e=BI.print(o,r),n=[0,1,2]);var a=e.match(/\d+/g)||[],c=[];return BI.each(a,(function(t){c[t]=a[n[t]]})),c.length===n.length&&2===c[0].length?BI.print(BI.parseDateTime(c.join("-"),r),r):c.join("-")},r.getFormatString=function(){return this.options.format||"%Y-%X"},r.dateCheck=function(t){return BI.print(BI.parseDateTime(t,"%Y-%x"),"%Y-%x")===t||BI.print(BI.parseDateTime(t,"%Y-%X"),"%Y-%X")===t||BI.print(BI.parseDateTime(t,"%Y-%x"),"%Y-%x")===t||BI.print(BI.parseDateTime(t,"%Y-%X"),"%Y-%X")===t},r.checkVoid=function(t){return!BI.checkDateVoid(t.year,t.month,1,this.options.min,this.options.max)[0]},r.setInnerValue=function(t){var e=BI.print(t,this.getFormatString());this.editor.setState(e),this.editor.setValue(e)},r.getDisplayText=function(t){var e="";return BI.isNull(t)||(BI.isNotNull(t.year)&&0!==BI.parseInt(t.year)&&(e+="".concat(Math.abs(t.year)).concat(BI.i18nText("BI-Basic_Year")).concat(t.year<0?BI.i18nText("BI-Basic_Front"):BI.i18nText("BI-Basic_Behind"))),BI.isNotNull(t.month)&&0!==BI.parseInt(t.month)&&(e+="".concat(Math.abs(t.month)).concat(BI.i18nText("BI-Basic_Month")).concat(t.month<0?BI.i18nText("BI-Basic_Front"):BI.i18nText("BI-Basic_Behind")))),e},r.setValue=function(t){var e=0,r=void 0,n=BI.getDate();switch(this.storeValue=t,BI.isNotNull(t)&&(e=t.type||BI.DynamicDateCombo.Static,r=t.value),e){case BI.DynamicDateCombo.Dynamic:n=BI.DynamicDateHelper.getCalculation(r),this.setInnerValue(n);break;case BI.DynamicDateCombo.Static:default:if(BI.isNull(r)||BI.isNull(r.year)||BI.isNull(r.month))this.editor.setState(""),this.editor.setValue("");else{var i=BI.print(BI.getDate(r.year,r.month-1,1),this.getFormatString());this.editor.setState(i),this.editor.setValue(i)}}},r.setMinDate=function(t){BI.isNotEmptyString(this.options.min)&&(this.options.min=t)},r.setMaxDate=function(t){BI.isNotEmptyString(this.options.max)&&(this.options.max=t)},r.getKey=function(){return this.editor.getValue()},r.getValue=function(){return this.storeValue},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setWaterMark=function(t){this.editor.setWaterMark(t)},e}(BI.Trigger),"xtype","report.components.dynamic_year_month_trigger"),wc=Oc))||wc;function Bc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tc(t,e){return(Tc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function _c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(99);var kc,Nc,Ac=E()((_c(Pc=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _c(Bc(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-dynamic-year-month-combo",width:80,height:21,minDate:fc,maxDate:lc,format:"",allowEdit:!0,isNeedAdjustWidth:!0}),_c(Bc(e),"storeTriggerValue",void 0),_c(Bc(e),"storeValue",void 0),_c(Bc(e),"changeIcon",void 0),_c(Bc(e),"combo",void 0),_c(Bc(e),"trigger",void 0),_c(Bc(e),"popup",void 0),_c(Bc(e),"comboWrapper",void 0),_c(Bc(e),"triggerBtn",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Tc(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=arguments,r=this.options,n=r.width,i=r.height,o=r.container,a=r.value,c=r.minDate,s=r.maxDate,u=r.format,l=r.allowEdit,f=r.behaviors,h=r.watermark,p=r.isNeedAdjustWidth,d=1;this.storeTriggerValue="";var y=BI.getDate();this.storeValue=a;var v=i;return{type:BI.HTapeLayout.xtype,width:n,height:v,cls:"bi-focus-shadow",items:[{el:{type:BI.IconButton.xtype,cls:"bi-trigger-icon-button date-change-h-font",width:v,height:v,ref:function(e){t.changeIcon=e}},width:v},{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.IconButton.xtype,cls:"bi-trigger-icon-button date-font",width:v,height:v,ref:function(e){t.triggerBtn=e}},top:0,right:0},{el:{type:BI.Combo.xtype,cls:"bi-border bi-border-radius",destroyWhenHide:!0,container:o,ref:function(e){t.combo=e},toggle:!1,isNeedAdjustHeight:!1,isNeedAdjustWidth:p,el:{type:Ic.xtype,min:c,max:s,watermark:h,format:u,allowEdit:l,height:v-2,value:a,ref:function(e){t.trigger=e},listeners:[{eventName:"EVENT_KEY_DOWN",action:function(){t.combo.isViewVisible()&&t.combo.hideView(),t.fireEvent("EVENT_KEY_DOWN",e)}},{eventName:"EVENT_STOP",action:function(){t.combo.isViewVisible()||t.combo.showView()}},{eventName:"EVENT_FOCUS",action:function(){t.storeTriggerValue=t.trigger.getKey(),t.combo.isViewVisible()||t.combo.showView(),t.fireEvent("EVENT_FOCUS")}},{eventName:"EVENT_BLUR",action:function(){t.fireEvent("EVENT_BLUR")}},{eventName:"EVENT_ERROR",action:function(){t.storeValue={type:BI.DynamicDateCombo.Static,value:{year:y.getFullYear(),month:y.getMonth()+1}},t.fireEvent("EVENT_ERROR")}},{eventName:"EVENT_VALID",action:function(){t.fireEvent("EVENT_VALID")}},{eventName:"EVENT_CHANGE",action:function(){t.fireEvent("EVENT_CHANGE")}},{eventName:"EVENT_CONFIRM",action:function(){if(!t.combo.isViewVisible()){var e=t.storeTriggerValue,r=t.trigger.getKey();BI.isNotEmptyString(r)&&!BI.isEqual(r,e)?(t.storeValue=t.trigger.getValue(),t.setValue(t.trigger.getValue())):BI.isEmptyString(r)&&(t.storeValue=void 0,t.trigger.setValue()),t.checkDynamicValue(t.storeValue),t.fireEvent("EVENT_CONFIRM")}}}]},adjustLength:d,popup:{el:{type:BI.DynamicYearMonthPopup.xtype,width:p?n:void 0,behaviors:f,supportDynamic:this.options.supportDynamic,min:c,max:s,ref:function(e){t.popup=e},listeners:[{eventName:"EVENT_CHANGE",action:function(){t.setValue(t.popup.getValue()),t.combo.hideView(),t.fireEvent("EVENT_CONFIRM")}},{eventName:"BUTTON_CLEAR_EVENT_CHANGE",action:function(){t.setValue(),t.combo.hideView(),t.fireEvent("EVENT_CONFIRM")}},{eventName:"BUTTON_lABEL_EVENT_CHANGE",action:function(){var e=BI.getDate();t.setValue({type:BI.DynamicDateCombo.Static,value:{year:e.getFullYear(),month:e.getMonth()+1}}),t.combo.hideView(),t.fireEvent("EVENT_CONFIRM")}},{eventName:"BUTTON_OK_EVENT_CHANGE",action:function(){t.setValue(t.popup.getValue()),t.combo.hideView(),t.fireEvent("EVENT_CONFIRM")}}]},value:a,stopPropagation:!1},hideChecker:function(e){return 0===t.triggerBtn.element.find(e.target).length},listeners:[{eventName:BI.Combo.EVENT_BEFORE_POPUPVIEW,action:function(){t.combo.isViewVisible()||(t.popup.setValue(t.storeValue),t.popup.setMinDate(t.options.minDate),t.popup.setMaxDate(t.options.maxDate),t.fireEvent("EVENT_BEFORE_POPUPVIEW"))}}]},top:0,left:0,right:0,bottom:0}]}],ref:function(e){t.comboWrapper=e}}},r.mounted=function(){this.checkDynamicValue(this.storeValue)},r.checkDynamicValue=function(t){var e=this.options,r=void 0;switch(BI.isNotNull(t)&&(r=t.type),r){case BI.DynamicDateCombo.Dynamic:this.changeIcon.setVisible(!0),this.comboWrapper.attr("items")[0].width=e.height,this.comboWrapper.resize();break;default:this.comboWrapper.attr("items")[0].width=0,this.comboWrapper.resize(),this.changeIcon.setVisible(!1)}},r.setMinDate=function(t){this.options.minDate=t,this.trigger.setMinDate(t),this.popup&&this.popup.setMinDate(t)},r.setMaxDate=function(t){this.options.maxDate=t,this.trigger.setMaxDate(t),this.popup&&this.popup.setMaxDate(t)},r.setValue=function(t){this.storeValue=t,this.trigger.setValue(t),this.checkDynamicValue(t)},r.getValue=function(){return this.storeValue},r.getKey=function(){return this.trigger.getKey()},r.hidePopupView=function(){this.combo.hideView()},r.focus=function(){this.trigger.focus()},r.blur=function(){this.trigger.blur()},r.setWaterMark=function(t){this.trigger.setWaterMark(t)},e}(BI.Single),"xtype","report.components.dynamic_year_month_combo"),Cc=Pc))||Cc;function Vc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dc(t,e,r){var n=void 0,i=void 0,o=bc(r),a=o.isDateFormat,c=o.isTimeFormat,s=o.isYearFormat,u=new xc(t,r),l=new xc(e,r);if(s)u.isLegal&&(n="".concat(u.toString("yyyy"),"-01-01")),l.isLegal&&(i="".concat(l.toString("yyyy"),"-12-31"));else if(c||a)c?(u.isLegal&&(n="".concat(u.toString("yyyy-MM-dd HH:mm:ss"))),u.isLegal&&(i="".concat(l.toString("yyyy-MM-dd HH:mm:ss")))):(n=Lc(t,r),i=Lc(e,r));else if(u.isLegal&&(n="".concat(u.toString("yyyy-MM"),"-01")),l.isLegal){var f=l.getValue().getFullYear(),h=l.getValue().getMonth()+1;i="".concat(l.toString("yyyy-MM"),"-").concat(2===h?BI.isLeapYear(f)?29:28:[4,6,9,11].includes(h)?30:31)}return{minDate:n,maxDate:i}}function Rc(t,e){return BI.isNumber(t)?new xc({date_milliseconds:t}).toString(e):new xc(t).toString(e)}function Lc(t,e){var r=new xc(t,e);if(r.isLegal)return r.toString("yyyy-MM-dd")}function Mc(t,e,r,n){if(function(t,e,r,n){if(!t.isLegal)return!1;var i=new xc(t.toString(e),e),o=new xc(r,e),a=new xc(n,e);return r&&o.isLegal&&new xc(r,e).getTime()>i.getTime()?(BI.Msg.toast(BI.i18nText("Fine-Report_Value_Less_Than",r)),!1):!(n&&a.isLegal&&new xc(n,e).getTime()<i.getTime()&&(BI.Msg.toast(BI.i18nText("Fine-Report_Value_More_Than",n)),1))}(t,e,r,n)){var i=!t.isDateFormat&&t.isTimeFormat,o=t.toJSON();return i?{hour:o.hour,minute:o.minute,second:o.second}:{type:1,value:o}}}function zc(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Hc(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){zc(o,n,i,a,c,"next",t)}function c(t){zc(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Wc(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wc(Object(r),!0).forEach((function(e){Yc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wc(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Gc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uc(t,e){return(Uc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Yc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xc,qc,Kc=E()(kc=S(yc,{props:function(){return{value:this.options.value}}})((Yc(Nc=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Yc(Gc(r=t.call.apply(t,[this].concat(i))||this),"combo",void 0),Yc(Gc(r),"btn",void 0),Yc(Gc(r),"reportDate",void 0),Yc(Gc(r),"store",void 0),Yc(Gc(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,widgetName:"",width:80,height:21,format:"yyyy-MM-dd",startDate:fc,endDate:lc,returnDate:!1,value:{date_milliseconds:0},directEdit:!0,disabled:!1,invisible:!1,needSubmit:!0,fontSize:12,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),watermark:" ",getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},controlAttrFetcher:na,extraOptsGetter:function(){return{}},allowBg:!0,container:void 0,isNeedAdjustWidth:!0}),Yc(Gc(r),"model",void 0),r}!function(t,e){t.prototype=Object.create(e.prototype),Uc(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.width,o=r.height,a=r.value,c=r.startDate,s=r.endDate,u=r.fontSize,l=r.format,f=r.directEdit,h=r.watermark,p=r.disabled,y=r.allowBg,v=r.container,g=new xc(a,l),m=Mc(g,l,c,s);return this.store.setValue(m),this.reportDate=g,{type:BI.VerticalLayout.xtype,cls:y?"bi-card":"",items:[Fc(Fc({width:n,height:o,watermark:h,disabled:p,type:function(t){var e=bc(t),r=e.isDateFormat,n=e.isTimeFormat;return e.isYearFormat?BI.DynamicYearCombo.xtype:n?r?BI.DynamicDateTimeCombo.xtype:BI.TimeCombo.xtype:r?BI.DynamicDateCombo.xtype:Ac.xtype}(l),supportDynamic:!1,cls:"".concat(function(t,e){var r,n="".concat(t,"-").concat(BI.UUID()),o=".".concat(n," .bi-combo .bi-trigger"),a=e.fontSize,c=e.width,s=e.height,u="".concat(a/12*24,"px !important");return i.a.use(d(),b()),i.a.createStyleSheet({"@global":(r={},Vc(r,".".concat(n," .bi-trigger-icon-button.bi-icon-button"),{width:u,"font-size":"".concat(Math.min(a*(16/12),c,s),"px")}),Vc(r,o,{"font-size":"".concat(a,"px")}),r)}).attach(),n}(e.BASE_CLS,{fontSize:u,width:n,height:o}))},Dc(c,s,l)),{},{format:vc(l),isNeedAdjustWidth:!1,value:m,ref:function(e){t.combo=e,t.btn=e.element[0]},behaviors:{highlight:function(){return!1}},allowEdit:f,container:v,listeners:[{eventName:"EVENT_CONFIRM",action:function(){t.hideBubble(),t.store.setValue(t.combo.getValue()),t.store.setValid(!0),!1!==(!t.silence&&t.fireEvent("stopedit"))&&t.fireEvent("EVENT_CHANGE")}},{eventName:"EVENT_VALID",action:function(){t.store.setValue(t.combo.getValue()),t.store.setValid(!0),!t.silence&&t.model.validOperationCount&&t.fireEvent("afteredit"),t.store.operationCountUp()}},{eventName:"EVENT_ERROR",action:function(){t.store.setValid(!1),!t.silence&&t.model.validOperationCount&&t.fireEvent("afteredit"),t.store.operationCountUp()}},{eventName:"EVENT_FOCUS",action:function(){t.hideBubble()}},{eventName:"EVENT_KEY_DOWN",action:function(){t.silence||t.fireEvent("afteredit")}},{eventName:"EVENT_BLUR",action:function(){t.store.setValue(t.combo.getValue())}}]})]}},r.getValue=function(){var t=this.options,e=t.format,r=t.returnDate,n=this.model.value;if(""===this.model.value||BI.isNull(this.model.value))return"";if(BI.isString(this.model.value)||BI.isNumber(this.model.value))return r?{__time__:BI.getDate(this.model.value).getTime()}:this.model.value;if(BI.has(this.model.value,"date_milliseconds"))return r?{__time__:this.model.value.date_milliseconds}:Rc(this.model.value.date_milliseconds,e);var i=Rc(this.reportDate.isDateFormat||!this.reportDate.isTimeFormat||this.reportDate.isYearFormat?function(t){if(t.type===BI.DynamicDateCombo.Dynamic)return BI.DynamicDateHelper.getCalculation(t.value).getTime();var e=t.value,r=e.year,n=e.month,i=void 0===n?1:n,o=e.day,a=void 0===o?1:o,c=e.hour,s=void 0===c?0:c,u=e.minute,l=void 0===u?0:u,f=e.second,h=void 0===f?0:f;return BI.getDate(r,i-1,a,s,l,h).getTime()}(n):function(t,e){var r=t.hour,n=t.minute,i=t.second;return e.setHours(r).setMinutes(n).setSeconds(i).getTime()}(n,this.reportDate),e);return r?{__time__:new xc(i,e).getTime()}:i},r.preGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.value,n=t.errorMsg;return e||!BI.isEmpty(r)?{result:!0}:{result:!1,errorMsg:n}},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg,n=this.model.value;return BI.isNull(n)||BI.isEmptyString(n)?1==!!e?{result:!0}:{result:!1,errorMsg:r}:this.model.valid?{result:!0}:{result:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Input_Error")}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.setControllerValue=function(){var t=Hc(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=this.options,n=r.startDate,i=r.endDate,o=r.format,a=BI.isDate(e)?{date_milliseconds:e.getTime()}:e,c=new xc(a,o),s=Mc(c,o,n,i),this.store.setValue(s),this.combo.setValue(s);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(){var t=Hc(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s,u,l,f,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.reset(),r=this.options,n=r.widgetName,i=r.getWidgetDependenceValueByWidget,o=r.getDependenceByWidget,a=r.extraOptsGetter,c=r.controlAttrFetcher,s=i(this),BI.size(Object.keys(s)))return t.next=6,c(n,Fc({dependence:s,reload:BI.isNotEmptyArray(o(this))},a()));t.next=10;break;case 6:return u=t.sent,l=BI.first(u),f=l.startDate,h=l.endDate,this.setMaxAndMinDate({min:f,max:h}),t.abrupt("return",this.setControllerValue("".concat(e)));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.combo.setValue()},r.resize=function(e,r){var n=this.combo.getValue();t.prototype.resize.call(this,e,r),this.store.setValue(n),this.combo.setValue(n)},r.getAdapter=function(){return this.combo},r.setStyle=function(t){this.combo.element.addClass(function(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="".concat(Kc.BASE_CLS,"-").concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},Vc(e,"".concat(u),{opacity:r,background:n}),Vc(e,"".concat(u," .bi-card"),{background:n,color:o}),Vc(e,"".concat(u," .bi-text"),{color:o}),Vc(e,"".concat(u," .bi-icon-button"),{color:o}),Vc(e,"".concat(u," .bi-border"),{border:a,"border-radius":c}),e)}).attach(),s}(t))},r.setPopupStyle=function(t){this.combo.element.addClass(function(t){var e,r=t.itemHeight,n=t.fontSize;i.a.use(d(),b());var o="".concat(Kc.BASE_CLS,"-").concat(BI.UUID()),a=".".concat(o);return i.a.createStyleSheet({"@global":(e={},Vc(e,"".concat(a," .bi-calendar .bi-grid"),{height:"".concat(parseInt(r,10)/24*44,"px !important")}),Vc(e,"".concat(a," .bi-calendar .bi-grid .bi-label"),{"line-height":"".concat(r," !important"),"font-size":"".concat(n," !important")}),Vc(e,"".concat(a," .bi-calendar .bi-t .bi-abs"),{height:"".concat(r," !important")}),Vc(e,"".concat(a," .bi-calendar .bi-t .bi-abs >.bi-basic-button"),{height:"".concat(r," !important")}),Vc(e,"".concat(a," .bi-calendar .bi-t .bi-abs .bi-text"),{"font-size":"".concat(n," !important")}),e)}).attach(),o}(t))},r.setWaterMark=function(t){this.options.watermark=t,this.combo.setWaterMark(t)},r.setMaxAndMinDate=function(t){var e=t.max,r=Dc(t.min,e,this.options.format),n=r.minDate,i=r.maxDate;this.combo.setMinDate&&this.combo.setMinDate(this.options.startDate=n||fc),this.combo.setMaxDate&&this.combo.setMaxDate(this.options.endDate=i||lc)},r.getText=function(){var t=this.getValue();return BI.isNull(t)?"":BI.isNumber(t)?"".concat(t):BI.isString(t)?t:new Date(t.__time__).toString()},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},e}(Eo),"xtype","report.main.parameter_container.controller.datetime"),Yc(Nc,"BASE_CLS","report-main-parameter-container-controller-datetime"),kc=Nc))||kc)||kc;function $c(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Jc(t,e){return(Jc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Qc,Zc,ts,es,rs=E()((Zc="report.main.parameter_container.controller.empty","xtype"in(Qc=qc=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Jc(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.postValidateAndToast=function(){return!0},r.reset=function(){},r.setInteractValue=function(){},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){$c(o,n,i,a,c,"next",t)}function c(t){$c(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.getValue=function(){return""},r.setStyle=function(){},e}(Eo))?Object.defineProperty(Qc,"xtype",{value:Zc,enumerable:!0,configurable:!0,writable:!0}):Qc.xtype=Zc,Xc=qc))||Xc;function ns(t,e){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(es=ts=ts||{}).SAME_ORIGIN_ITEM="11300207",es.HAVE_RING="11300208";var is,os,as,cs,ss=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),ns(t.prototype.constructor=t,e)}(e,t),e.prototype.handle=function(t){throw BI.Msg.toast(null==t?void 0:t.errorMsg),null},e}(Et);function us(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ls(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?us(Object(r),!0).forEach((function(e){fs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):us(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function fs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hs(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function ps(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ps(Object(r),!0).forEach((function(e){gs(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ps(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ys(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vs(t,e){return(vs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function gs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(100);var bs,ms,ws,Os,xs,Es,js,Ss=(is=function(t,e,r){var n=r.value;return r.value=function(){for(var t,e=this,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return{type:I.xtype,cls:"cursor-default",render:(t=function(){return n.apply(e,i)},a.toString=function(){return t.toString()},a),doClick:function(){e.fireEvent("click")}};function a(){return t.apply(this,arguments)}},r},E()((gs(cs=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return gs(ys(r=t.call.apply(t,[this].concat(i))||this),"label",void 0),gs(ys(r),"editComp",void 0),gs(ys(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,color:"rgb(0,0,0)",fontSize:12,fontfamily:"",decoration:"none",textColor:"0,0,0,1",textalign:"left",verticalcenter:!1,value:"",disabled:!1,invisible:!1,needSubmit:!1,width:80,height:21,wrap:!1,fontweight:void 0,fontstyle:void 0,allowBg:!0}),r}!function(t,e){t.prototype=Object.create(e.prototype),vs(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.width,o=r.height,a=r.value,c=r.wrap,s=r.verticalcenter,u=r.textalign,l=r.fontfamily,f=r.fontSize,h=r.decoration,p=r.color,y=r.fontweight,v=r.fontstyle,g=c?"normal":"nowrap",m=function(t,e){var r=e.fontSize,n=e.fontFamily,o=e.decoration,a=e.color,c=e.fontWeight,s=e.fontStyle,u="".concat(t,"-").concat(BI.UUID()),l=".".concat(u);i.a.use(d(),b());var f=s?io(s):{},h=c?{"font-weight":c}:{};return i.a.createStyleSheet({"@global":fs({},"".concat(l),ls(ls(ls({"font-size":"".concat(r,"px"),"font-family":"".concat(n)},f),h),{},{color:a,"text-decoration":o}))}).attach(),u}(e.BASE_CLS,{fontFamily:l,fontSize:f,decoration:h,color:p,fontWeight:y,fontStyle:v}),w={ref:function(e){t.label=e,t.editComp=e.element[0]},cls:"".concat(m),whiteSpace:g,value:"".concat(a),textWidth:n,textAlign:u};return s?{type:BI.CenterAdaptLayout.xtype,width:n,height:o,scrollx:!0,items:[ds({type:BI.Text.xtype,width:n},w)]}:{type:BI.VerticalLayout.xtype,width:n,height:o,scrolly:!1,scrollable:!1,items:[ds({type:BI.Text.xtype},w)]}},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){hs(o,n,i,a,c,"next",t)}function c(t){hs(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.label.setValue(e),!this.silence&&r&&this.fireEvent("change");case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.postValidateAndToast=function(){return!0},r.getValue=function(){return this.label.getValue()},r.setInteractValue=function(t){this.setControllerValue(t)},r.reset=function(){},r.resize=function(e,r){var n=this.label.getValue();t.prototype.resize.call(this,e,r),this.label.setValue(n)},r.setFontSize=function(t){this.options.fontSize=t},r.setStyle=function(t){this.label.element.addClass(function(t){var e=t.opacity,r=t.background,n=t.color;i.a.use(d(),b());var o="".concat(Ss.BASE_CLS,"-").concat(BI.UUID()),a=".".concat(o);return i.a.createStyleSheet({"@global":fs({},"".concat(a),{opacity:e,background:r,color:n})}).attach(),o}(t))},r.getText=function(){return this.label.getValue()},e}(Eo),"xtype","report.main.parameter_container.controller.label"),gs(cs,"BASE_CLS","report-main-parameter-container-controller-label"),bs=(as=cs).prototype,"render",ms=[is],ws=Object.getOwnPropertyDescriptor(as.prototype,"render"),Os=as.prototype,xs={},Object.keys(ws).forEach((function(t){xs[t]=ws[t]})),xs.enumerable=!!xs.enumerable,xs.configurable=!!xs.configurable,("value"in xs||xs.initializer)&&(xs.writable=!0),xs=ms.slice().reverse().reduce((function(t,e){return e(bs,"render",t)||t}),xs),Os&&void 0!==xs.initializer&&(xs.value=xs.initializer?xs.initializer.call(Os):void 0,xs.initializer=void 0),void 0===xs.initializer&&(Object.defineProperty(bs,"render",xs),xs=null),os=as))||os);function Cs(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ps(t,e){return(Ps=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Is(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(101),r(102);var Bs,Ts,_s=E()((Is(js=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Is(Cs(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"report-main-parameter-container-controller-multifile-progress-bar",width:280,height:16,value:0}),Is(Cs(e),"text",void 0),Is(Cs(e),"layer",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ps(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options.value;return{type:BI.AbsoluteLayout.xtype,ref:function(e){t.layer=e},items:[{el:{type:BI.Layout.xtype,cls:"progress-bar-current"},top:0,left:0,width:this.transformProgress2Percentage(e),bottom:0},{el:{type:BI.Label.xtype,ref:function(e){t.text=e},text:this.transformProgress2Percentage(e)},top:0,left:0,right:0,bottom:0}]}},r.setValue=function(t){this.options.value=t;var e=this.transformProgress2Percentage(t);this.text.setValue(e),this.layer.attr("items")[0].width=e,this.layer.resize()},r.transformProgress2Percentage=function(t){return"".concat((100*t).toFixed(0),"%")},e}(BI.Widget),"xtype","report.main.parameter_container.controller.multifile.progress_bar"),Es=js))||Es;function ks(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ns(t,e){return(Ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function As(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(103);var Vs,Ds,Rs=E()((As(Ts=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return As(ks(e=t.call.apply(t,[this].concat(n))||this),"statusText",void 0),As(ks(e),"totalProgressBar",void 0),As(ks(e),"currentProgressBar",void 0),As(ks(e),"props",{baseCls:"report-main-parameter-container-controller-multifile-progress-pane",queueGetter:function(){return[]},uploadedGetter:function(){return[]},value:0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Ns(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.queueGetter,n=e.value,i=this.getTotalStatus(),o=i.text,a=i.value;return{type:BI.VerticalLayout.xtype,tgap:2,hgap:2,bgap:5,items:[{type:BI.Label.xtype,cls:"pane-title",textAlign:"left",text:BI.i18nText("Fine-Report_Upload_Progress"),height:24},{type:BI.Label.xtype,ref:function(e){t.statusText=e},textAlign:"left",text:o},{type:BI.Label.xtype,textAlign:"left",text:BI.i18nText("Fine-Report_Overall_Uploading_Progress")},{type:_s.xtype,ref:function(e){t.totalProgressBar=e},value:n},{type:BI.Label.xtype,textAlign:"left",text:BI.i18nText("Fine-Report_Current_Uploading_Progress")},{type:_s.xtype,ref:function(e){t.currentProgressBar=e},value:a},{type:BI.Label.xtype,textAlign:"left",text:r().join("\n")}]}},r.setValue=function(t){this.options.value=t;var e=this.getTotalStatus(),r=e.text,n=e.value;this.statusText.setValue(r),this.totalProgressBar.setValue(n),this.currentProgressBar.setValue(t)},r.getTotalStatus=function(){var t=this.options,e=t.queueGetter,r=t.uploadedGetter,n=t.value,i=BI.size(e()),o=n/i+BI.size(r())/i;return{text:BI.i18nText(1!=o?"Fine-Report_Parepare_For_Uploading":"Fine-Report_Upload_Complete"),value:o}},e}(BI.Widget),"xtype","report.main.parameter_container.controller.multifile.progress_pane"),Bs=Ts))||Bs;function Ls(t){return function(t){if(Array.isArray(t))return Ms(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Ms(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ms(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ms(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zs(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Hs(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){zs(o,n,i,a,c,"next",t)}function c(t){zs(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Ws(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fs(t,e){return(Fs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Gs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Us,Ys,Xs,qs,Ks=E()((Gs(Ds=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Gs(Ws(e=t.call.apply(t,[this].concat(n))||this),"label",void 0),Gs(Ws(e),"multifileEditor",void 0),Gs(Ws(e),"wrapper",void 0),Gs(Ws(e),"button",void 0),Gs(Ws(e),"uploadFileGroup",void 0),Gs(Ws(e),"uploadFiles",[]),Gs(Ws(e),"canUpload",!0),Gs(Ws(e),"bubbleCombo",void 0),Gs(Ws(e),"progressCombo",void 0),Gs(Ws(e),"props",{baseCls:"report-main-parameter-container-controller-multifile",disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,value:"0",width:80,height:50,accept:"",maxlength:1/0,maxSize:-1,url:"attachment/upload",allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Fs(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t,e=this,r=this.options,n=r.accept,i=r.width,o=r.height,a=r.maxSize,c=r.value,s=r.maxlength,u=r.url,l=n?n.split("|").map((function(t){return".".concat(t)})).join(","):"",f=this.calculatePosotion(i,o);return{type:BI.AbsoluteLayout.xtype,ref:function(t){e.wrapper=t},items:[{el:{type:BI.Label.xtype,cls:"count-label ".concat(eo("count-label",f.label.fontSize)),ref:function(t){e.label=t},text:c,width:f.label.width,height:f.label.height},left:f.label.left,top:f.label.top},{el:{type:BI.BubbleCombo.xtype,ref:function(t){e.bubbleCombo=t},trigger:"hover",offsetStyle:"right",isNeedAdjustHeight:!0,isDefaultInit:!0,el:{type:BI.IconButton.xtype,ref:function(t){e.button=t},cls:"upload-trigger-background",width:f.button.width,height:f.button.height,title:function(){return e.getMultifileEditorValue().map((function(t){return t.filename})).join("\n")},handler:function(){e.canUpload&&e.multifileEditor.select()}},popup:{el:{type:BI.ButtonGroup.xtype,ref:function(t){e.uploadFileGroup=t},layouts:[{type:BI.VerticalLayout.xtype,minHeight:0}],items:[]},minWidth:200,minHeight:0,maxHeight:200}},left:f.button.left,top:f.button.top},{el:{type:BI.Combo.xtype,ref:function(t){e.progressCombo=t},hideWhenBlur:!1,trigger:"",destroyWhenHide:!0,belowMouse:!0,offsetStyle:"left",isNeedAdjustHeight:!0,el:{type:BI.Layout.xtype},popup:{el:{type:Rs.xtype,queueGetter:function(){return e.multifileEditor.getQueue().map((function(t){return t.fileName}))},uploadedGetter:function(){return e.getMultifileEditorValue().map((function(t){return t.filename}))}},minWidth:350,minHeight:200}},left:f.button.left,top:f.button.top},{el:{type:BI.MultifileEditor.xtype,ref:function(t){e.multifileEditor=t},url:function(t,e){var r=Ft({});return"".concat(ht.ReqPrefix,"/").concat(t,"?sessionID=").concat(ht.SessionID).concat(""===r?"":"&".concat(r))}(u),accept:l,width:i,height:o,maxSize:1024*a,multiple:1!==s,listeners:[{eventName:BI.MultifileEditor.EVENT_CHANGE,action:function(){e.multifileEditor.upload()}},{eventName:BI.MultifileEditor.EVENT_UPLOADSTART,action:function(){e.progressCombo.showView(),BI.Tooltips.remove(e.multifileEditor.getName()),e.canUpload=!1}},{eventName:BI.MultifileEditor.EVENT_UPLOADED,action:(t=Hs(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.resetState(),r=e.uploadFiles.length-e.options.maxlength,!(e.options.maxlength!==1/0&&0<r)){t.next=10;break}n=0;case 4:if(n<r)return t.next=7,e.deleteFile(e.uploadFiles[n].attach_id);t.next=10;break;case 7:n++,t.next=4;break;case 10:e.silence||e.fireEvent("callback"),e.fireEvent("EVENT_CHANGE");case 12:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)})},{eventName:BI.MultifileEditor.EVENT_ERROR,action:function(t){if(e.resetState(),e.silence||e.fireEvent("callback"),e.fireEvent("EVENT_CHANGE"),!BI.isEmptyString(n)){var r=t.file.name;if(0===t.errorType){var i=r.split(".").pop();BI.Msg.toast(BI.i18nText("Fine-Report_File_Type_Error",i,n),{level:"error"})}1===t.errorType&&BI.Msg.toast(BI.i18nText("Fine-Report_File_TOO_LARGE",r,"".concat(a,"KB")),{level:"error"})}}},{eventName:BI.MultifileEditor.EVENT_PROGRESS,action:function(t){e.progressCombo.isViewVisible()&&e.progressCombo.setValue(t.loaded/t.total)}}]},top:0,left:0}]}},r.resetState=function(){this.label.setText("".concat(this.getMultifileEditorValue().length)),this.uploadFiles=[].concat(Ls(this.uploadFiles),Ls(this.getMultifileEditorValue())),this.hideProgressComboView(),this.renderUploadFiles(),this.multifileEditor.reset(),this.canUpload=!0},r.beforeMount=function(){var t=this;this.multifileEditor.element.on("dragover",(function(t){t.preventDefault()})),this.multifileEditor.element.on("drop",(function(e){var r;e.preventDefault();var n=null===(r=e.originalEvent.dataTransfer)||void 0===r?void 0:r.files;n&&t.multifileEditor.sendFiles(n)}))},r.hideProgressComboView=function(){var t=this;setTimeout((function(){t.progressCombo.hideView(),t.bubbleCombo.showView()}),1e3)},r.renderUploadFiles=function(){var t,e=this,r=this.uploadFiles;this.label.setText("".concat(r.length)),null===(t=this.uploadFileGroup)||void 0===t||t.populate(r.map((function(t){return{type:BI.LeftRightVerticalAdaptLayout.xtype,cls:"bi-list-item-active cursor-pointer",height:25,items:{left:[{type:BI.TextButton.xtype,width:150,hgap:3,textAlign:"left",value:t.filename,title:t.filename,handler:function(){e.downloadFile(t.attach_id)}}],right:[{type:BI.IconButton.xtype,width:25,cls:"delete-font",handler:(r=Hs(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.deleteFile(t.attach_id);case 2:e.fireEvent("EVENT_CHANGE");case 3:case"end":return r.stop()}}),r)}))),function(){return r.apply(this,arguments)})}]}};var r})))},r.deleteFile=function(){var t=Hs(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kt("attach/release",{params:{id:e},baseURL:bt.ReqPrefix});case 2:this.uploadFiles=this.uploadFiles.filter((function(t){return t.attach_id!==e})),this.renderUploadFiles();case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.downloadFile=function(t){!function(t){window.open(ca(t))}(t)},r.getUploadFiles=function(){return this.uploadFiles},r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.postValidateAndToast=function(){return!0},r.reset=function(){},r.setInteractValue=function(){},r.setControllerValue=function(){var t=Hs(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.getValue=function(){return this.uploadFiles},r.getMultifileEditorValue=function(){return this.multifileEditor.getValue().filter((function(t){return t.attach_id}))},r.calculatePosotion=function(t,e){var r=Math.min(t,32),n=Math.min(e,32),i=.625*r;return{label:{width:i,height:i,fontSize:.375*r,left:(t+r)/2,top:(e-n)/2},button:{width:r,height:n,left:(t-r)/2,top:(e-n)/2}}},r.resize=function(t,e){this.options.width=t,this.options.height=e,this.element.css("width",t),this.element.css("height",e);var r=this.calculatePosotion(t,e),n=this.wrapper.attr("items");n[0].left=r.label.left,n[0].top=r.label.top,n[1].left=r.button.left,n[1].top=r.button.top,this.wrapper.resize(),this.label.element.css("width",r.label.width),this.label.element.css("height",r.label.height),this.label.element.css("font-size",r.label.fontSize),this.button.element.css("width",r.button.width),this.button.element.css("height",r.button.height),this.multifileEditor.element.css("width",t),this.multifileEditor.element.css("height",e)},r.getAdapter=function(){return this.multifileEditor},r.setStyle=function(t){},e}(Eo),"xtype","report.main.parameter_container.controller.multifile"),Vs=Ds))||Vs;function $s(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Js(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qs(t,e){return(Qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Zs(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(Ys=Us=Us||{}).NOT_ALLOW_BLANK="NOT_ALLOW_BLANK",Ys.INVALID_NUMBER="INVALID_NUMBER",Ys.NOT_ALLOW_NEGATIVE="NOT_ALLOW_NEGATIVE",Ys.NOT_ALLOW_DECIMALS="NOT_ALLOW_DECIMALS",Ys.TOO_MANY_DECIMALS="TOO_MANY_DECIMALS",Ys.TOO_MANY_INTEGER="TOO_MANY_INTEGER",Ys.TOO_LARGE="TOO_LARGE",Ys.TOO_SMALL="TOO_SMALL";var tu,eu,ru=E()((Zs(qs=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Zs(Js(e=t.call.apply(t,[this].concat(n))||this),"editor",void 0),Zs(Js(e),"props",{baseCls:"report-main-parameter-container-controller-number",$testId:"report-main-parameter-container-controller-number",width:80,height:21,value:void 0,allowDecimals:!0,allowNegative:!0,maxDecLength:16,maxIntLength:32,maxValue:void 0,minValue:void 0,regErrorMsg:"",disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),watermark:"",allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Qs(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.width,n=e.height,i=e.value,o=e.fontSize,a=e.watermark,c=e.disabled,s=e.allowBg,u=eo("report-main-parameter-container-controller-number",o),l=lo("report-main-parameter-container-controller-number",n);return{type:BI.VerticalLayout.xtype,cls:s?"bi-card":"",items:[{type:BI.TextEditor.xtype,cls:"".concat(u," ").concat(l," bi-border-radius"),ref:function(e){t.editor=e},vgap:0,width:r,height:n,watermark:a,allowBlank:!0,disabled:c,value:i,listeners:[{eventName:BI.TextEditor.EVENT_FOCUS,action:function(){t.hideBubble(),t.silence||t.fireEvent("beforeedit")}},{eventName:BI.TextEditor.EVENT_KEY_DOWN,action:function(){t.hideBubble(),!1!==(!t.silence&&t.fireEvent("afteredit"))&&t.fireEvent("EVENT_CHANGE",t.editor.getValue())}},{eventName:BI.TextEditor.EVENT_BLUR,action:function(){t.silence||t.fireEvent("stopedit")}}]}]}},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){$s(o,n,i,a,c,"next",t)}function c(t){$s(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.getBasicValidation(e).result&&this.editor.setValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getValue=function(){return this.editor.getValue()},r.getBasicValidation=function(t){var e,r=0<arguments.length&&void 0!==t?t:null===(e=this.editor)||void 0===e?void 0:e.getValue(),n=this.options,i=n.allowNegative,o=n.allowDecimals,a=n.allowBlank,c=n.maxDecLength,s=n.maxIntLength,u=n.maxValue,l=n.minValue,f=n.errorMsg,h=n.regErrorMsg,p=function(t,e){var r=e.allowNegative,n=e.allowDecimals,i=e.maxDecLength,o=void 0===i?16:i,a=e.maxIntLength,c=void 0===a?32:a,s=e.maxValue,u=e.minValue;if(""===t)return e.allowBlank||Us.NOT_ALLOW_BLANK;if(!BI.isNumeric(t))return Us.INVALID_NUMBER;var l=parseFloat(t);return!r&&l<0?Us.NOT_ALLOW_NEGATIVE:n||Math.floor(l)===l?o<BI.size("".concat(l).split(".")[1])?Us.TOO_MANY_DECIMALS:c<BI.size("".concat(l).split(".")[0])?Us.TOO_MANY_INTEGER:BI.isNotNull(s)&&s<l?Us.TOO_LARGE:!(BI.isNotNull(u)&&l<u)||Us.TOO_SMALL:Us.NOT_ALLOW_DECIMALS}(r,{allowNegative:i,allowDecimals:o,allowBlank:a,maxDecLength:c,maxIntLength:s,maxValue:u,minValue:l});return!0===p?{result:!0}:{result:!1,errorMsg:function(t,e){var r=e.errorMsg,n=e.regErrorMsg,i=e.maxValue,o=e.minValue;switch(t){case Us.NOT_ALLOW_BLANK:return r;case Us.INVALID_NUMBER:return n||BI.i18nText("Fine-Report_Preview_Input_Must_Be_Number");case Us.NOT_ALLOW_NEGATIVE:return n||BI.i18nText("Fine-Report_Preview_NOT_ALLOW_NEGATIVE");case Us.NOT_ALLOW_DECIMALS:return n||BI.i18nText("Fine-Report_Preview_NOT_ALLOW_DECIMALS");case Us.TOO_MANY_DECIMALS:return n||BI.i18nText("Fine-Report_Preview_TOO_MANY_DECIMALS");case Us.TOO_LARGE:return n||BI.i18nText("Fine-Report_Preview_TOO_LARGE",i);case Us.TOO_SMALL:return n||BI.i18nText("Fine-Report_Preview_TOO_SMALL",o);default:return n||BI.i18nText("Fine-Report_Preview_Input_Error")}}(p,{errorMsg:f,regErrorMsg:h,maxValue:u,minValue:l})}},r.preGetValidation=function(){var t=this.options.value;return this.getBasicValidation(t)},r.postGetValidation=function(){return this.getBasicValidation()},r.postValidateAndToast=function(){var t=this.getValidation();return!0===t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.setInteractValue=function(t){this.setControllerValue(t)},r.reset=function(){this.editor.setValue()},r.resize=function(e,r){var n=this.editor.getValue();t.prototype.resize.call(this,e,r),this.editor.setValue(n)},r.getAdapter=function(){return this.editor},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setStyle=function(t){this.editor.element.addClass(oo(t))},r.setWaterMark=function(t){this.editor.setWaterMark(t)},r.getText=function(){return this.editor.getValue()},e}(Eo),"xtype","report.main.parameter_container.controller.number"),Xs=qs))||Xs;function nu(t,e){return(nu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var iu,ou,au,cu,su=E()((ou="report.main.controller.page_fixed_row_combobox","xtype"in(iu=eu=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),nu(t.prototype.constructor=t,e)}(e,t),e.prototype.getSubmitValue=function(){return{__pageFixedRowSize__:this.getValue()}},e}(uc))?Object.defineProperty(iu,"xtype",{value:ou,enumerable:!0,configurable:!0,writable:!0}):iu.xtype=ou,tu=eu))||tu;function uu(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function lu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fu(t,e){return(fu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function hu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pu,du,yu=E()((hu(cu=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return hu(lu(e=t.call.apply(t,[this].concat(n))||this),"editor",void 0),hu(lu(e),"props",{baseCls:"report-main-parameter-container-controller-password",$testId:"report-main-parameter-container-controller-password",width:80,height:21,value:"",passwordText:!0,disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),watermark:"",regex:"",regErrorMsg:BI.i18nText("Fine-Report_Preview_Input_Error"),allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),fu(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.width,n=e.height,i=e.value,o=e.fontSize,a=e.watermark,c=e.disabled,s=e.allowBg,u=eo("report-main-parameter-container-controller-password",o);return{type:BI.VerticalLayout.xtype,cls:s?"bi-card":"",items:[{type:BI.Editor.xtype,cls:"".concat(u," bi-border bi-border-radius bi-focus-shadow"),ref:function(e){t.editor=e},width:r-2,height:n-2,disabled:c,allowBlank:!0,watermark:a,value:i,inputType:"password",listeners:[{eventName:BI.TextEditor.EVENT_FOCUS,action:function(){t.hideBubble(),t.silence||t.fireEvent("beforeedit")}},{eventName:BI.TextEditor.EVENT_KEY_DOWN,action:function(){!1!==(!t.silence&&t.fireEvent("afteredit"))&&t.fireEvent("EVENT_CHANGE",t.editor.getValue())}},{eventName:BI.TextEditor.EVENT_BLUR,action:function(){t.silence||t.fireEvent("stopedit")}}]}]}},r.setWaterMark=function(t){this.editor.setWaterMark(t)},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){uu(o,n,i,a,c,"next",t)}function c(t){uu(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.editor.setValue(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.setControllerValue(t)},r.getBasicValidation=function(t){var e=0<arguments.length&&void 0!==t?t:this.editor.getValue(),r=BI.isArray(e)?e.map((function(t){return"".concat(t)})).join(""):e,n=this.options,i=n.allowBlank,o=n.regex,a=n.errorMsg,c=n.regErrorMsg;return function(t,e){var r=e.allowBlank;return!(""===t&&!r)&&(!(""!==t||!r)||new RegExp(e.regex).test(t))}(r,{allowBlank:i,regex:o})?{result:!0}:{result:!1,errorMsg:function(t,e){return""!==t||e.allowBlank?e.regErrorMsg:e.errorMsg}(r,{allowBlank:i,errorMsg:a,regErrorMsg:c})}},r.preGetValidation=function(){var t=this.options.value;return this.getBasicValidation(t)},r.postGetValidation=function(){return this.getBasicValidation()},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.getValue=function(){return this.editor.getValue()},r.reset=function(){this.editor.setValue()},r.resize=function(e,r){var n=this.editor.getValue();t.prototype.resize.call(this,e,r),this.editor.setValue(n)},r.getAdapter=function(){return this.editor},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setStyle=function(t){this.editor.element.addClass(oo(t))},r.getText=function(){return this.editor.getValue()},e}(Eo),"xtype","report.main.parameter_container.controller.password"),au=cu))||au;function vu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bu(t,e){return(bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function mu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wu,Ou,xu=E()((mu(du=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return mu(gu(e=t.call.apply(t,[this].concat(n))||this),"text",void 0),mu(gu(e),"radio",void 0),mu(gu(e),"options",e.props),mu(gu(e),"props",{baseCls:"report-main-parameter-container-controller-radio-group-radio-item",$testId:"bi-single-select-radio-item",hgap:4,text:"",value:void 0,width:void 0,adaptive:!1,scale:1}),e}!function(t,e){t.prototype=Object.create(e.prototype),bu(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.scale,n=e.adaptive,o=e.hgap,a=e.text,c=e.value,s=24*r,u=Math.floor(12*r),l=[{el:{type:BI.VerticalAdaptLayout.xtype,items:[{type:BI.Radio.xtype,ref:function(e){t.radio=e},width:u,height:u,iconWidth:u-2,iconHeight:u-2}]},width:u},{type:BI.Label.xtype,ref:function(e){t.text=e},cls:"list-item-text",textAlign:"left",whiteSpace:n?"normal":"nowrap",hgap:o*r,text:a,value:c,textHeight:n?void 0:s}],f=function(t,e){var r,n="".concat("report-main-parameter-container-controller-radio-group-radio-item","-").concat(BI.UUID()),o=".".concat(n," .bi-radio .radio-content");i.a.use(d(),b());var a=(e/2-1)/4*3;return i.a.createStyleSheet({"@global":(r={},vu(r,"".concat(o),{"border-radius":"50%"}),vu(r,"".concat(o,":after"),{width:"".concat(a,"px"),height:"".concat(a,"px"),"border-radius":"50%"}),r)}).attach(),n}(0,u);return n?{type:BI.TableAdaptLayout.xtype,cls:f,horizontalAlign:BI.HorizontalAlign.Left,verticalAlign:BI.VerticalAlign.Middle,columnSize:[u,""],items:l}:{type:BI.HTapeLayout.xtype,cls:f,height:s,items:l}},r.doRedMark=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.text.doRedMark(e)},r.unRedMark=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this.text.unRedMark(e)},r.doClick=function(){t.prototype.doClick.apply(this,arguments),this.radio.setSelected(this.isSelected()),this.isValid()&&this.fireEvent(e.EVENT_CHANGE,this.isSelected(),this.getValue(),this)},r.setSelected=function(e){t.prototype.setSelected.apply(this,arguments),this.radio.setSelected(e)},e}(BI.BasicButton),"xtype","report.main.parameter_container.controller.radio_group.sinlge_select_radio_item"),mu(du,"EVENT_CHANGE","EVENT_CHANGE"),pu=du))||pu;function Eu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ju(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Eu(Object(r),!0).forEach((function(e){Tu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Su(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Cu(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Su(o,n,i,a,c,"next",t)}function c(t){Su(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Pu(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Iu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bu(t,e){return(Bu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Tu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _u,ku,Nu=E()((Tu(Ou=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Tu(Iu(r=t.call.apply(t,[this].concat(i))||this),"radioGroups",void 0),Tu(Iu(r),"$container",void 0),Tu(Iu(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,widgetName:"",width:80,height:21,adaptive:!1,columnsInRow:1,controlAttr:{data:[],value:""},needSubmit:!1,disabled:!1,invisible:!1,fontSize:12,value:"",allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),norepeat:!0,controlAttrFetcher:ta,extraOptsGetter:function(){return{}},getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},allowBg:!0}),r}!function(t,e){t.prototype=Object.create(e.prototype),Bu(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.width,n=e.height,i=e.fontSize;return{type:BI.ButtonGroup.xtype,cls:"report-hide-scrollbar",ref:function(e){t.radioGroups=e,t.$container=e.element},items:this.items,chooseType:BI.ButtonGroup.CHOOSE_TYPE_MULTI,layouts:[{type:BI.FloatLeftLayout.xtype,width:r,height:n,tgap:3*i/12,scrolly:!0}]}},r.setControllerValue=function(){var t=Cu(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.options.value=e,this.radioGroups.populate(this.items);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.options.controlAttr=t,this.options.value=t.value,this.radioGroups.populate(this.items),this.setControllerValue(t.value)},r.preGetValidation=function(){var t=this.options,e=t.errorMsg,r=t.allowBlank,n=t.value;return r||!BI.isEmpty(n)?{result:!0}:{result:!1,errorMsg:e}},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg;return e||1==!!this.getValue()?{result:!0}:{result:!1,errorMsg:r}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.getValue=function(){return BI.first(this.radioGroups.getAllButtons().filter((function(t){return t.isSelected()})).map((function(t){return t.getValue()})))||""},r.reset=function(){this.radioGroups.setValue()},r.resize=function(e,r){this.options.value=this.getValue(),t.prototype.resize.call(this,e,r)},r.updateControlAttr=function(){var t=Cu(regeneratorRuntime.mark((function t(){var e,r,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,r=e.widgetName,n=e.controlAttrFetcher,t.abrupt("return",n(r,this.getRequestOpts()).then((function(t){i.options.controlAttr={data:t,value:i.options.value}})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.reloadControlAttr=function(){var t=this;this.reset(),this.updateControlAttr().then((function(){t.radioGroups.populate(t.items)}))},r.getRequestOpts=function(){var t=this.options,e=t.getWidgetDependenceValueByWidget,r=t.getDependenceByWidget,n=t.extraOptsGetter;return ju({dependence:e(this),reload:BI.isNotEmptyArray(r(this))},n())},r.setStyle=function(t){this.radioGroups.element.addClass(function(t){var e=t.opacity,r=t.background,n=t.color;i.a.use(d(),b());var o="".concat(Nu.BASE_CLS,"-").concat(BI.UUID()),a=".".concat(o);return i.a.createStyleSheet({"@global":vu({},"".concat(a),{opacity:e,background:r,color:n})}).attach(),o}(t))},r.getText=function(){return BI.first(this.radioGroups.getAllButtons().filter((function(t){return t.isSelected()})).map((function(t){return t.attr("text")})))||""},function(t,e,r){e&&Pu(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"items",get:function(){var t=this,r=this.options,n=r.adaptive,i=r.columnsInRow,o=r.controlAttr,a=r.fontSize,c=r.value,s=r.disabled,u=ao(o.data),l=eo(e.BASE_CLS,BI.isIE()?Math.floor(a):a),f=BI.isNull(c)||BI.isEmptyString(c)?void 0:BI.isArray(c)?"".concat(BI.first(c)):"".concat(c),h=!1;return u.some((function(t){return(h=t.value===f)&&(t.selected=!0),h})),h||u.some((function(t){return(h=t.text===f)&&(t.selected=!0),h})),u.map((function(e){var r=e.text,o=e.value,c=e.selected,u=void 0!==c&&c;return ju(ju({type:xu.xtype,disabled:s,scale:a/12,cls:"".concat(l),text:r,title:r,adaptive:n,selected:u,value:o},ro(n,i)),{},{listeners:[{eventName:xu.EVENT_CHANGE,action:function(e,r,n){e&&t.radioGroups.getAllButtons().forEach((function(t){t!==n&&t.setSelected(!1)})),t.hideBubble(),t.silence||t.fireEvent("statechange"),t.fireEvent("EVENT_CHANGE")}}]})}))}}]),e}(Eo),"xtype","report.main.parameter_container.controller.radio_group"),Tu(Ou,"BASE_CLS","report-main-parameter-container-controller-radio-group"),wu=Ou))||wu;function Au(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Au(Object(r),!0).forEach((function(e){Du(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Au(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Du(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ru(t,e,r,n,i,o,a){var c=Lu(t,r,n,o,a),s=e.slice(0);return c.forEach((function(t,e){var r=s.findIndex((function(e){return e.value===t}));-1!==r&&(c[e]=s[r],s.splice(r,1))})),c.forEach((function(t,e){if(BI.isString(t)){var r=s.findIndex((function(e){return e.text===t}));-1!==r?(c[e]=s[r],s.splice(r,1)):i&&(c[e]={text:t,value:t})}})),c.filter((function(t){return!BI.isString(t)}))}function Lu(t,e,r,n,i){return t?BI.isObject(t)&&"date_milliseconds"in t?[BI.print(BI.getDate(t.date_milliseconds),"%Y-%X-%d")]:function(t,e,r,n){var i=1<arguments.length&&void 0!==e?e:",",o=2<arguments.length&&void 0!==r?r:"",a=3<arguments.length&&void 0!==n?n:"";return BI.isArray(t)?t.map((function(t){return"".concat(t)})):fo(t,i,o,a)}(t,no(e,r),n,i):[]}function Mu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zu(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Mu(Object(r),!0).forEach((function(e){Fu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Hu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wu(t,e){return(Wu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Fu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gu,Uu,Yu=E()((Fu(ku=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Fu(Hu(e=t.call.apply(t,[this].concat(n))||this),"pane",void 0),Fu(Hu(e),"props",{itemsCreator:BI.emptyFn,keywordGetter:function(){},valueGetter:void 0,unmatchedValueGetter:function(){return[]},itemHeightGetter:function(){return 24},minWidth:135,maxHeight:400,height:96,value:[],customData:!0,repopulateGetter:function(){return!1}}),Fu(Hu(e),"allSelectButton",void 0),Fu(Hu(e),"addTextBtn",void 0),Fu(Hu(e),"unmatchedValues",[]),Fu(Hu(e),"values",[]),Fu(Hu(e),"hasNext",!1),Fu(Hu(e),"vtapeWrapper",void 0),Fu(Hu(e),"loader",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Wu(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.itemsCreator,i=r.itemHeightGetter,o=r.keywordGetter,a=r.value,c=!1,s=1;this.values=a.slice(0);var u=i();return{type:BI.VTapeLayout.xtype,ref:function(e){t.vtapeWrapper=e},items:[{el:{type:BI.VerticalLayout.xtype,scrolly:!1,items:[{type:BI.MultiSelectBar.xtype,ref:function(e){t.allSelectButton=e},cls:"bi-list-item-active",invisible:!0,height:u,iconWrapperWidth:Math.min(1.5*this.options.itemHeightGetter(),36),listeners:[{eventName:BI.MultiSelectBar.EVENT_CHANGE,action:function(r){r?t.setAllSelected():t.setAllUnselected(),r&&!c&&t.hasNext?n({loadTotal:c=!0,times:s+1},(function(r){t.hasNext=r.hasNext,r.items=t.transformItems(r.items),r.items.forEach((function(t){t.selected=!0})),t.pane.addItems(t.createItems(r.items)),t.fireEvent(e.EVENT_SELECT_ALL,!0)})):t.fireEvent(e.EVENT_SELECT_ALL,r)}}]},{type:BI.TextButton.xtype,ref:function(e){t.addTextBtn=e},invisible:!0,text:BI.i18nText("BI-Basic_Click_To_Add_Text",""),height:u,cls:"bi-high-light",hgap:5,handler:function(){t.fireEvent(e.EVENET_ADD_ITEM,o(),o(),!0)}}]},height:u},{type:BI.ListPane.xtype,ref:function(e){t.pane=e},itemsCreator:function(e,r){s=e.times;var i=o();e.keyword=i,e.loadTotal=c&&t.hasNext,n(e,(function(n){t.hasNext=n.hasNext,n.items=t.transformItems(n.items),r(t.createItems(n.items)),1===e.times&&t.resize(0<BI.size(n.items)),t.checkAllSelected()}))},el:{type:BI.Loader.xtype,ref:function(e){t.loader=e},el:{chooseType:BI.ButtonGroup.CHOOSE_TYPE_MULTI},layouts:[{type:BI.VerticalLayout.xtype,height:400,minHeight:400,scrolly:!0}]},hasNext:function(){return t.hasNext},listeners:[{eventName:BI.ListPane.EVENT_CHANGE,action:function(){t.checkAllSelected()}},{eventName:BI.Pane.EVENT_LOADED,action:function(){t.fireEvent(e.EVENT_LOADED)}},{eventName:BI.Pane.EVENT_LOADING,action:function(){t.fireEvent(e.EVENT_LOADING)}}]},{el:{type:BI.ButtonGroup.xtype,cls:"list-view-toolbar bi-high-light bi-split-top",items:BI.createItems([{text:BI.i18nText("BI-Basic_Clears"),handler:function(){t.fireEvent(e.EVENT_CLEAR)}},{text:BI.i18nText("BI-Basic_Sure"),handler:function(){t.fireEvent(e.EVENT_CONFIRM)}}],{type:BI.TextButton.xtype,once:!1,shadow:!0,isShadowShowingOnSelected:!0}),layouts:[{type:BI.CenterLayout.xtype,hgap:0,vgap:0}]},height:u}]}},r.transformItems=function(t){for(var e=this,r=0,n=function(){var n=e.unmatchedValues[r],i=t.findIndex((function(t){return t.text===n.text&&t.value===n.value}));-1!==i?(t.splice(i,1,n),e.unmatchedValues.splice(r,1)):r+=1};r<this.unmatchedValues.length;)n();t.forEach((function(t){var r=e.values.findIndex((function(e){return t.text===e.text&&t.value===e.value}));-1!==r&&(t.selected=!0,e.values.splice(r,1))}));var i=this.values.map((function(t){return zu(zu({},t),{},{selected:!0})}));return this.unmatchedValues=this.unmatchedValues.concat(this.values),this.values=[],t.concat(i)},r.resize=function(t){var r=this,n=this.options,i=n.itemHeightGetter,o=n.keywordGetter,a=i();this.allSelectButton.setVisible(t),BI.nextTick((function(){r.pane.setTipVisible(!t),o()||(r.vtapeWrapper.element.css("height",(r.loader.element.height()||a)+2*a),r.vtapeWrapper.attr("items")[0].height=t?a:0,r.vtapeWrapper.resize(),r.fireEvent(e.EVENT_RESIZE))}))},r.getValue=function(){var t=this.pane.getAllButtons();return BI.isEmptyArray(t)?this.values:t.filter((function(t){return t.isSelected()})).map((function(t){return{text:t.attr("text"),value:t.getValue()}}))},r.getAllLeaves=function(){return this.pane.getAllButtons().map((function(t){return{text:t.attr("text"),value:t.getValue()}}))},r.populate=function(){this.pane.populate()},r.setAllSelected=function(){this.pane.getAllButtons().forEach((function(t){t.setSelected(!0)}))},r.setAllUnselected=function(){this.pane.getAllButtons().forEach((function(t){t.setSelected(!1)}))},r.createItems=function(t){var r=this;return BI.createItems(t,{type:BI.MultiSelectItem.xtype,cls:"bi-list-item-active",iconWrapperWidth:Math.min(1.5*this.options.itemHeightGetter(),36),height:this.options.itemHeightGetter(),keyword:this.options.keywordGetter(),listeners:[{eventName:BI.MultiSelectItem.EVENT_CHANGE,action:function(t,n){r.fireEvent(e.EVENT_CHANGE,n.attr("text"),t,n.isSelected())}}]})},r.checkAllSelected=function(){!this.hasNext&&this.pane.getAllButtons().every((function(t){return t.isSelected()}))?this.allSelectButton.setSelected(!0):this.pane.getAllButtons().every((function(t){return!t.isSelected()}))?this.allSelectButton.setSelected(!1):this.allSelectButton.setHalfSelected(!0)},r.switchState=function(t,r,n){var i=!!BI.isNull(n)||n,o=this.pane.getAllButtons().find((function(e){return e.attr("text")===t&&e.getValue()===r&&(!BI.isNotNull(n)||e.isSelected()===!i)}));o?o.setSelected(i):(this.pane.addItems(this.createItems([{text:t,value:r,selected:i}])),this.unmatchedValues.push({text:t,value:r})),this.resize(!0),this.checkAllSelected(),this.fireEvent(e.EVENT_SWITCH_STATE)},r.switchStates=function(t,r){var n=t.slice(0);this.options.repopulateGetter()||this.pane.getAllButtons().forEach((function(t){var e=n.findIndex((function(e){var r=e.text,n=e.value;return t.attr("text")===r&&t.getValue()===n}));-1!==e&&(t.setSelected(r),n.splice(e,1))})),0<BI.size(n)&&(n.forEach((function(t){t.selected=r})),this.pane.addItems(this.createItems(n)),this.options.repopulateGetter()?this.values=this.values.concat(n):this.unmatchedValues=this.unmatchedValues.concat(n)),this.checkAllSelected(),this.fireEvent(e.EVENT_SWITCH_STATE)},r.setValue=function(t){this.setAllUnselected(),this.switchStates(t,!0)},r.getUnmatchedValues=function(){return this.unmatchedValues},r.getAllButtons=function(){return this.pane.getAllButtons()},r.resetState=function(){this.unmatchedValues=[],this.values=[],this.hasNext=!1},e}(BI.Widget),"xtype","report-multi-select-popup"),Fu(ku,"EVENT_CHANGE","EVENT_CHANGE"),Fu(ku,"EVENT_CONFIRM","EVENT_CONFIRM"),Fu(ku,"EVENT_CLEAR","EVENT_CLEAR"),Fu(ku,"EVENT_SELECT_ALL","EVENT_SELECT_ALL"),Fu(ku,"EVENET_ADD_ITEM","EVENET_ADD_ITEM"),Fu(ku,"EVENT_SWITCH_STATE","EVENT_SWITCH_STATE"),Fu(ku,"EVENT_RESIZE","EVENT_RESIZE"),Fu(ku,"EVENT_LOADED","EVENT_LOADED"),Fu(ku,"EVENT_LOADING","EVENT_LOADING"),_u=ku))||_u;function Xu(t,e){return(Xu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function qu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ku,$u,Ju=E()((qu(Uu=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return qu(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"props",{itemsCreator:BI.emptyFn,keywordGetter:function(){},valueGetter:function(){return[]},unmatchedValueGetter:function(){return[]},itemHeightGetter:function(){return 24},minWidth:135,maxHeight:400,height:void 0,value:[],customData:!0,repopulateGetter:function(){return!1}}),e}return function(t,e){t.prototype=Object.create(e.prototype),Xu(t.prototype.constructor=t,e)}(e,t),e.prototype.transformItems=function(t){var e=this.options,r=e.valueGetter,n=e.unmatchedValueGetter,i=e.keywordGetter,o=e.customData,a=i()||"",c=n().slice(0),s=r();t.forEach((function(t){var e=s.findIndex((function(e){return e.text===t.text&&e.value===t.value}));t.selected=-1!==e,t.selected&&s.splice(e,1);var r=c.findIndex((function(e){return e.text===t.text&&e.value===t.value}));-1!==r&&c.splice(r,1)})),c.forEach((function(t){var e=s.findIndex((function(e){return e.text===t.text&&e.value===t.value}));t.selected=-1!==e,t.selected&&s.splice(e,1)}));var u=BI.Func.getSearchResult(c,a,"value"),l=u.match,f=u.find,h=f.concat(t,l);return 0===BI.size(h)&&o?(this.addTextBtn.setText(BI.i18nText("BI-Basic_Click_To_Add_Text",i())),this.addTextBtn.visible()):this.addTextBtn.invisible(),l.concat(t,f)},e}(Yu),"xtype","report-multi-select-search-popup"),Gu=Uu))||Gu;function Qu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zu(t,e){return(Zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function tl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var el,rl,nl=E()((tl($u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return tl(Qu(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-search-text-value-trigger bi-border bi-focus-shadow",height:24,itemsCreator:BI.emptyFn,valueGetter:function(){return[]},unmatchedValueGetter:function(){return[]},watermark:"",allowEdit:!1,itemHeightGetter:function(){return 24},customData:!0,value:[]}),tl(Qu(e),"searcher",void 0),tl(Qu(e),"editor",void 0),tl(Qu(e),"popup",void 0),tl(Qu(e),"wrapper",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Zu(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.height,i=r.itemsCreator,o=r.valueGetter,a=r.watermark,c=r.unmatchedValueGetter,s=r.customData,u=r.itemHeightGetter;return{type:BI.HTapeLayout.xtype,ref:function(e){t.wrapper=e},items:[{el:{type:BI.Searcher.xtype,ref:function(e){t.searcher=e},isAutoSearch:!1,el:{type:BI.SignEditor.xtype,ref:function(e){t.editor=e},value:this.joinValues(o()),allowBlank:!0,watermark:a,height:n,listeners:[{eventName:BI.SignEditor.EVENT_FOCUS,action:function(){t.editor.setValue(""),t.fireEvent(e.EVENT_FOCUS)}},{eventName:BI.SignEditor.EVENT_BLUR,action:function(){t.fireEvent(e.EVENT_BLUR)}},{eventName:BI.SignEditor.EVENT_CLICK,action:function(){t.fireEvent(e.EVENT_CLICK)}}]},popup:{type:Ju.xtype,itemHeightGetter:u,customData:s,cls:"bi-card",ref:function(e){t.popup=e},keywordGetter:function(){return t.editor.getValue()},unmatchedValueGetter:c,itemsCreator:i,valueGetter:o,listeners:[{eventName:Yu.EVENT_CHANGE,action:function(r,n,i){t.fireEvent(e.EVENT_CHANGE,r,n,i)}},{eventName:Yu.EVENET_ADD_ITEM,action:function(r,n,i){t.fireEvent(e.EVENT_CHANGE,r,n,i),t.searcher.stopSearch()}},{eventName:Yu.EVENT_CONFIRM,action:function(){t.fireEvent(e.EVENT_CONFIRM)}},{eventName:Yu.EVENT_CLEAR,action:function(){t.fireEvent(e.EVENT_CLEAR)}},{eventName:Yu.EVENT_SELECT_ALL,action:function(r){t.fireEvent(e.EVENT_SELECT_ALL,r,t.popup.getAllLeaves())}}]},onSearch:function(t,e){e()},listeners:[{eventName:BI.Searcher.EVENT_CHANGE,action:function(){}},{eventName:BI.Searcher.EVENT_START,action:function(){t.fireEvent(e.EVENT_START)}},{eventName:BI.Searcher.EVENT_SEARCHING,action:function(){t.fireEvent(e.EVENT_SEARCHING)}},{eventName:BI.Searcher.EVENT_STOP,action:function(){t.fireEvent(e.EVENT_STOP)}}]}},{el:{type:BI.Layout.xtype},width:0},{el:{type:BI.Layout.xtype,width:24},width:24}]}},r.mounted=function(){var t=this;this.options.allowEdit||BI.createWidget({type:BI.AbsoluteLayout.xtype,element:this,items:[{el:{type:BI.Text.xtype,title:function(){return t.editor.getValue()}},left:0,right:24,top:0,bottom:0}]})},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setValue=function(t){this.editor.setValue(this.joinValues(t))},r.isSearching=function(){return this.searcher.isSearching()},r.stopEditing=function(){this.searcher.stopSearch()},r.getSearcher=function(){return this.searcher},r.getValue=function(){return this.popup.getValue()},r.setAdapter=function(t){this.searcher.setAdapter(t)},r.adjustPopupHeight=function(t){this.setAdapter(t),this.searcher.populate(),this.searcher.adjustHeight()},r.joinValues=function(t){return t.map((function(t){return t.text})).join(",")},r.refreshPlaceHolderWidth=function(t){this.wrapper.attr("items")[1].width=t,this.wrapper.resize()},r.setText=function(t){this.editor.setValue(t)},r.setWaterMark=function(t){this.editor.setWaterMark(t)},e}(BI.Trigger),"EVENT_SEARCHING","EVENT_SEARCHING"),tl($u,"EVENT_STOP","EVENT_STOP"),tl($u,"EVENT_START","EVENT_START"),tl($u,"EVENT_CHANGE","EVENT_CHANGE"),tl($u,"EVENT_FOCUS","EVENT_FOCUS"),tl($u,"EVENT_BLUR","EVENT_BLUR"),tl($u,"EVENT_CONFIRM","EVENT_CONFIRM"),tl($u,"EVENT_SELECT_ALL","EVENT_SELECT_ALL"),tl($u,"EVENT_CLEAR","EVENT_CLEAR"),tl($u,"xtype","report.search_text_value_trigger"),tl($u,"EVENT_CLICK","EVENT_CLICK"),Ku=$u))||Ku;function il(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ol(t,e){return(ol=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function al(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cl,sl,ul=E()((al(rl=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return al(il(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-multi-select-check-selected-button",valueGetter:function(){return[]}}),al(il(e),"numberCounter",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),ol(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this;return{type:BI.TextButton.xtype,ref:function(e){t.numberCounter=e},hgap:4,text:"0",textAlign:"center",textHeight:16,cls:"bi-high-light-background count-tip",listeners:[{eventName:"EVENT_CHANGE",action:function(){t.fireEvent(e.EVENT_CHANGE)}}]}},r.mounted=function(){var t=this;this.numberCounter.element.hover((function(){t.numberCounter.setTag(t.numberCounter.getText()),t.numberCounter.setText(BI.i18nText("BI-Check_Selected"))}),(function(){t.numberCounter.setText(t.numberCounter.getTag())})),this.updateValue()},r.updateValue=function(){var t=this.options.valueGetter().length;this.numberCounter.setText("".concat(t)),this.setVisible(0<t)},e}(BI.Widget),"xtype","report-multi-select-check-button"),al(rl,"EVENT_CHANGE","EVENT_CHANGE"),el=rl))||el;function ll(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fl(t,e){return(fl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function hl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pl,dl,yl=E()((hl(sl=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return hl(ll(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-multi-select-check-pane bi-background",valueGetter:function(){return[]},items:[],itemHeightGetter:function(){return 24}}),hl(ll(e),"pane",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),fl(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options.items;return{type:BI.VTapeLayout.xtype,items:[{height:12,el:{type:BI.VerticalAdaptLayout.xtype,columnSize:["auto","auto"],cls:"multi-select-continue-select",items:[{el:{type:BI.Label.xtype,title:BI.i18nText("BI-Selected_Data"),text:BI.i18nText("BI-Selected_Data")},lgap:10},{el:{type:BI.TextButton.xtype,title:BI.i18nText("BI-Continue_Select"),text:BI.i18nText("BI-Continue_Select"),cls:"multi-select-check-selected bi-high-light",listeners:[{eventName:BI.TextButton.EVENT_CHANGE,action:function(){t.fireEvent(e.EVENT_CHANGE)}}]},lgap:10}]},tgap:10},{el:{type:BI.ListPane.xtype,ref:function(e){t.pane=e},el:{type:BI.Loader.xtype,el:{chooseType:BI.ButtonGroup.CHOOSE_TYPE_MULTI},layouts:[{type:BI.VerticalLayout.xtype,lgap:10}],items:this.createItems(r)},baseCls:"bi-display-list"},tgap:5}]}},r.createItems=function(t){return BI.createItems(t,{type:BI.IconTextItem.xtype,cls:"cursor-default check-font icon-size-12 display-list-item bi-tips",once:!0,invalid:!0,selected:!0,height:this.options.itemHeightGetter(),logic:{dynamic:!0}})},r.updateValue=function(){var t=this.options.valueGetter();this.pane.populate(this.createItems(t))},e}(BI.Widget),"xtype","report-multi-select-check-pane"),hl(sl,"EVENT_CHANGE","EVENT_CHANGE"),cl=sl))||cl;function vl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gl(t,e){return(gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function bl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ml,wl,Ol=E()((bl(dl=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return bl(vl(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"bi-multi-select-check-selected-switcher",valueGetter:function(){return[]},popupGetter:function(){return ka},itemHeightGetter:function(){return 24}}),bl(vl(e),"switcher",void 0),bl(vl(e),"checkPane",void 0),bl(vl(e),"checkButton",void 0),bl(vl(e),"afterInit",!1),bl(vl(e),"afterClick",!1),e}!function(t,e){t.prototype=Object.create(e.prototype),gl(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.valueGetter,i=r.itemHeightGetter;return{type:BI.Switcher.xtype,ref:function(e){t.switcher=e},trigger:"",toggle:!1,el:{type:ul.xtype,ref:function(e){t.checkButton=e},valueGetter:n,listeners:[{eventName:ul.EVENT_CHANGE,action:function(){t.afterClick=!0,t.afterInit&&t.showView(),t.fireEvent(e.EVENT_CHANGE)}},{eventName:BI.Events.VIEW,action:function(e){t.fireEvent(BI.Events.VIEW,e)}}]},popup:{type:yl.xtype,ref:function(e){t.checkPane=e},valueGetter:n,itemHeightGetter:i,listeners:[{eventName:yl.EVENT_CHANGE,action:function(){t.switcher.hideView()}}]},listeners:[{eventName:BI.Switcher.EVENT_BEFORE_POPUPVIEW,action:function(){t.fireEvent(e.EVENT_BEFORE_POPUPVIEW)}}]}},r.setAdapter=function(t){this.switcher.setAdapter(t)},r.showView=function(){this.switcher.showView()},r.hideView=function(){this.switcher.hideView()},r.updateValue=function(){this.checkPane&&this.checkPane.updateValue(),this.checkButton.updateValue()},r.setValue=function(t){this.switcher.setValue(t),this.updateValue()},r.initSwitcher=function(){this.afterInit||(this.setAdapter(this.options.popupGetter()),this.afterClick&&this.showView()),this.afterInit=!0},e}(BI.Widget),"xtype","report-multi-select-switcher"),bl(dl,"EVENT_BEFORE_POPUPVIEW","EVENT_BEFORE_POPUPVIEW"),bl(dl,"EVENT_CHANGE","EVENT_CHANGE"),pl=dl))||pl;function xl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function El(t,e){return(El=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function jl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Sl,Cl,Pl=E()((jl(wl=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return jl(xl(e=t.call.apply(t,[this].concat(n))||this),"repopulate",!1),jl(xl(e),"initialized",!1),jl(xl(e),"needResize",!1),jl(xl(e),"props",{baseCls:"bi-search-text-value-combo",height:24,itemHeightGetter:function(){return 24},text:"",items:[],tipType:"",warningTitle:"",attributes:{tabIndex:0},title:"",value:[],itemsCreator:BI.emptyFn,watermark:"",allowEdit:!1,customData:!0,allowCount:!1}),jl(xl(e),"combo",void 0),jl(xl(e),"trigger",void 0),jl(xl(e),"popup",void 0),jl(xl(e),"triggerBtn",void 0),jl(xl(e),"numberCounter",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),El(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.height,i=r.value,o=r.text,a=r.tipType,c=r.warningTitle,s=r.title,u=r.itemsCreator,l=r.watermark,f=r.allowEdit,h=r.customData,p=r.itemHeightGetter,d=r.allowCount;return{type:BI.AbsoluteLayout.xtype,scrollable:!1,items:[{el:{type:BI.Combo.xtype,adjustLength:2,toggle:!f,ref:function(e){t.combo=e},el:{type:nl.xtype,customData:h,watermark:l,allowEdit:f,cls:"search-text-value-trigger bi-border-radius",ref:function(e){t.trigger=e},height:n-2,text:o,value:i,tipType:a,warningTitle:c,itemHeightGetter:p,itemsCreator:u,valueGetter:function(){return t.popup?t.popup.getValue():i},unmatchedValueGetter:function(){return t.popup?t.popup.getUnmatchedValues():i},title:s,listeners:[{eventName:nl.EVENT_CONFIRM,action:function(){t.combo.hideView()}},{eventName:nl.EVENT_FOCUS,action:function(){t.showView(),t.fireEvent(e.EVENT_BEFORE_EDIT)}},{eventName:nl.EVENT_CHANGE,action:function(r,n,i){t.popup.switchState(r,n,i),t.fireEvent(e.EVENT_CLICK_ITEM),t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:nl.EVENT_SELECT_ALL,action:function(r,n){t.popup.switchStates(n,r),t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:nl.EVENT_CLEAR,action:function(){t.reset()}},{eventName:nl.EVENT_SEARCHING,action:function(){t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:nl.EVENT_BLUR,action:function(){t.fireEvent(e.EVENT_BLUR)}},{eventName:nl.EVENT_CLICK,action:function(){t.showView()}}]},popup:{minWidth:135,maxHeight:500,el:{type:Yu.xtype,itemHeightGetter:p,itemsCreator:u,ref:function(e){t.popup=e,t.trigger.setAdapter(t.popup)},repopulateGetter:function(){return t.repopulate},listeners:[{eventName:Yu.EVENT_CHANGE,action:function(){t.setStateValue(t.popup.getValue()),t.fireEvent(e.EVENT_CLICK_ITEM),t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:Yu.EVENT_SELECT_ALL,action:function(){t.setValue(t.popup.getValue()),t.fireEvent(e.EVENT_AFTER_EDIT)}},{eventName:Yu.EVENT_CONFIRM,action:function(){t.combo.hideView()}},{eventName:Yu.EVENT_CLEAR,action:function(){t.reset()}},{eventName:Yu.EVENT_RESIZE,action:function(){t.numberCounter.initSwitcher()}},{eventName:Yu.EVENT_SWITCH_STATE,action:function(){t.numberCounter.updateValue()}},{eventName:Yu.EVENT_LOADED,action:function(){t.initialized=!0,BI.nextTick((function(){t.trigger.isSearching()&&t.trigger.adjustPopupHeight(t.popup)}))}},{eventName:Yu.EVENT_LOADING,action:function(){t.initialized=!1}}]},value:i},listeners:[{eventName:BI.Combo.EVENT_AFTER_HIDEVIEW,action:function(){var r=t.trigger.isSearching()?t.getAdapter().getKeyword():void 0;t.trigger.stopEditing(),t.numberCounter.hideView(),t.popup&&t.setStateValue(t.popup.getValue()),t.fireEvent(e.EVENT_CONFIRM,r)}},{eventName:BI.Combo.EVENT_BEFORE_POPUPVIEW,action:function(){t.fireEvent(e.EVENT_BEFORE_POPUPVIEW),t.repopulate&&(t.populate([]),t.repopulate=!1)}},{eventName:BI.Combo.EVENT_AFTER_POPUPVIEW,action:function(){t.checkResize()}}],hideChecker:function(e){return 0===t.triggerBtn.element.find(e.target).length&&0===t.numberCounter.element.find(e.target).length}},left:0,right:0,bottom:0,top:0},{el:{type:BI.TriggerIconButton.xtype,cls:"trigger-icon-button",ref:function(e){t.triggerBtn=e},width:n,height:n,handler:function(){t.numberCounter.hideView(),t.combo.isViewVisible()?t.combo.hideView():(t.showView(),t.fireEvent(e.EVENT_BEFORE_EDIT))}},right:0,bottom:0,top:0},{el:{type:BI.VerticalAdaptLayout.xtype,invisible:!d,items:[{type:Ol.xtype,valueGetter:function(){return t.popup?t.popup.getValue():t.options.value},popupGetter:function(){return t.popup},itemHeightGetter:p,ref:function(e){t.numberCounter=e},listeners:[{eventName:Ol.EVENT_CHANGE,action:function(){t.combo.isViewVisible()||t.combo.showView()}},{eventName:Ol.EVENT_BEFORE_POPUPVIEW,action:function(){t.numberCounter.updateValue()}},{eventName:BI.Events.VIEW,action:function(e){BI.nextTick((function(){e&&t.trigger.refreshPlaceHolderWidth(1.5*t.numberCounter.element.outerWidth())}))}}]}]},height:n,top:0,right:24}]}},r.reset=function(){this.popup&&this.popup.setAllUnselected(),this.setValue([]),this.popup&&this.popup.checkAllSelected()},r.showView=function(){this.combo.showView()},r.checkResize=function(){this.popup&&this.needResize&&(this.popup.resize(!0),this.needResize=!1)},r.populate=function(t){this.options.items=t,this.combo.populate()},r.setStateValue=function(t){var e=0<arguments.length&&void 0!==t?t:[];this.options.value=e,this.trigger.setValue(e),this.numberCounter.setValue(e)},r.setValue=function(t){var e=0<arguments.length&&void 0!==t?t:[];this.options.value=e,this.combo.setValue(e),this.numberCounter.setValue(e)},r.getValue=function(){return this.popup?this.popup.getValue():this.options.value},r.setRepopulate=function(t){this.reset(),this.popup&&this.popup.resetState(),this.popup&&this.initialized&&(this.combo.isViewVisible()?this.combo.populate():this.repopulate=t,this.needResize=!0)},r.focus=function(){this.trigger.focus(),this.combo.showView(),this.checkResize()},r.blur=function(){this.trigger.blur(),this.combo.hideView()},r.getAllButtons=function(){return this.popup.getAllButtons()},r.getAdapter=function(){return this.trigger.getSearcher()},r.setText=function(t){this.trigger.setText(t)},r.addValue=function(t,e){this.popup.switchState(t,e),this.combo.isViewVisible()||(this.needResize=!0)},r.setWaterMark=function(t){this.trigger.setWaterMark(t)},e}(BI.Widget),"EVENT_CHANGE","EVENT_CHANGE"),jl(wl,"EVENT_BEFORE_POPUPVIEW","EVENT_BEFORE_POPUPVIEW"),jl(wl,"EVENT_CONFIRM","EVENT_CONFIRM"),jl(wl,"xtype","report.search_text_value_combo"),jl(wl,"EVENT_BEFORE_EDIT","EVENT_BEFORE_EDIT"),jl(wl,"EVENT_AFTER_EDIT","EVENT_AFTER_EDIT"),jl(wl,"EVENT_CLICK_ITEM","EVENT_CLICK_ITEM"),jl(wl,"EVENT_BLUR","EVENT_BLUR"),ml=wl))||ml;function Il(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Bl(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bl(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function Bl(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Tl(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function _l(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Tl(o,n,i,a,c,"next",t)}function c(t){Tl(o,n,i,a,c,"throw",t)}a(void 0)}))}}function kl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kl(Object(r),!0).forEach((function(e){Rl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Al(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dl(t,e){return(Dl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Rl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Ll,Ml,zl=E()((Rl(Cl=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Rl(Vl(r=t.call.apply(t,[this].concat(i))||this),"combo",void 0),Rl(Vl(r),"props",{baseCls:e.BASE_CLS,$testId:"report-main-parameter-container-controller-tag-combo-checkbox",width:80,height:21,watermark:"",value:"",fontSize:12,needSubmit:!1,disabled:!1,invisible:!1,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),controlAttr:{data:[],value:""},customData:!0,needCheckCustomData:!0,directEdit:!0,noRepeat:!0,autoMode:!0,mode:"remote",searchTime:200,widgetName:"",delimiter:"",supportTag:!0,returnArray:!0,startSymbol:"",endSymbol:"",getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},add2WaitingQueue:function(){return""},removeFromWaitingQueue:function(){},allowCount:!1,controlAttrFetcher:ta,extraOptsGetter:function(){return{}},viewValueFetcher:ea,allowBg:!0,sonHeight:24}),Rl(Vl(r),"ratio",2),r}!function(t,e){t.prototype=Object.create(e.prototype),Dl(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options,n=r.width,i=r.height,o=r.value,a=r.watermark,c=r.fontSize,s=r.widgetName,u=r.controlAttr,l=r.customData,f=r.directEdit,h=r.delimiter,p=r.returnArray,d=r.allowCount,y=r.controlAttrFetcher,v=r.allowBg,g=r.startSymbol,b=r.endSymbol;return{type:Pl.xtype,cls:"".concat(co(e.BASE_CLS,{width:n,height:i,fontSize:c})," ").concat(v?"bi-card":""),ref:function(e){t.combo=e},allowEdit:f,allowCount:d,itemHeightGetter:function(){return t.options.sonHeight},itemsCreator:function(e,r){y(s,Nl(Nl({startIndex:500*(e.times-1),limitIndex:e.loadTotal?void 0:500*e.times},e.keyword?{filter:e.keyword}:{}),t.getRequestOpts())).then((function(n){var i=ao(n);t.options.controlAttr.data=(t.options.controlAttr.data||[]).concat(i),r({items:function(t,e,r){var n=0<arguments.length&&void 0!==t?t:[],i=2<arguments.length?r:void 0,o=(1<arguments.length&&void 0!==e?e:[]).map((function(t){return"".concat(t)}));return Array.from(n).filter((function(t){return!o.includes("".concat(t.value))})).map((function(t){return Vu(Vu({},i?BI.isFunction(i)?i(t):i:{}),{},{text:"".concat(t.text),value:"".concat(t.value),title:"".concat(t.text)})}))}(i,[],{$testId:"report-main-parameter-container-controller-tag-combo-checkbox-item"}),hasNext:!e.loadTotal&&500<=n.length})}))},width:n,height:i,value:Ru(o,ao(u.data),h,p,!0,g,b),watermark:a,customData:l,listeners:[{eventName:Pl.EVENT_CONFIRM,action:function(){!1!==(!t.silence&&t.fireEvent("stopedit"))&&t.fireEvent("EVENT_CHANGE")}},{eventName:Pl.EVENT_BEFORE_EDIT,action:function(){t.hideBubble(),t.silence||t.fireEvent("beforeedit")}},{eventName:Pl.EVENT_AFTER_EDIT,action:function(){t.silence||t.fireEvent("afteredit")}},{eventName:Pl.EVENT_CLICK_ITEM,action:function(){t.hideBubble(),t.silence||t.fireEvent("click")}}]}},r.mounted=function(){t.prototype.mounted.call(this);var e=this.options.fontSize;this.setPopupStyle({fontSize:"".concat(e,"px"),itemHeight:"".concat(e*this.ratio,"px")})},r.updateControllAttrByValue=function(){var t=_l(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,c,s,u,l,f,h,p,d,y,v,g,b;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this.options,i=n.delimiter,o=n.returnArray,a=n.customData,c=n.add2WaitingQueue,s=n.removeFromWaitingQueue,u=n.widgetName,l=n.viewValueFetcher,f=n.startSymbol,h=n.endSymbol,r&&!BI.isEmptyArray(r)){t.next=26;break}p=[],d=c(),y=Il(Lu(e,i,o,f,h)),t.prev=5,y.s();case 7:if((v=y.n()).done){t.next=16;break}return g=v.value,t.next=11,so(u,a,l,Nl({__text__:g},this.getRequestOpts()));case 11:b=t.sent,BI.isNull(b)?a&&p.push({text:"".concat(g),value:"".concat(g)}):p.push(b),this.options.controlAttr.data=(this.options.controlAttr.data||[]).concat(p||[]);case 14:t.next=7;break;case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(5),y.e(t.t0);case 21:return t.prev=21,y.f(),t.finish(21);case 24:return s(d),t.abrupt("return",p);case 26:return t.abrupt("return",Ru(e,ao(r),i,o,a,f,h));case 27:case"end":return t.stop()}}),t,this,[[5,18,21,24]])})));return function(e,r){return t.apply(this,arguments)}}(),r.setControllerValue=function(){var t=_l(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=this.combo,t.next=3,this.updateControllAttrByValue(e,r);case 3:t.t1=t.sent,t.t0.setValue.call(t.t0,t.t1);case 5:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setValue=function(t,e){var r=this;this.setControllerValue(t,e).then((function(){r.fireEvent("EVENT_SET_VALUE"),!r.silence&&e&&r.fireEvent("afteredit")}))},r.preGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.value,n=t.errorMsg;return e||!BI.isEmpty(r)?{result:!0}:{result:!1,errorMsg:n}},r.validateCustomData=function(){var t=this.options.controlAttr,e=this.combo.getValue(),r=ao(t.data);return!!BI.isEmptyArray(e)||e.every((function(t){return r.some((function(e){return t.text===e.text&&t.value===e.value}))}))},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg,n=t.customData,i=t.needCheckCustomData,o=this.combo.getValue();return n||!i||this.validateCustomData()?BI.isEmptyArray(o||[])&&!e?{result:!1,errorMsg:r}:{result:!0}:{result:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Not_In_List")}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.getValue=function(){var t=this.options,e=t.delimiter,r=t.returnArray,n=t.startSymbol,i=t.endSymbol,o=Array.from(new Set(this.combo.getValue().map((function(t){return t.value})).filter((function(t){return BI.isNotEmptyString(t)}))));return r?o:"".concat(n).concat(o.join(e)).concat(i)},r.reset=function(){this.combo.reset()},r.reloadControlAttr=function(){this.reset(),this.combo.setRepopulate(!0)},r.setInteractValue=function(t){this.combo.setRepopulate(!0),this.setControllerValue(t.value,t.data)},r.resize=function(e,r){var n=this.combo.getValue();t.prototype.resize.call(this,e,r),this.combo.setValue(n)},r.getRequestOpts=function(){var t=this.options,e=t.getWidgetDependenceValueByWidget,r=t.getDependenceByWidget,n=t.extraOptsGetter;return Nl({dependence:e(this),reload:BI.isNotEmptyArray(r(this))},n())},r.getText=function(){return this.combo.getValue().map((function(t){return t.text})).join(this.options.delimiter)},r.getAdapter=function(){return this.combo.getAdapter()},r.setText=function(t){this.combo.setText(t)},r.setStyle=function(t){this.combo.element.addClass(function(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="".concat(zl.BASE_CLS,"-").concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},Du(e,"".concat(u),{opacity:r,background:n}),Du(e,"".concat(u," .bi-combo .bi-card"),{background:n,color:o}),Du(e,"".concat(u," .bi-input"),{color:o}),Du(e,"".concat(u," .bi-icon-button"),{color:o}),Du(e,"".concat(u," .bi-border"),{border:a,"boder-radius":c}),e)}).attach(),s}(t))},r.setPopupStyle=function(t){this.options.sonHeight=parseInt(t.itemHeight,10),this.combo.element.addClass(function(t){var e,r=t.fontSize,n=t.itemHeight;i.a.use(d(),b());var o="".concat(zl.BASE_CLS,"-").concat(BI.UUID()),a=".".concat(o),c=Math.min(parseInt(r,10),28);return i.a.createStyleSheet({"@global":(e={},Du(e,"".concat(a," .bi-list-pane .bi-label"),{"font-size":"".concat(r," !important")}),Du(e,"".concat(a," .bi-popup-view .bi-v-tape >.bi-v .bi-label"),{"font-size":"".concat(r," !important")}),Du(e,"".concat(a," .checkbox-content"),{width:"".concat(c,"px !important"),height:"".concat(c,"px !important")}),Du(e,"".concat(a," .checkbox-content:after"),{top:"".concat(c/14*6,"px !important"),left:"".concat(c/14*2,"px !important"),width:"".concat(c/14*6,"px !important"),height:"".concat(c/14*9,"px !important")}),Du(e,"".concat(a," .bi-popup-view .bi-half-button"),{width:"".concat(c,"px !important"),height:"".concat(c,"px !important")}),Du(e,"".concat(a," .bi-popup-view .bi-half-button:after"),{top:"".concat(c/14*2,"px !important"),left:"".concat(c/14*2,"px !important"),width:"".concat(c/14*8,"px !important"),height:"".concat(c/14*8,"px !important")}),Du(e,"".concat(a," .bi-list-pane .bi-tips"),{"font-size":"".concat(r," !important"),height:"".concat(n," !important"),"line-height":"".concat(n," !important")}),e)}).attach(),o}(t))},r.setWaterMark=function(t){this.options.watermark=t,this.combo.setWaterMark(t)},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},function(t,e,r){e&&Al(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1})}(e,[{key:"editComp",get:function(){return this.combo}},{key:"ck_el_array",get:function(){return this.combo.getAllButtons()}}]),e}(Eo),"xtype","report.main.parameter_container.controller.tag_combo_checkbox_next"),Rl(Cl,"BASE_CLS","report-main-parameter-container-controller-tag-combo-checkbox"),Sl=Cl))||Sl;function Hl(t,e){var r=0<arguments.length&&void 0!==t?t:"",n=1<arguments.length&&void 0!==e?e:"";if(!n)return!0;if("idcardRegex"===n)return function(t){var e="".concat(t);if(15===e.length)return function(t){var e=parseFloat(t.substring(6,8)),r=parseFloat(t.substring(8,10)),n=parseFloat(t.substring(10,12)),i=new Date(e,r-1,n);return i.getFullYear()%100===e&&i.getMonth()===r-1&&i.getDate()===n}(e);if(18===e.length){var r=e.split("");return function(t){var e=parseFloat(t.substring(6,10)),r=parseFloat(t.substring(10,12)),n=parseFloat(t.substring(12,14)),i=new Date(e,r-1,n);return i.getFullYear()===e&&i.getMonth()===r-1&&i.getDate()===n}(e)&&function(t){var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],r=0;"x"===t[17].toLowerCase()&&(t[17]="10");for(var n=0;n<17;n++)r+=e[n]*parseInt(t[n],10);var i=r%11;return t[17]==="".concat([1,0,10,9,8,7,6,5,4,3,2][i])}(r)}return!1}(r);try{return new RegExp(n).test(r)}catch(t){return!1}}function Wl(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Fl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gl(t,e){return(Gl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ul(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yl,Xl,ql=E()((Ul(Ml=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ul(Fl(e=t.call.apply(t,[this].concat(n))||this),"editor",void 0),Ul(Fl(e),"editComp",void 0),Ul(Fl(e),"value",void 0),Ul(Fl(e),"props",{baseCls:"report-main-parameter-container-controller-text",$testId:"report-main-parameter-container-controller-text",width:80,height:21,watermark:"",allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),value:"",regex:"",regErrorMsg:BI.i18nText("Fine-Report_Preview_Input_Error"),fontSize:12,disabled:!1,invisible:!1,needSubmit:!1,allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Gl(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.width,n=e.height,i=e.value,o=e.watermark,a=e.fontSize,c=e.disabled,s=e.allowBg,u=eo("report-main-parameter-container-controller-text",a),l=lo("report-main-parameter-container-controller-text",n);return this.value="".concat(i),{type:BI.VerticalLayout.xtype,cls:s?"bi-card":"",items:[{type:BI.TextEditor.xtype,cls:"".concat(u," ").concat(l," bi-border-radius"),ref:function(e){t.editor=e,t.editComp=e.element},vgap:0,width:r,height:n,disabled:c,allowBlank:!0,value:this.value,watermark:o,listeners:[{eventName:BI.TextEditor.EVENT_FOCUS,action:function(){t.silence||t.fireEvent("beforeedit"),t.hideBubble()}},{eventName:BI.TextEditor.EVENT_KEY_DOWN,action:function(){!1!==(!t.silence&&t.fireEvent("afteredit"))&&t.fireEvent("EVENT_CHANGE",t.editor.getValue())}},{eventName:BI.TextEditor.EVENT_BLUR,action:function(){t.silence||t.fireEvent("stopedit")}}]}]}},r.setWaterMark=function(t){this.editor.setWaterMark(t)},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Wl(o,n,i,a,c,"next",t)}function c(t){Wl(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.editor.setValue(e),!this.silence&&r&&this.fireEvent("afteredit");case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.getBasicValidation=function(t){var e=0<arguments.length&&void 0!==t?t:this.editor.getValue(),r=this.options,n=r.allowBlank,i=r.regex,o=r.errorMsg,a=r.regErrorMsg;return BI.isEmptyString(e)&&!n?{result:!1,errorMsg:o}:Hl(e,i)?{result:!0}:{result:!1,errorMsg:a}},r.preGetValidation=function(){return this.getBasicValidation(this.value)},r.postGetValidation=function(){return this.getBasicValidation()},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.getValue=function(){return this.editor.getValue()},r.setInteractValue=function(t){this.setControllerValue(t)},r.reset=function(){this.editor.setValue()},r.resize=function(e,r){var n=this.editor.getValue();t.prototype.resize.call(this,e,r),this.editor.setValue(n)},r.getAdapter=function(){return this.editor},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setStyle=function(t){this.editor.element.addClass(oo(t))},r.getText=function(){return this.editor.getValue()},e}(Eo),"xtype","report.main.parameter_container.controller.text"),Ll=Ml))||Ll;function Kl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $l(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Jl(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ql(t,e){return(Ql=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Zl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tf=E()((Zl(Xl=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Zl(Jl(e=t.call.apply(t,[this].concat(n))||this),"editor",void 0),Zl(Jl(e),"value",void 0),Zl(Jl(e),"props",{baseCls:"report-main-parameter-container-controller-textarea",$testId:"report-main-parameter-container-controller-textarea",width:80,height:80,value:"",multiline:!0,regex:"",regErrorMsg:BI.i18nText("Fine-Report_Preview_Input_Error"),disabled:!1,invisible:!1,needSubmit:!1,fontSize:12,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),watermark:"",allowBg:!0}),e}!function(t,e){t.prototype=Object.create(e.prototype),Ql(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.mounted=function(){this.element.on("keydown",(function(t){t.stopPropagation()})),this.silence||this.fireEvent("afterinit")},r.render=function(){var t=this,e=this.options,r=e.width,n=e.height,o=e.value,a=e.watermark,c=e.fontSize,s=e.allowBg;return this.value="".concat(o),{type:BI.VerticalLayout.xtype,cls:s?"bi-card":"",items:[{type:BI.TextAreaEditor.xtype,cls:"".concat(function(t,e){var r,n="".concat("report-main-parameter-container-controller-textarea","-").concat(BI.UUID()),o=".".concat(n);i.a.use(d(),b());var a="".concat(o,".bi-textarea-editor");return i.a.createStyleSheet({"@global":(r={},Kl(r,"".concat(a," .textarea-editor-content"),{"font-size":"".concat(e,"px"),"line-height":"".concat(1.75*e,"px")}),Kl(r,"".concat(a," .bi-water-mark"),{"font-size":"".concat(e,"px"),"line-height":"".concat(1.75*e,"px")}),r)}).attach(),n}(0,c)," bi-border bi-border-radius bi-focus-shadow"),ref:function(e){t.editor=e},width:r-2,height:n-2,value:this.value,watermark:a,listeners:[{eventName:BI.TextAreaEditor.EVENT_KEY_DOWN,action:BI.debounce((function(){!1!==(!t.silence&&t.fireEvent("afteredit"))&&t.fireEvent("EVENT_CHANGE")}),400)},{eventName:BI.TextAreaEditor.EVENT_BLUR,action:function(){t.silence||t.fireEvent("stopedit")}},{eventName:BI.TextAreaEditor.EVENT_FOCUS,action:function(){t.hideBubble(),t.silence||t.fireEvent("beforeedit")}}]}]}},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){$l(o,n,i,a,c,"next",t)}function c(t){$l(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.editor.setValue(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getValue=function(){return this.editor.getValue()},r.getBasicValidation=function(t){var e=0<arguments.length&&void 0!==t?t:this.editor.getValue(),r=this.options,n=r.allowBlank,i=r.regex,o=r.errorMsg,a=r.regErrorMsg;return BI.isEmptyString(e)&&!n?{result:!1,errorMsg:o}:Hl(e,i)?{result:!0}:{result:!1,errorMsg:a}},r.preGetValidation=function(){return this.getBasicValidation(this.value)},r.postGetValidation=function(){return this.getBasicValidation()},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.setInteractValue=function(t){this.setControllerValue(t)},r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.reset=function(){this.editor.setValue()},r.resize=function(e,r){var n=this.editor.getValue();t.prototype.resize.call(this,e,r),this.editor.setValue(n)},r.getAdapter=function(){return this.editor},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.setStyle=function(t){this.editor.element.addClass(oo(t))},r.setWaterMark=function(t){this.editor.setWatermark(t)},r.getText=function(){return this.editor.getValue()},e}(Eo),"xtype","report.main.parameter_container.controller.textarea"),Yl=Xl))||Yl,ef="report-main-parameter-container-controller-tree";function rf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rf(Object(r),!0).forEach((function(e){of(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function of(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var af,cf;function sf(t,e){var r=eo(t,e),n=".".concat(r);return i.a.use(d(),b()),i.a.createStyleSheet({"@global":nf(nf({},function(t,e){var r,n=uf(e),i=Math.max((24-n)/2,0);return of(r={},"".concat(t," .bi-icon-button i"),{width:"".concat(n,"px !important"),height:"".concat(n,"px !important"),left:"".concat(i,"px")}),of(r,"".concat(t," .mid-line-conn-background"),{width:"".concat(n,"px !important"),height:"".concat(n,"px !important"),"background-size":"contain"}),of(r,"".concat(t," .last-line-conn-background"),{width:"".concat(n,"px !important"),height:"".concat(n,"px !important"),"background-size":"contain"}),of(r,"".concat(t," .first-line-conn-background"),{width:"".concat(n,"px !important"),height:"".concat(n,"px !important"),"background-size":"contain"}),of(r,"".concat(t," .mid-line-conn-background + div"),{height:"".concat(n,"px !important"),"line-height":"".concat(n,"px !important")}),of(r,"".concat(t," .last-line-conn-background + div"),{height:"".concat(n,"px !important"),"line-height":"".concat(n,"px !important")}),of(r,"".concat(t," .first-line-conn-background + div"),{height:"".concat(n,"px !important"),"line-height":"".concat(n,"px !important")}),of(r,"".concat(t," .bi-multilayer-single-tree-mid-tree-leaf-item"),{height:"".concat(n,"px !important")}),of(r,"".concat(t," .bi-multilayer-single-tree-mid-tree-leaf-item .bi-mid-tree-leaf-item"),{height:"".concat(n,"px !important")}),of(r,"".concat(t," .bi-node"),{height:"".concat(n,"px !important")}),of(r,"".concat(t," .bi-mid-plus-group-node"),{height:"".concat(n,"px !important")}),of(r,"".concat(t," .bi-mid-plus-group-node .bi-label"),{height:"".concat(n,"px !important"),"line-height":"".concat(n,"px !important")}),of(r,"".concat(t," .bi-multilayer-single-tree-last-tree-leaf-item"),{height:"".concat(n,"px !important")}),of(r,"".concat(t," .bi-multilayer-single-tree-last-tree-leaf-item .bi-last-tree-leaf-item"),{height:"".concat(n,"px !important")}),r}(n,e)),function(t,e){var r,n=e<=20?{height:24,fontSize:Math.max(e,20)}:{height:uf(e),fontSize:Math.max(e,20)},i=n.height,o=n.fontSize,a=(24-i)/2,c=i/24*14;return of(r={},"".concat(t," .ztree li span.button.switch"),{width:"".concat(i,"px !important"),height:"".concat(i,"px !important"),left:"".concat(a,"px")}),of(r,"".concat(t," .ztree li span.button.chk"),{width:"".concat(c,"px !important"),height:"".concat(c,"px !important"),left:"".concat(c-14+a,"px")}),of(r,"".concat(t," .ztree li span.button.chk:after"),{width:"".concat(i/24*6,"px !important"),height:"".concat(i/24*9,"px !important")}),of(r,"".concat(t," .ztree li span.button.chk.bi-half-button:after"),{width:"".concat(i/24*8,"px !important"),height:"".concat(i/24*8,"px !important"),left:"".concat(i/24*2,"px !important"),top:"".concat(i/24*2,"px !important")}),of(r,"".concat(t," .ztree li a"),{height:"".concat(i,"px !important")}),of(r,"".concat(t," .ztree li a span"),{"line-height":"".concat(i,"px !important")}),of(r,"".concat(t," .ztree li ul.line:before"),{left:"".concat(i<=24?11:o/1.5+1,"px"),"border-left-width":"".concat(i<=24?1:o/12,"px")}),of(r,"".concat(t," .ztree li ul"),{"padding-left":"".concat(i<=24?18:i+a,"px")}),r}(n,e))}).attach(),r}function uf(t){return 20<t?1.5*t:24}function lf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ff(t,e){return(ff=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function hf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pf,df,yf=E()((hf(cf=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return hf(lf(e=t.call.apply(t,[this].concat(n))||this),"pane",void 0),hf(lf(e),"isAutoExpand",!0),hf(lf(e),"tree",void 0),hf(lf(e),"props",{baseCls:"bi-tree-value-chooser-pane",items:null,itemsCreator:BI.emptyFn,value:void 0}),hf(lf(e),"nodesItems",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),ff(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r._init=function(){var e=this;t.prototype._init.apply(this,arguments),this.pane=BI.createWidget({type:BI.AsyncTree.xtype,element:this,itemsCreator:BI.bind(this._itemsCreator,this)}),this.pane.on(BI.MultiSelectTree.EVENT_CHANGE,(function(){e.fireEvent("EVENT_CHANGE")}))},r.setSelectedValue=function(t){this.options.value=this.mergeValues(t),this.pane.setSelectedValue(this.options.value||{})},r.setValue=function(t){this.setSelectedValue(t)},r.getValue=function(){return this.pane.getValue()},r.getSelectedValue=function(){return this.mergeValues(this.pane.getValue())},r.populate=function(){var t=this,e=this.options;e.itemsCreator({},(function(r){t._initData(r.items),t.nodesItems=r.items,t.setValue(e.value),t.pane.populate(),t.expandSelectedChildrenNode(t.isAutoExpand)}))},r.enableAutoExpand=function(){this.isAutoExpand=!0},r.expandSelectedChildrenNode=function(t){var e=this;setTimeout((function(){var r=e.pane.nodes,n=r.setting.treeId,i=!0===t?r.getNodes():null==t?void 0:t.children;i&&i.forEach((function(t){var r=e.nodesItems.find((function(e){return e.id===t.id}));r&&(null!=r&&r.open||t.checked)&&(e.expandNode(n,t),e.expandSelectedChildrenNode(t))}))}),17)},r.expandNode=function(t,e){this.pane._beforeExpandNode(t,e)},r.mergeValues=function(t){var e;return!t||BI.isEmptyObject(t)?t:function t(e,r){for(var n in e)BI.isEqual(r[n],e[n])||BI.isNull(r[n])?e[n]={}:e[n]=t(e[n],r[n]);return e}(t,function t(e,r){var n=1<arguments.length&&void 0!==r?r:{};return(0<arguments.length&&void 0!==e?e:[]).forEach((function(e){n[e.value]={},t(e.children,n[e.value])})),n}(null===(e=this.tree)||void 0===e?void 0:e.toJSON()))},e}(BI.AbstractTreeValueChooser),"xtype","report.main.parameter_container.controller.sync_tree"),af=cf))||af;function vf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gf(t,e){return(gf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function bf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var mf=E()((bf(df=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return bf(vf(e=t.call.apply(t,[this].concat(n))||this),"pane",void 0),bf(vf(e),"props",{baseCls:"bi-tree-value-chooser-pane",items:null,itemsCreator:BI.emptyFn,value:void 0}),e}!function(t,e){t.prototype=Object.create(e.prototype),gf(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r._init=function(){var e=this;t.prototype._init.apply(this,arguments);var r=this.options;this.pane=BI.createWidget({type:BI.ListAsyncTree.xtype,element:this,itemsCreator:BI.bind(this._itemsCreator,this),value:r.value}),this.pane.on(BI.MultiSelectTree.EVENT_CHANGE,(function(){e.fireEvent("EVENT_CHANGE")}))},r.setSelectedValue=function(t){this.pane.setSelectedValue(t)},r.setValue=function(t){this.setSelectedValue(t)},r.getValue=function(){return this.pane.getValue()},r.populate=function(){var t=this;this.options.itemsCreator({},(function(e){t._initData(e.items),t.pane.populate()}))},e}(BI.AbstractListTreeValueChooser),"xtype","report.main.parameter_container.controller.list_sync_tree"),pf=df))||pf,wf=["reload","widgetName","dependence","checkState","id","parentValues","selectedValues","keyword","type","floors","notSelectedValue","cancelToken"],Of=["reload","widgetName","dependence","node","keyword","cancelToken"],xf=["reload","widgetName","dependence","keyword","prefix"];function Ef(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Bf(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function jf(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Sf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sf(Object(r),!0).forEach((function(e){Pf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Pf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function If(t){return function(t){if(Array.isArray(t))return Tf(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Bf(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bf(t,e){if(t){if("string"==typeof t)return Tf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tf(t,e):void 0}}function Tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _f(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function kf(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){_f(o,n,i,a,c,"next",t)}function c(t){_f(o,n,i,a,c,"throw",t)}a(void 0)}))}}var Nf="__root__",Af="PULL_DATA",Vf="__splitor__",Df=/;|；/g,Rf=/,|，/g;function Lf(){return Mf.apply(this,arguments)}function Mf(){return(Mf=kf(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,c,s,u,l,f,h,p,d,y,v;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reload,i=r.widgetName,o=r.dependence,a=r.checkState,c=r.id,s=r.parentValues,u=void 0===s?[]:s,l=r.selectedValues,f=r.keyword,h=r.type,p=r.floors,d=r.notSelectedValue,y=r.cancelToken,v=jf(r,wf),t.abrupt("return",e(i,Cf({dependence:o,reload:n,id:c,value:BI.last(u),parent_values:u,notSelectedValue:d,selectedValues:l,type:h,parentValues:u,filter:f,checkState:a,floors:p},v),y).then((function(t){return t[0]||{items:[],resultType:"",hasNext:!1}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zf(){return Hf.apply(this,arguments)}function Hf(){return(Hf=kf(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,c,s,u,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reload,i=r.widgetName,o=r.dependence,a=r.node,c=void 0===a?{}:a,s=r.keyword,u=r.cancelToken,l=jf(r,Of),t.abrupt("return",e(i,Cf({id:c.id,value:oh(c.value||""),filter:s,dataFilter:s,fine_outlet_widget:s?"nx":void 0,dependence:o,parent_values:c.value?th(c.value):void 0,reload:n},l),u).then((function(t){return{items:Gf(t,{pId:c.id,prefix:!!s&&""}),hasNext:!1}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wf(){return Ff.apply(this,arguments)}function Ff(){return(Ff=kf(regeneratorRuntime.mark((function t(e,r){var n,i,o,a,c,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.reload,i=r.widgetName,o=r.dependence,a=r.keyword,c=r.prefix,s=jf(r,xf),t.abrupt("return",e(i,Cf({filter:a,dependence:o,reload:n},s)).then((function(t){return{items:Gf(t,{prefix:c}),hasNext:!1}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gf(t,e){var r=0<arguments.length&&void 0!==t?t:[],n=1<arguments.length&&void 0!==e?e:{},i=n.pId,o=void 0===i?Nf:i,a=n.times,c=void 0===a?0:a,s=n.prefix,u=void 0!==s&&s,l=[];return(r||[]).forEach((function(t){var e={checked:1===t.checkstate,half:!1,halfCheck:!1,id:t.id,isParent:t.hasChildren,open:t.isexpand,pId:o,text:t.text||"​",times:c,title:t.text||"​",value:u?"".concat(u).concat(Vf).concat(t.value):t.value};l.push(e),t.ChildNodes&&0<t.ChildNodes.length&&l.push.apply(l,If(Gf(t.ChildNodes,Cf(Cf({},n),{},{pId:t.id,prefix:!1!==u&&e.value}))))})),l}function Uf(){return Yf.apply(this,arguments)}function Yf(){return(Yf=kf(regeneratorRuntime.mark((function t(e,r,n){var i,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=3<o.length&&void 0!==o[3]?o[3]:{},t.abrupt("return",r(e,n).then((function(t){return Xf(t,i),{valueReference:i,data:t}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xf(t,e){(t||[]).forEach((function(t){e[t.value]={},t.hasChildren&&Xf(t.ChildNodes,e[t.value])}))}function qf(t,e){var r=1<arguments.length&&void 0!==e?e:[Nf];return Object.keys(t).reduce((function(e,n){return BI.isEmptyObject(t[n])?e.push({value:n,reference:t[n],path:r}):e.push.apply(e,If(qf(t[n],r.concat(n)))),e}),[])}function Kf(){return $f.apply(this,arguments)}function $f(){return($f=kf(regeneratorRuntime.mark((function t(e,r,n,i,o){var a,c,s,u,l,f,h,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o){t.next=6;break}return t.next=3,n(r,i);case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=o;case 7:if(a=t.t0,0!==(c=Object.keys(e)).length){t.next=29;break}s=Ef(a),t.prev=11,s.s();case 13:if((u=s.n()).done){t.next=21;break}if(l=u.value,e[l.value]={},l.hasChildren)return t.next=19,Kf(e[l.value],r,n,i,l.ChildNodes);t.next=19;break;case 19:t.next=13;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(11),s.e(t.t1);case 26:return t.prev=26,s.f(),t.finish(26);case 29:f=Ef(a),t.prev=30,f.s();case 32:if((h=f.n()).done){t.next=41;break}if(p=h.value,c.includes(p.value)){t.next=36;break}return t.abrupt("continue",39);case 36:if(p.hasChildren)return t.next=39,Kf(e[p.value],r,n,i,p.ChildNodes);t.next=39;break;case 39:t.next=32;break;case 41:t.next=46;break;case 43:t.prev=43,t.t2=t.catch(30),f.e(t.t2);case 46:return t.prev=46,f.f(),t.finish(46);case 49:return t.abrupt("return",e);case 50:case"end":return t.stop()}}),t,null,[[11,23,26,29],[30,43,46,49]])})))).apply(this,arguments)}function Jf(t,e){return e?Qf(t):function(t){return Zf(Qf(t))}(t)}function Qf(t,e){var r=1<arguments.length&&void 0!==e?e:[];return Object.keys(t).reduce((function(e,n){return 0===Object.keys(t[n]).length?(e.push([].concat(If(r),[n])),e):e.concat(Qf(t[n],[].concat(If(r),[n])))}),[])}function Zf(t){return t.map((function(t){return t[t.length-1]}))}function th(t){return t.split(Vf)}function eh(t,e,r,n){var i=BI.isNumber(t)?"".concat(t):t;if(""!==i&&!BI.isNull(i)&&!BI.isEmptyObject(i))return BI.isString(i)?e?r?function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ih(t).reduce((function(t,r){var n=t;return r.split(Rf).forEach((function(t){var r=t in e?e[t]:t;n[r]||(n[r]={}),n=n[r]})),t}),{})}(i,n.textValueMap):function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return ih(t).reduce((function(t,r){return t.push(r.split(Rf).map((function(t){return t in e?e[t]:t}))),t}),[])}(i,n.textValueMap):function(t,e){var r=t.split(Df)[0],n=[];return r.split(",").reduce((function(t,r){var i=e.find((function(e){return e.pId===t&&(e.value===r||e.text===r)}));return i?n=[i.value]:n.push(r),null==i?void 0:i.id}),Nf),n.join(Vf)}(i,n.nodes):e?r?i.reduce((function(t,i){return BI.deepExtend({},t,eh("".concat(i),e,r,n))}),{}):i.reduce((function(t,i){return t.push.apply(t,If(eh("".concat(i),e,r,n))),t}),[]):eh(i.join(Vf),e,r,n)}function rh(t,e){var r=1<arguments.length&&void 0!==e?e:{};return t.forEach((function(t){t.originValue=t.value,t.value=function(t,e){if(!e.node)return t.value;for(var r=t.value,n=e.node;n;)r="".concat(n.originValue).concat(Vf).concat(r),n=n.pNode;return r}(t,r)})),t}function nh(t){return BI.replaceAll("".concat(t).replace(/<\/?span.*?>/g,""),"&nbsp;"," ")}function ih(t){var e=t.split(Df);return 1<BI.size(e)&&""===BI.last(e)&&e.pop(),e}function oh(t,e){if(!t)return"";var r=BI.last(th(t)),n=null==e?void 0:e.find((function(t){return BI.last(th(t.value))===r}));return(null==n?void 0:n.text)||r}function ah(t){var e={};return t.map((function(t){e[t.pId]||(e[t.pId]=[]);var r=function(t,e){for(var r=t;e.includes(r);)r="​".concat(r);return r}(t.value,e[t.pId]);return e[t.pId].push(r),Cf(Cf({},t),{},{value:r})}))}function ch(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=uh(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function sh(t){return function(t){if(Array.isArray(t))return lh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||uh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uh(t,e){if(t){if("string"==typeof t)return lh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lh(t,e):void 0}}function lh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fh(Object(r),!0).forEach((function(e){gh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ph(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function dh(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ph(o,n,i,a,c,"next",t)}function c(t){ph(o,n,i,a,c,"throw",t)}a(void 0)}))}}function yh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vh(t,e){return(vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function gh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bh,mh,wh=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gh(yh(e=t.call.apply(t,[this].concat(n))||this),"tree",void 0),gh(yh(e),"mask",void 0),gh(yh(e),"singleTreeUnexpectedNodes",[]),gh(yh(e),"nodes",[]),gh(yh(e),"options",void 0),gh(yh(e),"textValueMap",{}),gh(yh(e),"completeMultiTreeValue",void 0),gh(yh(e),"singleTreeNotSelectedValue",BI.UUID()),gh(yh(e),"singleTreeNotSelectedNode",{checked:!1,half:!1,isParent:!1,halfCheck:!1,id:BI.UUID(),open:!1,pId:Nf,text:BI.i18nText("BI-Basic_No_Select"),times:0,title:BI.i18nText("BI-Basic_No_Select"),value:e.singleTreeNotSelectedValue,originValue:e.singleTreeNotSelectedValue}),gh(yh(e),"value",void 0),gh(yh(e),"cancelTokenSourceDict",new Map),e}!function(t,e){t.prototype=Object.create(e.prototype),vh(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.mounted=function(){var e=dh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.mounted.call(this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.updateControllAttr=function(){var t=dh(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.singleAsyncTreeItemCreator({}));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.updateCacheByItems=function(t){this.textValueMap=hh(hh({},this.textValueMap),function(t){return t.reduce((function(t,e){var r=nh("".concat(e.text)),n="".concat(e.value);return r in t||(t[r]=n),t[n]=n,t}),{})}(t)),this.nodes=this.nodes.concat(t.map((function(t){return hh(hh({},t),{},{text:nh(t.text)})}))),t.forEach((function(t){t.$testId="report-main-parameter-container-controller-tree-item",t.$value="".concat(t.pId)}))},r.updateCacheByControlAttrData=function(t){var e=this.options.mutiSelection;this.nodes=[].concat(sh(this.nodes),sh(rh(Gf(t||[],{prefix:!e&&""})).map((function(t){return hh(hh({},t),{},{text:nh(t.text)})})))),this.textValueMap=hh(hh({},this.textValueMap),function t(e,r){return(e||[]).reduce((function(e,n){var i=nh("".concat(n.text)),o=r?"".concat(r).concat(Vf).concat(n.value):"".concat(n.value);return i in e||(e[i]=o),e[o]=o,n.hasChildren?Cf(Cf({},e),t(n.ChildNodes,!1!==r&&o)):e}),{})}(t||[],!e&&""))},r.updateCacheByValue=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getInfoByValue(e);case 2:null!=(r=t.sent)&&r.nodes&&this.updateCacheByControlAttrData(r.nodes);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getInfoByValue=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.options.mutiSelection,this.isEmptyValue(e))return t.abrupt("return");t.next=3;break;case 3:if(n=[],i=[],!r){t.next=17;break}o=BI.isString(e)?e.split(Df).map((function(t){return t.split(Rf)})):BI.isArray(e)?e:[],a=0,c=o;case 8:if(a<c.length)return s=c[a],t.next=12,this.getOneBranchInfo(s).then((function(t){n.push.apply(n,sh((null==t?void 0:t.controlData)||[])),i.push.apply(i,sh((null==t?void 0:t.resultNodes)||[]))}));t.next=15;break;case 12:a++,t.next=8;break;case 15:t.next=20;break;case 17:return u=BI.isString(e)?th(e):BI.isArray(e)?e:[],t.next=20,this.getOneBranchInfo(u).then((function(t){n.push.apply(n,sh((null==t?void 0:t.controlData)||[])),i.push.apply(i,sh((null==t?void 0:t.resultNodes)||[]))}));case 20:return t.abrupt("return",{controlData:n,nodes:i});case 21:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getOneBranchInfo=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s,u,l,f,h,p,d,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.options,n=r.oldTreeControlAttrFetcher,i=r.widgetName,this.isEmptyValue(e))return t.abrupt("return");t.next=3;break;case 3:a=[],c=o=[],s=[],l=u="",f=function(t,e){var r;u="".concat(t.value),l="".concat(t.id),s.push(t.value),(r=c).push.apply(r,sh(e)),t.ChildNodes=[],c=t.ChildNodes,a.push.apply(a,sh(e))},h=ch(e),t.prev=10,d=regeneratorRuntime.mark((function t(){var e,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=p.value,r="".concat(e),t.next=4,n(i,hh(hh({},0<BI.size(s)?{id:l,value:u,parent_values:s}:{}),y.getTreeOptions()));case 4:if(o=t.sent,a=o.find((function(t){return"".concat(t.value)===r}))){t.next=8;break}return t.abrupt("return","break");case 8:f(a,o);case 9:case"end":return t.stop()}}),t)})),h.s();case 13:if((p=h.n()).done){t.next=20;break}return t.delegateYield(d(),"t0",15);case 15:if("break"===t.t0)return t.abrupt("break",20);t.next=18;break;case 18:t.next=13;break;case 20:t.next=25;break;case 22:t.prev=22,t.t1=t.catch(10),h.e(t.t1);case 25:return t.prev=25,h.f(),t.finish(25);case 28:return t.abrupt("return",{controlData:o,resultNodes:a});case 29:case"end":return t.stop()}}),t,this,[[10,22,25,28]])})));return function(e){return t.apply(this,arguments)}}(),r.setControllerValue=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=1<n.length&&void 0!==n[1]?n[1]:[],t.next=4,this.getInfoByValue(e).then((function(t){r.push.apply(r,sh((null==t?void 0:t.nodes)||[]))}));case 4:this.updateCacheByControlAttrData(r),this.value=eh(e,this.options.mutiSelection,this.options.selectLeafOnly,{textValueMap:this.textValueMap,nodes:this.nodes}),this.completeMultiTreeValue=this.value,this.setTreeValue(this.value);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setValue=function(){var t=dh(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=4;break}this.updateCacheByControlAttrData(r),t.next=6;break;case 4:return t.next=6,this.updateCacheByValue(e);case 6:this.setControllerValue(e,r),this.fireEvent("EVENT_SET_VALUE");case 8:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setTreeValue=function(t){this.tree.setValue(t)},r.getValue=function(){var t=this.completeMultiTreeValue||this.tree.getValue(),e=this.options,r=e.mutiSelection,n=e.selectLeafOnly,i=e.returnFullPath,o=e.returnArray,a=e.startSymbol,c=void 0===a?"":a,s=e.endSymbol,u=void 0===s?"":s,l=e.delimiter;return this.isEmptyValue(t)?"":(BI.isString(t)&&!r&&(t=[t]),BI.isString(t)||BI.isNull(t)?t||"":r?n?o?Jf(t,i):function(t,e,r,n){var i=Zf(Qf(t));return"".concat(r).concat(i.join(e)).concat(n)}(t,l,c,u):i?t:Zf(t):function(t,e){var r=function(t){if(!BI.isEmptyArray(t)){var e=BI.last(t);return e?th(e):void 0}}(t);return e?r:[BI.last(r||[])]}(t,i))},r.setInteractValue=function(){var t=dh(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setControllerValue("".concat(BI.isArray(e.value)?BI.isString(e.value[0])?e.value.join(","):e.value.map((function(t){return t.join(",")})).join(";"):e.value),e.data);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.fireEventChange=function(){this.fireEvent("EVENT_CHANGE",this.getValue())},r.rebuildAsyncMultiTree=function(){var t=dh(regeneratorRuntime.mark((function t(e,r){var n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setShowMask(!0),n=[],qf(e).forEach((function(t){var e=i.nodes.slice(0).reverse().find((function(e){return e.value===t.value}));e&&n.push(Uf(i.options.widgetName,i.options.newTreeStructureFetcher,hh({value:t.value,id:e.id},i.getTreeOptions()),t.reference))})),t.abrupt("return",Promise.all(n).then((function(t){t.forEach((function(t){return i.updateCacheByControlAttrData(t.data)})),i.completeMultiTreeValue=e,r&&i.fireEventChange()})).then((function(){i.setShowMask(!1)})));case 4:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.rebuildSyncMultiTree=function(){var t=dh(regeneratorRuntime.mark((function t(e,r){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setShowMask(!0),t.next=3,Kf(e,this.options.widgetName,this.options.oldTreeControlAttrFetcher,this.getTreeOptions()).then((function(){n.completeMultiTreeValue=e,r&&n.fireEventChange()})).then((function(){n.setShowMask(!1)}));case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.rebuildMultiTreeValidator=function(t){var e=this.options,r=e.selectLeafOnly,n=e.mutiSelection;return!(!r||!n||(BI.isEmptyObject(t)||BI.isNull(t)||""===t)&&(this.completeMultiTreeValue=void 0,1))},r.rebuildMultiTree=function(){var t=dh(regeneratorRuntime.mark((function t(){var e,r,n,i=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=0<i.length&&void 0!==i[0]?i[0]:this.tree.getValue(),r=1<i.length?i[1]:void 0,n=BI.deepClone(e),this.rebuildMultiTreeValidator(n)){t.next=7;break}return this.completeMultiTreeValue=void 0,r&&this.fireEventChange(),t.abrupt("return");case 7:if(this.isAsyncTree())return t.next=10,this.rebuildAsyncMultiTree(n,r);t.next=12;break;case 10:t.next=14;break;case 12:return t.next=14,this.rebuildSyncMultiTree(n,r);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.syncTreeItemCreator=function(){return this.options.mutiSelection?this.multiSyncTreeItemCreator():this.singleSyncTreeItemCreator()},r.multiAsyncTreeItemCreator=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.options,n=r.widgetName,i=r.newTreeControlAttrFetcher,(o=e.type||Af)!==BI.TreeView.REQ_TYPE_ADJUST_DATA&&o!==BI.TreeView.REQ_TYPE_SELECT_DATA||this.setShowMask(!0),(a=this.cancelTokenSourceDict.get(o))&&(a.cancel(),this.cancelTokenSourceDict.delete(o)),t.abrupt("return",Lf(i,hh(hh({},e),{},{widgetName:n},this.getTreeOptions(o))).then((function(t){return c.setShowMask(!1),Array.isArray(t.items)?(c.updateCacheByItems(t.items),t):(c.cancelTokenSourceDict.delete(o),t.items)})));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.singleSyncTreeItemCreator=function(){var t=dh(regeneratorRuntime.mark((function t(){var e,r,n,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,r=e.widgetName,n=e.oldTreeControlAttrFetcher,i=e.allowBlank,t.abrupt("return",Wf(n,hh(hh({widgetName:r},this.getTreeOptions()),{},{prefix:""})).then((function(t){var e;return t.items=ah(rh(t.items,{})),!o.isTreeWidget()&&i&&t.items.unshift(o.singleTreeNotSelectedNode),(e=t.items).push.apply(e,sh(o.singleTreeUnexpectedNodes)),o.updateCacheByItems(t.items),t})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.multiSyncTreeItemCreator=function(){var t=dh(regeneratorRuntime.mark((function t(){var e,r,n,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.options,r=e.widgetName,n=e.oldTreeControlAttrFetcher,t.abrupt("return",Wf(n,hh({widgetName:r},this.getTreeOptions())).then((function(t){return t.items=ah(rh(t.items,{})),i.updateCacheByItems(t.items),t})));case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.singleAsyncTreeItemCreator=function(){var t=dh(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.options,n=r.widgetName,i=r.oldTreeControlAttrFetcher,o=r.allowBlank,a=e.type||Af,(c=this.cancelTokenSourceDict.get(a))&&(c.cancel(),this.cancelTokenSourceDict.delete(a)),t.abrupt("return",zf(i,hh(hh({},e),{},{widgetName:n},this.getTreeOptions(a))).then((function(t){t.items=rh(t.items,e);var r=BI.get(e,"node.id",Nf);return s.singleTreeUnexpectedNodes.forEach((function(e){r===e.pId&&t.items.push(e)})),s.isTreeWidget()||BI.get(e,"node")||BI.get(e,"keyword")||!o||t.items.unshift(s.singleTreeNotSelectedNode),s.updateCacheByItems(t.items),s.cancelTokenSourceDict.delete(a),t})));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.getTreeOptions=function(t){var e,r=0<arguments.length&&void 0!==t?t:Af,n=this.options,i=n.getWidgetDependenceValueByWidget,o=n.getDependenceByWidget,a=n.extraOptsGetter,c=i(this),s=BI.isNotEmptyArray(o(this));return this.cancelTokenSourceDict.set(r,xt.a.CancelToken.source()),hh(hh({dependence:c,reload:s},a()),{},{cancelToken:null===(e=this.cancelTokenSourceDict.get(r))||void 0===e?void 0:e.token})},r.preGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.value,n=t.errorMsg;return e||!BI.isEmpty(r)?{result:!0}:{result:!1,errorMsg:n}},r.transformSyncSingleTreeItem=function(t){if(!this.isAsyncTree()&&!this.options.mutiSelection&&this.options.async){var e=function(t){return t?th(t).reduce((function(t,e){return t.push(0===t.length?e:"".concat(BI.last(t)).concat(Vf).concat(e)),t}),[]):[]}(this.value);t.forEach((function(t){e.includes(t.value)&&(t.open=!0)}))}return t},r.postGetValidation=function(t){var e=0<arguments.length&&void 0!==t?t:this.tree.getValue(),r=this.options,n=r.allowBlank,i=r.errorMsg,o=r.customData,a=r.needCheckCustomData;return this.isEmptyValue(e)?n?{result:!0}:{result:!1,errorMsg:i}:!o&&a?this.validateCustomData(e):{result:!0}},r.postValidateAndToast=function(){var t=this.getValidation();return!!t.result||(this.showBubble(t.errorMsg),!1)},r.validateCustomData=function(t){var e=this,r=this.options,n=r.mutiSelection,i=r.selectLeafOnly,o=[];return n?(i?Jf(t,!0):t).forEach((function(t){t.forEach((function(t){o.push(t)}))})):o.push(BI.isString(t)?t:BI.first(t)),o.every((function(t){return t in e.textValueMap}))?{result:!0}:{result:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Not_In_List")}},r.isEmptyValue=function(t){return!!BI.isEmpty(t)||!!(BI.isEqual(t,[this.singleTreeNotSelectedValue])||BI.isEqual(t,[void 0])||BI.isEqual(t,[null])||BI.isEqual(t,[""]))},r.isAsyncTree=function(){var t=this.options,e=t.async;return!t.isLayerBuild&&e},r.reset=function(){var t=this.options,e=t.mutiSelection,r=t.selectLeafOnly;this.completeMultiTreeValue=void 0,e?r?this.setTreeValue({}):this.setTreeValue([]):this.setTreeValue([""])},r.setShowMask=function(t){var e=this;t?(this.mask||BI.createWidget({type:BI.AbsoluteLayout.xtype,element:"body",items:[{el:{type:Ce.xtype,cls:"transparent mask",ref:function(t){e.mask=t},listeners:[{eventName:BI.Events.MOUNT,action:function(){e.mask.element.mousedown((function(t){t.stopEvent()}))}}]},top:0,left:0,right:0,bottom:0}]}),this.mask.visible()):this.mask&&this.mask.invisible()},r.transformSingleTreeValue2Node=function(t,e){var r=1<arguments.length&&void 0!==e&&e,n=this.nodes.find((function(e){return e.value===t}));if(n)return n;var i=oh(t),o=function(t){return t.split(Vf).slice(0,-1).join(Vf)}(t),a=BI.isEmptyString(o)?Nf:this.transformSingleTreeValue2Node(o,!0).id,c={checked:!1,half:!1,halfCheck:!1,id:BI.UUID(),isParent:r,open:!1,pId:a,text:i,times:0,title:i,value:t,originValue:t};return this.nodes.push(c),this.singleTreeUnexpectedNodes.push(c),c},r.resize=function(t,e){var r=this.tree.getValue(),n=this.isEnabled();this.preResize(t,e)&&(this.tree.setValue(r),this.value=r,this.setEnable(n))},e}(Eo);function Oh(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function xh(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Oh(o,n,i,a,c,"next",t)}function c(t){Oh(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Eh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jh(t,e){return(jh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Sh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(104);var Ch,Ph,Ih=E()((Sh(mh=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Sh(Eh(r=t.call.apply(t,[this].concat(i))||this),"tree",void 0),Sh(Eh(r),"nodes",[]),Sh(Eh(r),"textValueMap",{}),Sh(Eh(r),"completeMultiTreeValue",void 0),Sh(Eh(r),"defaultTreeValue",void 0),Sh(Eh(r),"props",{baseCls:e.BASE_CLS,$testId:e.BASE_CLS,width:80,height:21,value:void 0,widgetName:"",disabled:!1,invisible:!1,needSubmit:!0,fontSize:12,controlAttr:{data:[{ChildNodes:[],isexpand:!1,hasChildren:!1,id:1,text:"",showcheck:!1,complete:!0,value:"",checkstate:0}],value:""},async:!0,mutiSelection:!0,returnFullPath:!1,selectLeafOnly:!1,delimiter:";",allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),isLayerBuild:!1,getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},add2WaitingQueue:function(){return""},removeFromWaitingQueue:function(){},extraOptsGetter:function(){return{}},oldTreeControlAttrFetcher:ia,newTreeControlAttrFetcher:aa,newTreeStructureFetcher:oa,allowBg:!0,needCheckCustomData:!0}),r}!function(t,e){t.prototype=Object.create(e.prototype),jh(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.isTreeWidget=function(){return!0},r.render=function(){var t=this,r=this.options,n=r.width,i=r.height,o=r.mutiSelection,a=r.selectLeafOnly,c=r.controlAttr,s=r.value,u=r.fontSize,l=r.disabled,f=r.add2WaitingQueue,h=r.removeFromWaitingQueue,p=r.allowBg;return this.updateCacheByControlAttrData(c.data),this.defaultTreeValue=eh(s,o,a,{textValueMap:this.textValueMap,nodes:this.nodes}),this.value=this.defaultTreeValue,!o&&this.defaultTreeValue&&this.transformSingleTreeValue2Node(this.defaultTreeValue),{type:BI.VerticalLayout.xtype,cls:p?"bi-card":"",items:[{type:function(t,e,r){return t?e?r?BI.AsyncTree.xtype:yf.xtype:r?BI.ListAsyncTree.xtype:mf.xtype:e?BI.MultiLayerSingleTreePopup.xtype:BI.MultiLayerSelectTreePopup.xtype}(o,a,this.isAsyncTree()),cls:"".concat(sf(e.BASE_CLS,u)),ref:function(e){t.tree=e},width:n,height:i,itemsCreator:function(e,r){t.silence||t.fireEvent("nodeadd"),function(){var n=xh(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.isAsyncTree()){n.next=6;break}return n.next=3,t.syncTreeItemCreator();case 3:n.t0=n.sent,n.next=16;break;case 6:if(o)return n.next=9,t.multiAsyncTreeItemCreator(e);n.next=12;break;case 9:n.t1=n.sent,n.next=15;break;case 12:return n.next=14,t.singleAsyncTreeItemCreator(e);case 14:n.t1=n.sent;case 15:n.t0=n.t1;case 16:"items"in(i=n.t0)&&t.transformSyncSingleTreeItem(i.items),r(i),l&&t.setEnable(!l);case 20:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()},value:this.defaultTreeValue,listeners:[{eventName:"EVENT_CHANGE",action:function(){t.hideBubble();var e=f();t.rebuildMultiTree(void 0,!0).then((function(){h(e),t.silence||t.fireEvent("click")}))}}],minHeight:i}]}},r.setValue=function(){var t=xh(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.updateCacheByControlAttrData(r),this.setControllerValue(e,r||[]),this.fireEvent("EVENT_SET_VALUE");case 3:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.setControllerValue=function(){var e=xh(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.prototype.setControllerValue.call(this,r,n);case 2:this.tree.populate();case 3:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}(),r.setTreeValue=function(t){this.tree.setSelectedValue?this.tree.setSelectedValue(t):this.tree.setValue(t)},r.mounted=function(){var e=xh(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.mounted.call(this),this.options.mutiSelection&&this.tree.populate(),e.next=4,this.rebuildMultiTree(this.defaultTreeValue,!1);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.enableAutoExpand=function(){var t,e;null===(t=(e=this.tree).enableAutoExpand)||void 0===t||t.call(e,!0)},r.reset=function(){t.prototype.reset.call(this),this.tree.populate()},r.reloadControlAttr=function(){this.reset()},r.getSelectedValue=function(){return this.tree.getSelectedValue?this.tree.getSelectedValue():this.tree.getValue()},r.setStyle=function(t){this.tree.element.addClass(function(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="".concat(ef,"-").concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},of(e,"".concat(u),{opacity:r,background:n,color:o}),of(e,"".concat(u," .bi-border"),{border:a,"boder-radius":c}),e)}).attach(),s}(t))},r.getText=function(){return""},e}(wh),"xtype","report.main.parameter_container.controller.tree"),Sh(mh,"BASE_CLS",ef),bh=mh))||bh;function Bh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Th(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function _h(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Th(o,n,i,a,c,"next",t)}function c(t){Th(o,n,i,a,c,"throw",t)}a(void 0)}))}}function kh(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Nh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?kh(Object(r),!0).forEach((function(e){Dh(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kh(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ah(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vh(t,e){return(Vh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Dh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Rh,Lh,Mh=E()((Dh(Ph=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Dh(Ah(r=t.call.apply(t,[this].concat(i))||this),"tree",void 0),Dh(Ah(r),"nodes",[]),Dh(Ah(r),"textValueMap",{}),Dh(Ah(r),"defaultTreeValue",void 0),Dh(Ah(r),"isTreeShowValueComplete",!0),Dh(Ah(r),"props",{baseCls:"".concat(e.BASE_CLS),$testId:"report-main-parameter-container-controller-tree-combo-box",width:80,height:21,value:"",delimiter:";",disabled:!1,invisible:!1,needSubmit:!0,fontSize:12,async:!1,mutiSelection:!1,returnFullPath:!1,selectLeafOnly:!1,widgetName:"",watermark:"",allowBlank:!0,customData:!1,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),directEdit:!1,noRepeat:!1,autoMode:!1,mode:"remote",searchTime:200,isNeedAdjustWidth:!0,controlAttr:{data:[{ChildNodes:[],isexpand:!1,hasChildren:!1,id:1,text:"",showcheck:!1,complete:!0,value:"",checkstate:0}],value:""},isLayerBuild:!1,getDependenceByWidget:function(){return[]},getWidgetDependenceValueByWidget:function(){return{}},add2WaitingQueue:function(){return""},removeFromWaitingQueue:function(){},extraOptsGetter:function(){return{}},oldTreeControlAttrFetcher:ia,newTreeControlAttrFetcher:aa,newTreeStructureFetcher:oa,allowBg:!0,needCheckCustomData:!0,returnArray:!0,startSymbol:"",endSymbol:""}),Dh(Ah(r),"completeMultiTreeValue",void 0),r}!function(t,e){t.prototype=Object.create(e.prototype),Vh(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.isTreeWidget=function(){return!1},r.render=function(){var t=this,r=this.options,n=r.width,i=r.height,o=r.fontSize,a=r.mutiSelection,c=r.selectLeafOnly,s=r.watermark,u=r.controlAttr,l=r.value,f=r.customData,h=r.directEdit,p=r.isNeedAdjustWidth,d=r.removeFromWaitingQueue,y=r.add2WaitingQueue,v=r.allowBg;return this.updateCacheByControlAttrData(u.data),BI.isNull(this.tree)&&this.transformInteractValue2Node(l),{type:BI.VerticalLayout.xtype,cls:v?"bi-card":"",items:[Nh(Nh({type:function(t,e,r,n){return t?r?e?n?BI.MultiTreeInsertCombo.xtype:BI.MultiTreeCombo.xtype:BI.MultiTreeListCombo.xtype:e?n?BI.TreeValueChooserInsertCombo.xtype:BI.TreeValueChooserCombo.xtype:BI.ListTreeValueChooserInsertCombo.xtype:e?BI.MultiLayerSingleTreeCombo.xtype:BI.MultiLayerSelectTreeCombo.xtype}(a,c,this.isAsyncTree(),f)},this.options.watermark?{}:{text:""}),{},{defaultText:this.options.watermark,watermark:s,allowSearchValue:h,cls:"".concat(co(e.BASE_CLS,{fontSize:o,width:n,height:i})),isNeedAdjustWidth:p,width:n,height:i,allowEdit:h,allowInsertValue:f,ref:function(e){t.tree=e},valueFormatter:function(e){if(e===t.singleTreeNotSelectedValue)return"";var r=t.nodes.find((function(t){return t.value===e}));return r||(t.isTreeShowValueComplete=!1),(null==r?void 0:r.text)||oh(e,t.nodes)||""},warningTitle:"",belowMouse:!0,itemsCreator:this.isAsyncTree()?function(){var e=_h(regeneratorRuntime.mark((function e(r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.silence||t.fireEvent("nodeadd"),a)return e.next=4,t.multiAsyncTreeItemCreator(r);e.next=7;break;case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,t.singleAsyncTreeItemCreator(r);case 9:e.t0=e.sent;case 10:i=e.t0,t.transformSyncSingleTreeItem(i.items),n(i);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}():void 0,value:this.defaultTreeValue,listeners:[{eventName:"EVENT_CLICK_ITEM",action:function(e){t.hideBubble();var r=y();t.rebuildMultiTree(e,!1).then((function(){d(r),t.silence||t.fireEvent("click"),t.silence||t.fireEvent("afteredit")}))}},{eventName:"EVENT_CONFIRM",action:function(){var e=y();t.rebuildMultiTree(void 0,!0).then((function(){d(e),t.silence||t.fireEvent("stopedit")}))}},{eventName:"EVENT_CHANGE",action:function(){var e=y();t.rebuildMultiTree(void 0,!0).then((function(){a||(t.silence||t.fireEvent("click"),t.silence||t.fireEvent("afteredit")),d(e),t.silence||t.fireEvent("stopedit")}))}},{eventName:"EVENT_FOCUS",action:function(){t.silence||t.fireEvent("beforeedit")}},{eventName:"EVENT_BEFORE_POPUPVIEW",action:function(){t.hideBubble()}},{eventName:"EVENT_SEARCHING",action:function(){t.silence||t.fireEvent("afteredit")}}]})]}},r.mounted=function(){var e=_h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.prototype.mounted.call(this),e.next=3,this.rebuildMultiTree(this.defaultTreeValue,!1);case 3:if(!this.isTreeShowValueComplete&&this.isAsyncTree())return e.next=6,this.updateCacheByValue(this.defaultTreeValue);e.next=8;break;case 6:this.setTreeValue(this.defaultTreeValue),this.isTreeShowValueComplete=!0;case 8:return e.next=10,this.loadSyncTree();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.emitManualStopEditEvent=function(){this.fireEvent("stopedit")},r.updateDefaultValue=function(t){this.defaultTreeValue=eh(t,this.options.mutiSelection,this.options.selectLeafOnly,{textValueMap:this.textValueMap,nodes:this.nodes}),this.value=this.defaultTreeValue},r.addDefaultValue2SingleTreeNode=function(t){!this.options.mutiSelection&&t&&this.transformSingleTreeValue2Node(t)},r.transformInteractValue2Node=function(t){this.updateDefaultValue(t),this.addDefaultValue2SingleTreeNode(this.defaultTreeValue)},r.setInteractValue=function(){var e=_h(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.updateDefaultValue(r.value),e.next=3,t.prototype.setInteractValue.call(this,r);case 3:this.addDefaultValue2SingleTreeNode(this.defaultTreeValue),this.reloadTree();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.reloadControlAttr=function(){this.reset(),this.reloadTree()},r.reloadTree=function(){this.loadSyncTree(),this.loadAsyncSingleTree()},r.setControllerValue=function(){var e=_h(regeneratorRuntime.mark((function e(r){var n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=1<i.length&&void 0!==i[1]?i[1]:[],e.next=3,t.prototype.setControllerValue.call(this,r,n);case 3:this.reloadTree();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),r.loadAsyncSingleTree=function(){this.isAsyncTree()&&!this.options.mutiSelection&&this.tree.populate()},r.loadSyncTree=function(){var t=_h(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=!this.isAsyncTree(),t.t0)return t.next=4,this.syncTreeItemCreator().then((function(t){e.silence||e.fireEvent("nodeadd"),e.transformSyncSingleTreeItem(t.items),e.tree.populate(t.items),e.tree.setValue(e.value||e.defaultTreeValue)}));t.next=4;break;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.getAdapter=function(){return this.tree.getSearcher()},r.setStyle=function(t){this.tree.element.addClass(function(t){var e,r=t.opacity,n=t.background,o=t.color,a=t.border,c=t["border-radius"];i.a.use(d(),b());var s="".concat(Mh.BASE_CLS,"-").concat(BI.UUID()),u=".".concat(s);return i.a.createStyleSheet({"@global":(e={},Bh(e,"".concat(u),{opacity:r,background:n}),Bh(e,"".concat(u," .bi-card"),{background:n,color:o}),Bh(e,"".concat(u," .bi-text"),{color:o}),Bh(e,"".concat(u," .bi-trigger"),{color:o}),Bh(e,"".concat(u," .bi-icon-button"),{color:o}),Bh(e,"".concat(u," .bi-border"),{border:a,"boder-radius":c}),e)}).attach(),s}(t))},r.setPopupStyle=function(){},r.getText=function(){var t,e;return null===(t=this.getAdapter())||void 0===t||null===(e=t.editor)||void 0===e?void 0:e.getText()},r.setWaterMark=function(t){this.options.watermark=t,this.tree.setWaterMark(t),this.tree.setValue(this.tree.getValue())},r.focus=function(){this.tree.focus()},r.blur=function(){this.tree.blur()},e}(wh),"xtype","report.main.parameter_container.controller.editor.tree_combo_box"),Dh(Ph,"BASE_CLS","report-main-parameter-container-controller-tree-combo-box"),Ch=Ph))||Ch;function zh(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Vt.setHandler(ts.HAVE_RING,ss),Vt.setHandler(ts.SAME_ORIGIN_ITEM,ss);var Hh=function(){function t(){zh(this,"controllerDict",new Map([["button",ko.xtype],["freebutton",ko.xtype],["formsubmit",ko.xtype],["checkbox",Xo.xtype],["checkboxgroup",ba.xtype],["combo",uc.xtype],["datetime",Kc.xtype],["label",Ss.xtype],["number",ru.xtype],["password",yu.xtype],["radiogroup",Nu.xtype],["tagcombocheckbox",zl.xtype],["combocheckbox",zl.xtype],["text",ql.xtype],["textarea",tf.xtype],["tree",Ih.xtype],["treecombobox",Mh.xtype],["multifile",Ks.xtype],["pagefixedrowcombobox",su.xtype]]))}var e=t.prototype;return e.get=function(t){return this.controllerDict.get(t)||rs.xtype},e.set=function(t,e){this.controllerDict.set(t,e)},e.getImpl=function(){return rs},t}(),Wh=P()((zh(Lh=function(){function t(){}return t.prototype.$get=function(){return Hh},t}(),"xtype","report.controller.provider"),Rh=Lh))||Rh,Fh=BI.Providers.getProvider(Wh.xtype);function Gh(t,e){return(Gh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Uh,Yh,Xh=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Gh(t.prototype.constructor=t,e)}(e,t),e.prototype.getDependenceValue=function(){return this.getValue()},e}(Eo),qh=["xlisteners","baseCls"];function Kh(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function $h(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Jh(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$h(Object(r),!0).forEach((function(e){tp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Qh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zh(t,e){return(Zh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function tp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ep,rp,np=E()((tp(Yh=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return tp(Qh(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,xlisteners:[],baseCls:"",text:"",key:"",xtype:"",value:""}),tp(Qh(e),"button",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Zh(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=(e.baseCls,function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,qh));return Jh(Jh({},n),{},{type:ko.xtype,ref:function(e){t.button=e},text:n.text||n.value,value:n.value||n.text,listeners:r,xtype:"formsubmit"===n.key?"formsubmit":n.xtype})},r.getValue=function(){return this.button.getValue()},r.postGetValidation=function(){return this.button.postGetValidation()},r.preGetValidation=function(){return this.button.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Kh(o,n,i,a,c,"next",t)}function c(t){Kh(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.button.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.button.reset()},r.postValidateAndToast=function(){return this.button.postValidateAndToast()},r.setInteractValue=function(t){this.button.setInteractValue(t)},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.button"),Uh=Yh))||Uh,ip=["xlisteners","position","reportIndex","baseCls"];function op(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function ap(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function cp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ap(Object(r),!0).forEach((function(e){lp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ap(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function sp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function up(t,e){return(up=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function lp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var fp=E()((lp(rp=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return lp(sp(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),lp(sp(e),"checkbox",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),up(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners;return e.position,e.reportIndex,e.baseCls,cp(cp({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,ip)),{},{type:Xo.xtype,ref:function(e){t.checkbox=e},listeners:r})},r.postValidateAndToast=function(){return this.checkbox.postValidateAndToast()},r.preGetValidation=function(){return this.checkbox.preGetValidation()},r.postGetValidation=function(){return this.checkbox.postGetValidation()},r.getValue=function(){return this.checkbox.getValue()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){op(o,n,i,a,c,"next",t)}function c(t){op(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkbox.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.checkbox.setInteractValue(t)},r.reset=function(){this.checkbox.reset()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.checkbox"),ep=rp))||ep;function hp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function pp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?hp(Object(r),!0).forEach((function(e){dp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function dp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yp(t,e){return $t("cell/widget/data",{data:pp(pp({},1<arguments.length&&void 0!==e?e:{}),{},{widgetname:t})})}function vp(t){return yp(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function gp(t){return Kt("cell/widget/view/value",{params:t})}function bp(t){return yp(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function mp(t){return yp(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function wp(t){return yp(t,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}function Op(t){return yp(t,pp(pp({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),{},{fine_outlet_widget:"nx",completion:!0}))}function xp(t){return yp(t,pp(pp({},1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),{},{fine_outlet_widget:"nx"}))}var Ep,jp,Sp=["xlisteners","position","reportIndex","baseCls"];function Cp(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Pp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ip(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pp(Object(r),!0).forEach((function(e){_p(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tp(t,e){return(Tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function _p(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var kp,Np,Ap=E()((_p(jp=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return _p(Bp(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),_p(Bp(e),"group",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Tp(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,Ip(Ip({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Sp)),{},{type:ba.xtype,ref:function(e){t.group=e},listeners:r,controlAttrFetcher:mp,extraOptsGetter:function(){return{location:Ip(Ip({},n),{},{reportIndex:i})}},beforeRender:function(t){this.updateControlAttr().then((function(){return t()}))}})},r.mounted=function(){},r.getValue=function(){return this.group.getValue()},r.postGetValidation=function(){return this.group.postGetValidation()},r.preGetValidation=function(){return this.group.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Cp(o,n,i,a,c,"next",t)}function c(t){Cp(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.group.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.group.reset()},r.postValidateAndToast=function(){return this.group.postValidateAndToast()},r.setInteractValue=function(t){this.group.setInteractValue(t)},r.reloadControlAttr=function(){this.group.reloadControlAttr()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.checkbox_group"),Ep=jp))||Ep,Vp=["xlisteners","position","reportIndex","baseCls"];function Dp(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Rp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Lp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rp(Object(r),!0).forEach((function(e){Hp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Mp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zp(t,e){return(zp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Hp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wp,Fp,Gp=E()((Hp(Np=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Hp(Mp(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),Hp(Mp(e),"combo",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),zp(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,Lp(Lp({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Vp)),{},{allowCount:!0,type:uc.xtype,ref:function(e){t.combo=e},listeners:r,needCheckCustomData:!1,controlAttrFetcher:vp,extraOptsGetter:function(){return{location:Lp(Lp({},n),{},{reportIndex:i})}},viewValueFetcher:gp,beforeRender:function(t){this.updateControllAttrByValue(this.options.value).then((function(){return t()}))}})},r.mounted=function(){},r.getValue=function(){return this.combo.getValue()},r.postGetValidation=function(){return this.combo.postGetValidation()},r.preGetValidation=function(){return this.combo.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Dp(o,n,i,a,c,"next",t)}function c(t){Dp(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.combo.setControllerValue(e,r);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.reset=function(){this.combo.reset()},r.postValidateAndToast=function(){return this.combo.postValidateAndToast()},r.setInteractValue=function(t){this.combo.setInteractValue(t)},r.reloadControlAttr=function(){this.combo.reloadControlAttr()},r.getAdapter=function(){return this.combo.getAdapter()},r.setStyle=function(){},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},e}(Xh),"xtype","report.main.table_cell.controller.combo"),kp=Np))||kp,Up=["xlisteners","position","reportIndex","baseCls"];function Yp(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Xp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xp(Object(r),!0).forEach((function(e){Jp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Kp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $p(t,e){return($p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Jp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qp,Zp,td=E()((Jp(Fp=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Jp(Kp(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),Jp(Kp(e),"combo",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),$p(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,qp(qp({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Up)),{},{container:"body",type:Kc.xtype,ref:function(e){t.combo=e},listeners:r,controlAttrFetcher:bp,extraOptsGetter:function(){return{location:qp(qp({},n),{},{reportIndex:i})}}})},r.getValue=function(){return this.combo.getValue()},r.postGetValidation=function(){return this.combo.postGetValidation()},r.preGetValidation=function(){return this.combo.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Yp(o,n,i,a,c,"next",t)}function c(t){Yp(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.combo.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.combo.reset()},r.postValidateAndToast=function(){return this.combo.postValidateAndToast()},r.setInteractValue=function(t){this.combo.setInteractValue(t)},r.reloadControlAttr=function(){this.combo.setInteractValue("".concat(this.combo.getValue()))},r.setStyle=function(){},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},e}(Xh),"xtype","report.main.table_cell.controller.datetime"),Wp=Fp))||Wp;function ed(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function rd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function nd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?rd(Object(r),!0).forEach((function(e){ad(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function id(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function od(t,e){return(od=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ad(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cd,sd,ud=E()((ad(Zp=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ad(id(e=t.call.apply(t,[this].concat(n))||this),"props",{src:"",width:80,height:21,fontSize:12,value:"",showOverFlowX:!1,showOverFlowY:!1,widgetName:"",cellWidgetName:"",reportIndex:0,position:{row:0,column:0}}),ad(id(e),"iframe",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),od(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.src,n=e.width,i=e.height,o=e.showOverFlowX,a=e.showOverFlowY,c=e.cellWidgetName,s=o||a?"yes":"no";return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Iframe.xtype,ref:function(e){t.iframe=e},src:r,width:n,height:i,name:c,attributes:{scrolling:s}},top:0,left:0,right:0,bottom:0}]}},r.beforeInit=function(){return this.getIframeControlAttr()},r.getIframeControlAttr=function(){var t=this;return function(t,e){return yp(t,1<arguments.length&&void 0!==e?e:{})}(this.options.widgetName,this.getRequestOpts()).then((function(e){var r={};e.forEach((function(t){r=nd(nd({},r),t)})),t.options.src=Gt(t.options.src,r)}))},r.getRequestOpts=function(){var t=this.options,e=t.position,r=t.reportIndex;return{location:nd(nd({},e),{},{reportIndex:r})}},r.getValue=function(){return this.iframe.getSrc()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ed(o,n,i,a,c,"next",t)}function c(t){ed(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.iframe.setSrc(e);case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.setInteractValue=function(t){this.iframe.setSrc(t)},r.reset=function(){this.iframe.reset()},r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){return{result:!0}},r.postValidateAndToast=function(){return!0},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.iframe"),Qp=Zp))||Qp;function ld(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function fd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function hd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?fd(Object(r),!0).forEach((function(e){yd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function pd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dd(t,e){return(dd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function yd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var vd,gd,bd=E()((yd(sd=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return yd(pd(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,value:"",needSubmit:!1,disabled:!1,invisible:!1,allowBlank:!0,errorMsg:BI.i18nText("Fine-Report_Preview_Can_Not_Null"),controlAttr:{data:[],value:""},needHead:!1,widgetName:"",reportIndex:0,position:{row:0,column:0}}),yd(pd(e),"pane",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),dd(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options.needHead;return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.VerticalLayout.xtype,items:[{type:BI.CenterAdaptLayout.xtype,cls:"bi-background",items:[{type:BI.ButtonGroup.xtype,layouts:[{type:BI.VerticalAdaptLayout.xtype,hgap:2}],items:[{type:BI.IconButton.xtype,cls:"list-add-font report-list-item-active icon-size-16",handler:function(){var e=window.prompt(BI.i18nText("Fine-Report_Input"));BI.isNull(e)||BI.isEmptyString(e)?BI.Msg.toast(BI.i18nText("Fine-Report_Name_Empty")):t.addItemByValue(e)}},{type:BI.IconButton.xtype,cls:"list-delete-font report-list-item-active icon-size-16",handler:function(){t.removeSelectedItem()}},{type:BI.IconButton.xtype,cls:"list-rename-font report-list-item-active icon-size-16",handler:function(){var e=t.getSelectedIndex();if(-1!==e){var r=t.pane.getAllButtons()[e],n=r.attr("text"),i=window.prompt("Rename:",n);BI.isNull(i)||BI.isEmptyString(i)?t.removeSelectedItem():(r.setText(i),t.options.controlAttr.data[e].text=i)}else BI.Msg.toast(BI.i18nText("Fine-Report_Item_Not_Selected"))}}],invisible:!e,height:20}]},{type:BI.ListPane.xtype,ref:function(e){t.pane=e},items:this.getGroupItems(),el:{type:BI.ButtonGroup.xtype,chooseType:BI.Selection.None,layouts:[{type:BI.VerticalLayout.xtype}]}}]},top:0,left:0,right:0,bottom:0}],invisible:!this.postGetValidation().result}},r.removeSelectedItem=function(){var t=this.getSelectedIndex();-1!==t?(this.pane.removeItemAt(t),this.options.controlAttr.data.splice(t,1)):BI.Msg.toast(BI.i18nText("Fine-Report_Item_Not_Selected"))},r.getSelectedIndex=function(){return this.pane.getAllButtons().findIndex((function(t){return t.isSelected()}))},r.addItemByValue=function(t){this.pane.addItems(this.createItems([{text:t,value:t}])),this.options.controlAttr.data.push({text:t,value:t})},r.beforeInit=function(t){this.getGroupControlAttr().then((function(){return t()}))},r.getGroupItems=function(){return this.createItems(this.options.controlAttr.data)},r.getGroupControlAttr=function(){var t=this;return mp(this.options.widgetName,this.getRequestOpts()).then((function(e){t.options.controlAttr={data:e,value:t.options.value}}))},r.getRequestOpts=function(){var t=this.options,e=t.position,r=t.reportIndex;return{location:hd(hd({},e),{},{reportIndex:r})}},r.getValue=function(){var t;return(null===(t=this.pane.getAllButtons().find((function(t){return t.isSelected()})))||void 0===t?void 0:t.getValue())||""},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ld(o,n,i,a,c,"next",t)}function c(t){ld(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){var e,r,n=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="".concat(0<n.length&&void 0!==n[0]?n[0]:""),(r=this.pane.getAllButtons()).forEach((function(t){t.setSelected(!1)})),!r.some((function(t){return"".concat(t.getValue())==="".concat(e)&&(t.setSelected(!0),!0)}))&&!r.some((function(t){return"".concat(t.attr("text"))==="".concat(e)&&(t.setSelected(!0),!0)}))&&e&&this.addItemByValue(e);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.setInteractValue=function(){},r.reset=function(){this.pane.getAllButtons().forEach((function(t){t.setSelected(!1)}))},r.reloadControlAttr=function(){var t=this;this.getGroupControlAttr().then((function(){t.pane.populate(t.getGroupItems())}))},r.preGetValidation=function(){return{result:!0}},r.postGetValidation=function(){var t=this.options.errorMsg,e="".concat(this.getGroupItems())||"";return BI.isNull(e)||BI.isEmptyString(e)?{result:!1,errorMsg:t}:{result:!0}},r.postValidateAndToast=function(){return!0},r.createItems=function(t){var e=this;return t.map((function(t){var r;return hd(hd({},t),{},{type:BI.SingleSelectItem.xtype,ref:function(t){r=t},cls:"bi-list-item-active2",height:12,listeners:[{eventName:BI.SingleSelectItem.EVENT_CHANGE,action:function(){e.pane.getAllButtons().forEach((function(t){t.setSelected(!1)})),r.setSelected(!0)}}]})}))},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.list"),cd=sd))||cd,md=["xlisteners","baseCls"];function wd(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Od(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Od(Object(r),!0).forEach((function(e){Sd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Od(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ed(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jd(t,e){return(jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Sd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cd,Pd,Id=E()((Sd(gd=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Sd(Ed(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,xlisteners:[],baseCls:"",allowBlank:!0,errorMsg:""}),Sd(Ed(e),"editor",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),jd(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners;return e.baseCls,xd(xd({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,md)),{},{type:Ks.xtype,ref:function(e){t.editor=e},listeners:r,url:"write/attachment/upload",cls:"bi-card"})},r.getValue=function(){var t=this.editor.getUploadFiles().map((function(t){return xd(xd({},t),{},{attach_url:ca(t.attach_id)})}));return 1===BI.size(t)?BI.first(t):t},r.postGetValidation=function(){var t=this.options,e=t.allowBlank,r=t.errorMsg;return e||0<BI.size(this.editor.getUploadFiles())?{result:!0}:{result:!1,errorMsg:r||BI.i18nText("Fine-Report_Preview_Can_Not_Null")}},r.preGetValidation=function(){return this.editor.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){wd(o,n,i,a,c,"next",t)}function c(t){wd(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.editor.setControllerValue();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.reset=function(){this.editor.reset()},r.postValidateAndToast=function(){return this.editor.postValidateAndToast()},r.setInteractValue=function(){this.editor.setInteractValue()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.multifile"),vd=gd))||vd,Bd=["xlisteners","baseCls"];function Td(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function _d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function kd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?_d(Object(r),!0).forEach((function(e){Vd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Nd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ad(t,e){return(Ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Vd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Dd,Rd,Ld=E()((Vd(Pd=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Vd(Nd(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,xlisteners:[],baseCls:""}),Vd(Nd(e),"editor",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ad(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners;return e.baseCls,kd(kd({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Bd)),{},{type:ru.xtype,ref:function(e){t.editor=e},listeners:r})},r.getValue=function(){return parseFloat(this.editor.getValue())},r.postGetValidation=function(){return this.editor.postGetValidation()},r.preGetValidation=function(){return this.editor.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Td(o,n,i,a,c,"next",t)}function c(t){Td(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.editor.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.editor.reset()},r.postValidateAndToast=function(){return this.editor.postValidateAndToast()},r.setInteractValue=function(t){this.editor.setInteractValue(t)},r.focus=function(){this.editor.focus()},r.blur=function(){this.editor.blur()},r.getAdapter=function(){return this.editor.getAdapter()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.number"),Cd=Pd))||Cd,Md=["xlisteners","position","reportIndex","baseCls"];function zd(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Hd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Wd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Hd(Object(r),!0).forEach((function(e){Ud(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gd(t,e){return(Gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ud(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yd,Xd,qd=E()((Ud(Rd=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ud(Fd(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),Ud(Fd(e),"group",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Gd(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,Wd(Wd({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Md)),{},{type:Nu.xtype,ref:function(e){t.group=e},listeners:r,controlAttrFetcher:mp,extraOptsGetter:function(){return{location:Wd(Wd({},n),{},{reportIndex:i})}},beforeRender:function(t){this.updateControlAttr().then((function(){return t()}))}})},r.mounted=function(){},r.getValue=function(){return this.group.getValue()},r.postGetValidation=function(){return this.group.postGetValidation()},r.preGetValidation=function(){return this.group.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){zd(o,n,i,a,c,"next",t)}function c(t){zd(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.group.setControllerValue(e);case 2:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.reset=function(){this.group.reset()},r.postValidateAndToast=function(){return this.group.postValidateAndToast()},r.setInteractValue=function(t){this.group.setInteractValue(t)},r.reloadControlAttr=function(){this.group.reloadControlAttr()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.radio_group"),Dd=Rd))||Dd,Kd=["xlisteners","position","reportIndex","baseCls"];function $d(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Jd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jd(Object(r),!0).forEach((function(e){ey(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ty(t,e){return(ty=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ey(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ry,ny,iy=E()((ey(Xd=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ey(Zd(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),ey(Zd(e),"combo",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),ty(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,Qd(Qd({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,Kd)),{},{type:zl.xtype,ref:function(e){t.combo=e},listeners:r,needCheckCustomData:!1,controlAttrFetcher:vp,extraOptsGetter:function(){return{location:Qd(Qd({},n),{},{reportIndex:i})}},viewValueFetcher:gp,beforeRender:function(t){this.updateControllAttrByValue(this.options.value).then((function(){return t()}))}})},r.mounted=function(){},r.getValue=function(){return this.combo.getValue()},r.postGetValidation=function(){return this.combo.postGetValidation()},r.preGetValidation=function(){return this.combo.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){$d(o,n,i,a,c,"next",t)}function c(t){$d(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.combo.setControllerValue(e,r);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.reset=function(){this.combo.reset()},r.postValidateAndToast=function(){return this.combo.postValidateAndToast()},r.setInteractValue=function(t){this.combo.setInteractValue(t)},r.reloadControlAttr=function(){this.combo.reloadControlAttr()},r.getAdapter=function(){return this.combo.getAdapter()},r.setStyle=function(){},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},e}(Xh),"xtype","report.main.table_cell.controller.tag_combo_checkbox"),Yd=Xd))||Yd,oy=["xlisteners","position","reportIndex","baseCls"];function ay(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function cy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cy(Object(r),!0).forEach((function(e){fy(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ly(t,e){return(ly=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function fy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var hy,py,dy=E()((fy(ny=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return fy(uy(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),fy(uy(e),"tree",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),ly(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,sy(sy({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,oy)),{},{fontSize:12,type:Ih.xtype,ref:function(e){t.tree=e},listeners:r,oldTreeControlAttrFetcher:wp,newTreeControlAttrFetcher:xp,newTreeStructureFetcher:Op,extraOptsGetter:function(){return{location:sy(sy({},n),{},{reportIndex:i})}},beforeRender:function(t){this.updateControllAttr().then((function(){return t()}))}})},r.mounted=function(){},r.getValue=function(){return this.tree.getValue()},r.postGetValidation=function(){return this.tree.postGetValidation()},r.preGetValidation=function(){return this.tree.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){ay(o,n,i,a,c,"next",t)}function c(t){ay(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tree.setControllerValue(e,r);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.reset=function(){this.tree.reset()},r.postValidateAndToast=function(){return this.tree.postValidateAndToast()},r.setInteractValue=function(t){this.tree.setInteractValue(t)},r.reloadControlAttr=function(){this.tree.reloadControlAttr()},r.setStyle=function(){},e}(Xh),"xtype","report.main.table_cell.controller.tree"),ry=ny))||ry,yy=["xlisteners","position","reportIndex","baseCls"];function vy(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function gy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function by(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gy(Object(r),!0).forEach((function(e){Oy(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function my(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wy(t,e){return(wy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Oy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xy,Ey,jy=E()((Oy(py=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Oy(my(e=t.call.apply(t,[this].concat(n))||this),"props",{width:80,height:21,fontSize:12,reportIndex:0,position:{row:0,column:0},xlisteners:[],baseCls:""}),Oy(my(e),"combo",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),wy(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options,r=e.xlisteners,n=e.position,i=e.reportIndex;return e.baseCls,by(by({},function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,yy)),{},{type:Mh.xtype,ref:function(e){t.combo=e},listeners:r,oldTreeControlAttrFetcher:wp,newTreeControlAttrFetcher:xp,newTreeStructureFetcher:Op,extraOptsGetter:function(){return{location:by(by({},n),{},{reportIndex:i})}},beforeRender:function(t){var e=this,r=BI.isArray(this.options.value)?[this.options.value]:"".concat(this.options.value);r?this.getInfoByValue(r).then((function(r){null!=r&&r.controlData&&(e.options.controlAttr.data=r.controlData),t()})):t()}})},r.mounted=function(){},r.getValue=function(){return this.combo.getValue()},r.postGetValidation=function(){return this.combo.postGetValidation()},r.preGetValidation=function(){return this.combo.preGetValidation()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){vy(o,n,i,a,c,"next",t)}function c(t){vy(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.combo.setControllerValue(e,r);case 2:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.reset=function(){this.combo.reset()},r.postValidateAndToast=function(){return this.combo.postValidateAndToast()},r.setInteractValue=function(t){this.combo.setInteractValue(t)},r.reloadControlAttr=function(){this.combo.reloadControlAttr()},r.getAdapter=function(){return this.combo.getAdapter()},r.setStyle=function(){},r.focus=function(){this.combo.focus()},r.blur=function(){this.combo.blur()},e}(Xh),"xtype","report.main.table_cell.controller.tree_combo_box"),hy=py))||hy;function Sy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cy=function(){function t(){Sy(this,"controllerDict",new Map([["combo",{type:Gp.xtype,slient:!0}],["tagcombocheckbox",{type:iy.xtype,slient:!0}],["combocheckbox",{type:iy.xtype,slient:!0}],["button",{type:np.xtype,direct:!0,slient:!0}],["freebutton",{type:np.xtype,direct:!0,slient:!0}],["formsubmit",{type:np.xtype,direct:!0,slient:!0}],["radiogroup",{type:qd.xtype,direct:!0,slient:!0}],["checkboxgroup",{type:Ap.xtype,direct:!0,slient:!0}],["checkbox",{type:fp.xtype,direct:!0,slient:!0}],["iframe",{type:ud.xtype,direct:!0}],["password",{type:yu.xtype,transformer:function(t){return t.replaceAll(/./g,(function(){return"*"}))}}],["datetime",{type:td.xtype,slient:!0}],["treecombobox",{type:jy.xtype,slient:!0}],["tree",{type:dy.xtype,direct:!0,slient:!0}],["list",{type:bd.xtype,direct:!0}],["number",{type:Ld.xtype,slient:!0}],["multifile",{type:Id.xtype,slient:!0}]])),Sy(this,"controllerEventChangeDict",new Map([["combo","stopedit"],["tagcombocheckbox","stopedit"],["combocheckbox","stopedit"],["radiogroup","statechange"],["checkboxgroup","statechange"],["checkbox","statechange"],["password","afteredit"],["datetime","stopedit"],["number","afteredit"],["text","afteredit"],["textarea","afteredit"]]))}var e=t.prototype;return e.getType=function(t){var e;return(null===(e=this.controllerDict.get(t))||void 0===e?void 0:e.type)||Fh.get(t)},e.isDirect=function(t){var e;return(null===(e=this.controllerDict.get(t))||void 0===e?void 0:e.direct)||!1},e.set=function(t,e,r){this.controllerDict.set(t,{type:e,direct:r})},e.getImpl=function(){return rs},e.getTextTransformer=function(t){var e;return t&&(null===(e=this.controllerDict.get(t))||void 0===e?void 0:e.transformer)||function(t){return t}},e.isSlient=function(t){var e;return!0===(null===(e=this.controllerDict.get(t))||void 0===e?void 0:e.slient)},e.getEventChangeName=function(t){return this.controllerEventChangeDict.get(t)},t}(),Py=P()((Sy(Ey=function(){function t(){}return t.prototype.$get=function(){return Cy},t}(),"xtype","report.cell.controller.provider"),xy=Ey))||xy,Iy=BI.Providers.getProvider(Py.xtype),By=["value","cellhyperlink","celladvancedattr","cellstyle","celladjustattr","valid","widget","sortHeader"];function Ty(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ty(Object(r),!0).forEach((function(e){ky(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ty(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ky(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ny(t){var e=t.width,r=t.style,n=t.color,i=r.toLocaleLowerCase(),o=e,a=[];switch(i){case"dashed":a=2===o?[8,2]:[4,2];break;case"slim_solid":i="solid",o=.5;break;case"hair":i="dashed",o=.5,a=[2,2];break;case"hair2":i="dashed",o=.5,a=[4,4];break;case"dash_dot":i="dashed",a=[8,2,2,2];break;case"dash_dot_dot":i="dashed",a=[8,2,2,2,2,2];break;case"slanted_dash_dot":i="dashed",a=[8,2,2,2]}return{color:B(n),style:i,width:o,dash:a}}function Ay(t,e){if(!t)return{};var r=e.textAlign,n=void 0===r?"left":r,i=e.cellJust,o=void 0===i?"NONE":i,a={},c=t.cellBackground,s=t.contentStyle,u=t.fontStyle,l=t.borderStyle;if(a.backgroundStyle=_y({},zi),c){var f=c.background,h=void 0===f?{}:f,p=h.color,d=h.imgUrl,y=h.layout,v=void 0===y?0:y,g=h.backgroundType,b=h.startColor,m=h.endColor,w=h.begin,O=void 0===w?0:w,x=h.finish,E=void 0===x?0:x,j=h.direction,S=h.radiusConfig,C=_y({},zi);switch(C.radiusConfig=S,g){case"TextureBackground":case"PatternBackground":case"ImageBackground":C.backgroundImage=d,C.backgroundImageLayout=zy(v);break;case"ColorBackground":C.backgroundColor=B(p);break;case"GradientBackground":C.linearGradient={degree:1===j?180:90,stops:[{per:O/150,color:B(b)},{per:0===E?1:E/150,color:B(m)}]}}a.backgroundStyle=C}if(l){var P=l.topBorder,I=void 0===P?Hi:P,T=l.leftBorder,_=void 0===T?Hi:T,k=l.rightBorder,N=void 0===k?Hi:k,A=l.bottomBorder,V=void 0===A?Hi:A;a.borderStyle={borderTop:Ny(I),borderBottom:Ny(V),borderLeft:Ny(_),borderRight:Ny(N)}}if(a.contentStyle={color:"",fontSize:"",defaultFontSize:"",fontWeight:"normal",fontStyle:"normal",fontFamily:"",textShadow:void 0,strikeThrough:"none",underline:Ny({width:0,color:0,style:""}),subscript:!1,supscript:!1,wrap:!0,rotate:0,newLine:"",verTextDirection:"",verticalText:"",textAlign:"center",verticalAlign:"middle",lineHeight:""},u){var D=u.subscript||u.supscript?5*u.fontSize/6:u.fontSize;a.contentStyle=_y(_y({},a.contentStyle),{},{color:B(u.color),fontSize:"".concat(D,"px"),defaultFontSize:"".concat(D,"px"),fontWeight:Uy(u.bold),fontStyle:Xy(u.italic),fontFamily:u.fontFamily.toLocaleLowerCase(),textShadow:function(t){return BI.isBoolean(t)?t?Wi:void 0:t}(u.textShadow),strikeThrough:u.strikeThrough?"solid":"none",underline:Ny({width:u.underLine.width,color:u.underLine.color,style:u.underLine.style}),subscript:u.subscript,supscript:u.supscript})}return s&&(a.contentStyle=_y(_y({},a.contentStyle),{},{textAlign:"default"===s.textAlign.toLocaleLowerCase()?n:s.textAlign.toLocaleLowerCase(),lineHeight:"".concat(s.lineHeight),defaultLineHeight:"".concat(s.lineHeight),wrap:"auto_newline"===s.newLine.toLocaleLowerCase(),rotate:s.rotate,newLine:s.newLine,verTextDirection:s.verTextDirection,verticalText:s.verticalText,cellJust:o,verticalAlign:u.subscript?"bottom":u.supscript?"top":s.verticalAlign.toLowerCase(),subscript:!1,supscript:!1}),a.paddingLeft=s.paddingLeft,a.paddingRight=s.paddingRight,a.spacingAfter=s.spacingAfter,a.spacingBefore=s.spacingBefore),a}function Vy(t,e,r,n,i,o){return{celldimension:{width:r,height:n},position:{columnSpan:o,rowSpan:i,x:t,y:e},value:'{"type": "text", "value": ""}',valid:!1,cell:"",direction:0,id:-1}}function Dy(t,e){var r=e?"&cache=true":"";return"".concat(ht.ReqPrefix,"/attach/image?id=").concat(t).concat(r)}function Ry(t){try{return JSON.parse(t)}catch(t){return}}function Ly(t){if(null!=t&&t.value){var e,r,n,i=Ry(t.value);return null!==(e=null!==(r=null!==(n=null==i?void 0:i.cv)&&void 0!==n?n:null==i?void 0:i.value)&&void 0!==r?r:null==i?void 0:i.text)&&void 0!==e?e:t.value}}function My(t,e,r){var n=0<arguments.length&&void 0!==t?t:"",o=1<arguments.length?e:void 0,a=2<arguments.length&&void 0!==r?r:1,c=_y(_y({},{paddingLeft:0,paddingRight:0,lineHeight:0,spacingAfter:0,spacingBefore:0,verticalAlign:"middle",textAlign:"center",color:-16777216,bold:!1,fontFamily:"SimSun",fontSize:12,italic:!0,strikeThrough:!1,textShadow:!1,underLine:{width:0,style:"",color:-16777216},height:"auto",cursor:""}),o),s=c.paddingLeft,u=c.paddingRight,l=c.lineHeight,f=c.spacingAfter,h=c.spacingBefore,p=c.verticalAlign,y=c.textAlign,v=c.color,g=c.bold,m=c.fontFamily,w=c.italic,O=c.strikeThrough,x=c.underLine,E=c.textShadow,j=c.fontSize,S=c.height,C=c.cursor,P=new Map([["TOP",0],["MIDDLE",50],["BOTTOM",100]]),I="translateY(-".concat(P.get(p),"%)"),T="html-cell-".concat(BI.UUID()),_=[];O&&_.push("line-through"),x.width&&_.push("underline"),i.a.use(d(),b());var k=document.createElement("style");return k.innerHTML=".".concat(T," {\n        box-sizing: border-box;\n        width: 100%;\n        height: ").concat(S,";\n        text-align: ").concat(y.toLowerCase(),";\n        position: absolute;\n        top: ").concat(P.get(p),"%;\n        -ms-transform: ").concat(I,";\n        -webkit-transform: ").concat(I,";\n        -o-transform: ").concat(I,",\n        transform: ").concat(I,";\n        line-height: ").concat(l,"px;\n        padding: ").concat(h,"px ").concat(u,"px ").concat(f,"px ").concat(s,"px;\n        --font-scale: ").concat(a,";\n        color: ").concat(B(v),";\n        font-weight: ").concat(Uy(g),";\n        font-family: ").concat(m,";\n        font-style: ").concat(Xy(w),";\n        text-decoration: ").concat(0<_.length?_.join(" "):"normal",";\n        text-shadow: ").concat(BI.isNull(E)?"none":Yy(E),";\n        font-size: ").concat(j*a,"px;\n        ").concat(C?"cursor: ".concat(C," !important;"):"","\n    }"),document.head.appendChild(k),{el:'<div class="un-cssreset '.concat(T,'">').concat(n,"</div>"),initialEl:n,style:c}}function zy(t){if(BI.isString(t))return t;switch(t){case 0:return"repeat";case 1:return"default";case 3:return"center";case 2:return"stretch";case 4:return"adapt";default:return"center"}}function Hy(t){var e=t.toLocaleUpperCase().replace(/[^a-zA-Z]/g,""),r=t.replace(/[^\d]/g,"");if(e&&r)return{x:e.split("").reverse().reduce((function(t,e,r){return t+(e.charCodeAt(0)-64)*(0<r?25*r:1)}),0)-1,y:parseInt(r.toString(),10)-1}}function Wy(t,e,r,n){var i,o,a=r.extended?My(r.value,_y(_y(_y(_y({},null===(i=n.cellstyle)||void 0===i?void 0:i.contentStyle),null===(o=n.cellstyle)||void 0===o?void 0:o.fontStyle),r.style),{},{cursor:r.cursor})):r.value?{el:r.value,style:void 0,initialEl:r.value}:void 0;return{id:r.id,position:{row:e,col:t},el:null==a?void 0:a.el,extension:a,init:r.init,lazy:r.lazy}}function Fy(t){var e="S",r="".concat(t);if(BI.isNull(t))return{xtype:e,value:r,text:r};if(BI.isNumber(t))return r="".concat(t),{xtype:e=/\./.test(r)||/e/i.test(r)?"D":10<=r.length?"BigDecimal":"I",value:r,text:r};if(BI.isArray(t))return 0<BI.size(t)&&BI.has(BI.first(t),"attach_id")?{xtype:e="Attachments",value:r=t.map((function(t){return t.attach_id})).join(","),text:t.map((function(t){return t.filename})).join(",")}:(e="A",r=BI.isArray(BI.first(t))?(e="AA",t.map((function(t){return"".concat(t)})).join(";")):"".concat(t),{xtype:e,value:r,text:r});if(BI.isObject(t)){if(BI.isNotNull(t.date_milliseconds))e="Date",r="".concat(t.date_milliseconds);else{if(BI.isNotNull(t.__time__))return{xtype:e="Date",value:r="".concat(t.__time__),text:"".concat(new Date(t.__time__))};if(BI.isNotNull(t.attach_id))return{xtype:e="Attachments",value:r=t.attach_id,text:t.filename};BI.isEmptyObject(r)&&(r="")}return{xtype:e,value:r,text:r}}return BI.isBoolean(t)?{xtype:e="B",value:r,text:r}:{xtype:e,value:r,text:r}}function Gy(t,e){return"".concat(t,"-").concat(e)}function Uy(t){return BI.isString(t)?t:BI.isNumber(t)?400<t?"bold":"normal":t?"bold":"normal"}function Yy(t){return BI.isBoolean(t)?t?Yy(Wi):"none":"".concat(t.shadowOffsetX,"px ").concat(t.shadowOffsetY,"px ").concat(t.shadowBlur,"px ").concat(t.shadowColor)}function Xy(t){return BI.isString(t)?t:t?"italic":"normal"}function qy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ky(t,e){return(Ky=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function $y(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Jy,Qy,Zy=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return $y(qy(e=t.call.apply(t,[this].concat(n))||this),"props",void 0),$y(qy(e),"watermark",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),Ky(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.setInteractValue=function(){},r.createWatermark=function(){var t=this,e=this.options.el.value;return{el:{type:BI.Label.xtype,invisible:this.checkValueNotEmpty(e),value:this.options.el.watermark,textAlign:"left",cls:"bi-water-mark",ref:function(e){t.watermark=e}},top:1,left:1,right:1,bottom:1}},r.checkValueNotEmpty=function(t){return!BI.isEmptyString(t)&&BI.isNotNull(t)},e}(Xh);function tv(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function ev(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ev(Object(r),!0).forEach((function(e){ov(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iv(t,e){return(iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ov(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(105);var av,cv,sv=E()((ov(Qy=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ov(nv(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"report-main-table-cell-controller-direct",el:{},width:0,height:0,fontSize:12,slient:!1,text:"",shouldHideSelectFrame:BI.emptyFn}),ov(nv(e),"controller",void 0),ov(nv(e),"label",void 0),ov(nv(e),"adapter",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),iv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,e=this.options.el.listeners||[],r={eventName:"EVENT_CHANGE",action:function(){var e;null===(e=t.watermark)||void 0===e||e.setVisible(!t.checkValueNotEmpty(t.controller.getValue()))}};return e.push(r,{eventName:"afterinit",action:function(){t.initLabelLayer()}}),{type:BI.BasicButton.xtype,render:function(){return rv(rv({},t.options.el),{},{xlisteners:e,listeners:t.options.slient?[r]:e,ref:function(e){t.controller=e}})},handler:function(){t.active()}}},r.initLabelLayer=function(){var t=this;if(!this.adapter){var e=this.controller.getAdapter();e&&BI.createWidget({type:BI.AbsoluteLayout.xtype,element:e.element,items:[{el:{type:BI.AbsoluteLayout.xtype,ref:function(e){t.adapter=e},items:[{el:{type:BI.Label.xtype,ref:function(e){t.label=e},cls:"bi-card",text:this.options.text,textAlign:"left"},top:1,bottom:1,left:1,right:1},this.createWatermark()]},top:0,bottom:0,left:0,right:0}]})}},r.getValue=function(){return this.controller.getValue()},r.setValue=function(){try{var t;(t=this.controller).setValue.apply(t,arguments)}catch(t){}},r.postGetValidation=function(){return this.controller.postGetValidation()},r.postValidateAndToast=function(){return this.controller.postValidateAndToast()},r.preGetValidation=function(){return this.controller.preGetValidation()},r.reset=function(){this.controller.reset()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){tv(o,n,i,a,c,"next",t)}function c(t){tv(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(){var e,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(e=this.controller).setControllerValue.apply(e,r);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),r.active=function(){var t;null===(t=this.adapter)||void 0===t||t.invisible(),this.controller.focus()},r.inactive=function(){var t;null===(t=this.adapter)||void 0===t||t.visible()},r.isActive=function(){return!!this.adapter&&!this.adapter.isVisible()},r.setText=function(t){var e;null===(e=this.label)||void 0===e||e.setText(t),this.options.text=t},r.reloadControlAttr=function(){try{this.controller.reloadControlAttr()}catch(t){}},r.setSeleted=function(t){this.options.shouldHideSelectFrame()||(t?this.element.addClass("highlight-border"):this.hideHightlightBorder())},r.hideHightlightBorder=function(){this.element.removeClass("highlight-border")},r.setStyle=function(){},r.blur=function(){try{this.controller.blur()}catch(t){}},r.resize=function(t,e){this.controller.resize(t,e)},r.getValidation=function(){return this.controller.isEnabled()&&this.controller.isVisible()?t.prototype.getValidation.call(this):{result:!0}},r.getDependenceValue=function(){try{return this.controller instanceof Xh?this.controller.getDependenceValue():this.controller.getValue()}catch(t){}},e}(Zy),"xtype","report.main.table_cell.controller.direct"),Jy=Qy))||Jy;function uv(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function lv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function fv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?lv(Object(r),!0).forEach((function(e){dv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function hv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pv(t,e){return(pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function dv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r(106);var yv=E()((dv(cv=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dv(hv(e=t.call.apply(t,[this].concat(n))||this),"props",{baseCls:"report-main-table-cell-controller-indirect",el:{},width:0,height:0,fontSize:12,slient:!1,shouldHideSelectFrame:BI.emptyFn}),dv(hv(e),"controller",void 0),dv(hv(e),"tip",void 0),dv(hv(e),"tab",void 0),dv(hv(e),"seleciontMarker",void 0),dv(hv(e),"hightLightBorder",void 0),dv(hv(e),"controllerWrapper",void 0),e}!function(t,e){t.prototype=Object.create(e.prototype),pv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.render=function(){var t=this,r=this.options.el.listeners||[],n={eventName:"EVENT_CHANGE",action:function(){var e;null===(e=t.watermark)||void 0===e||e.setVisible(!t.checkValueNotEmpty(t.controller.getValue()))}};return r.push(n),this.controller=BI.createWidget(fv(fv({},this.options.el),{},{listeners:this.options.slient?[n]:r,xlisteners:r})),{type:BI.Tab.xtype,ref:function(e){t.tab=e},showIndex:"inactive",cardCreator:function(r){switch(r){case"active":return{type:BI.AbsoluteLayout.xtype,ref:function(e){t.controllerWrapper=e},items:[{el:t.controller,top:0,left:0,bottom:0,right:0}]};case"inactive":default:return{type:BI.AbsoluteLayout.xtype,items:[{el:fv(fv({},t.options.el),{},{ref:function(e){t.seleciontMarker=e},disabled:!1,invisible:!0,width:t.options.width-2,height:t.options.height-2,cls:"cell-selected",type:BI.DefaultLayout.xtype}),top:0,left:0,right:0,bottom:0},t.createWatermark(),{el:{type:BI.AbsoluteLayout.xtype,invisible:!0,ref:function(e){t.tip=e},items:[{el:fv(fv({},t.options.el),{},{ref:function(e){t.hightLightBorder=e},disabled:!1,width:t.options.width-2,height:t.options.height-2,cls:"bi-high-light-border",type:BI.DefaultLayout.xtype}),top:0,left:0,right:0,bottom:0},{el:{cls:"cell-edit-tip",iconWidth:16,iconHeight:16,width:16,height:16,type:BI.IconButton.xtype,stopPropagation:!0,handler:function(){t.fireEvent(e.EVENT_OPEN)}},top:0,right:0}]},top:0,left:0,right:0,bottom:0}]}}}}},r.mounted=function(){var t=this;this.element.on("mouseenter",(function(){if(!t.isActive()){var e=!t.isControllerUnusalState();t.tip.setVisible(e),t.handleControllerByState(e)}})),this.element.on("mouseleave",(function(){t.tip.invisible()}))},r.isControllerRegistered=function(){return!!this.controllerWrapper&&this.controllerWrapper.hasWidget("0")},r.handleControllerByState=function(t){var e;t?this.isControllerRegistered()||null===(e=this.controllerWrapper)||void 0===e||e.addWidget(this.controller):this.controller.isolate()},r.setEnable=function(t){this.controller.setEnable(t),this.handleControllerByState(t)},r.setVisible=function(t){this.controller.setVisible(t),this.handleControllerByState(t)},r.getValue=function(){return this.controller?this.controller.getValue():this.options.el.value},r.setValue=function(t){try{this.controller?this.controller.setValue(t):this.options.el.value=t}catch(t){}},r.postGetValidation=function(){return this.controller.postGetValidation()||{result:!0}},r.postValidateAndToast=function(){return this.controller.postValidateAndToast()||!0},r.preGetValidation=function(){return this.controller.preGetValidation()||{result:!0}},r.reset=function(){this.controller.reset()},r.setControllerValue=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){uv(o,n,i,a,c,"next",t)}function c(t){uv(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.controller)return t.next=3,this.controller.setControllerValue(e);t.next=5;break;case 3:t.next=6;break;case 5:this.options.el.value;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.active=function(){this.isControllerUnusalState()||(this.tab.setSelect("active"),this.controller.focus())},r.inactive=function(){this.tab.setSelect("inactive")},r.isActive=function(){return"active"===this.tab.getSelect()},r.setText=function(){},r.resize=function(t,e){this.controller.resize(t,e),this.tab.setHeight(e),this.tab.setWidth(t),this.seleciontMarker.setWidth(t-2),this.seleciontMarker.setHeight(e-2),this.hightLightBorder.setWidth(t-2),this.hightLightBorder.setHeight(e-2)},r.reloadControlAttr=function(){try{this.controller.reloadControlAttr()}catch(t){}},r.setSeleted=function(t){this.options.shouldHideSelectFrame()||this.seleciontMarker.setVisible(t)},r.hideHightlightBorder=function(){this.seleciontMarker.setVisible(!1)},r.isControllerUnusalState=function(){return this.controllerWrapper?!this.isControllerRegistered():!(this.controller.isEnabled()&&this.controller.isVisible())},r.setStyle=function(){},r.getValidation=function(){return this.isControllerUnusalState()?{result:!0}:t.prototype.getValidation.call(this)},r.getDependenceValue=function(){try{return this.controller instanceof Xh?this.controller.getDependenceValue():this.controller.getValue()}catch(t){}},e}(Zy),"xtype","report.main.table_cell.controller.indirect"),dv(cv,"EVENT_OPEN","EVENT_OPEN"),av=cv))||av;function vv(t){return function(t){if(Array.isArray(t))return gv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gv(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function mv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bv(Object(r),!0).forEach((function(e){wv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ov(t,e,r){var n=this,i=this.options,o=i.widget,a=i.cell;if(o){t.css("overflow","visible");var c=this.cellControllerManager.getWidgetByName(this.id),s=e-1,u=r-1,l=!!c,f=Iy.isDirect(null==o?void 0:o.type),h=Iy.isSlient(null==o?void 0:o.type),p=Iy.getEventChangeName(null==o?void 0:o.type);c?(c.setText(this.getTextByCellValue()),c.resize(s,u)):(c=BI.createWidget({type:this.isDirectWidget()?sv.xtype:yv.xtype,text:this.getTextByCellValue(),shouldHideSelectFrame:function(){return n.cellControllerManager.getHideSelectFrameSign()},cellId:this.id,dependence:o.dependence,dependenceMap:o.dependenceMap,reportIndex:o.reportIndex,width:s,height:u,cellWidgetName:o.widgetName,slient:h,location:this.id,el:mv(mv({},o),{},{widgetName:"",cellWidgetName:o.widgetName,type:Iy.getType(o.type),xtype:o.type,width:s,height:u,position:{column:a.position.x,row:a.position.y},location:this.id,value:o.value,getWidgetDependenceValueByWidget:function(){var t=o.dependence||[],e=o.dependenceMap||{};return t.reduce((function(t,r){var i=e[r];if(!i)return t;var o=n.external.getDependenceValueById(i);return t[r.toUpperCase()]=o,t}),{})},getDependenceByWidget:function(){return o.dependence||[]},listeners:(p?[{eventName:p,action:function(){var t=this;return this.fireEvent("EVENT_CHANGE",(function(){t.fireEvent("_".concat(p))})),!1}}]:[]).concat((o.listeners||[]).concat([{eventName:"EVENT_CHANGE",action:function(t){f&&(c.validateAndMsgToast(n.id)||c.reset());var e=n.fireEvent("CELL_WIDGET_CHANGE",{e:{},cell:{},x:a.position.x,y:a.position.y,value:c.getValue(),id:n.id,direct:f});Promise.all(e).then((function(){BI.isFunction(t)&&t()}))}}]).map((function(t){return mv(mv({},t),{},{eventName:p&&t.eventName===p?"_".concat(p):t.eventName})})))}),listeners:[{eventName:yv.EVENT_OPEN,action:function(){n.fireEvent("CELL_DOUBLE_CLICK",{e:{},x:a.position.x,y:a.position.y,id:n.id,cell:{position:{x:a.position.x,y:a.position.y},ri:0,ci:0,x:a.position.x,y:a.position.y,width:e,height:r}})}}]}),this.cellControllerManager.register(c,this.id));var d=BI.createWidget({type:BI.DefaultLayout.xtype,element:t.el,items:[{type:BI.AbsoluteLayout.xtype,items:[l?{el:{type:BI.DefaultLayout.xtype,mounted:function(){BI.mount(c,this.element[0])}},top:0,left:0,right:0,bottom:0}:{el:c,top:1,left:1,right:0,bottom:0}].concat(vv(this.getStateWidgetJson(s,u)))}]});d.element.mousedown((function(t){var e;(null===(e=c)||void 0===e?void 0:e.isActive())&&t.stopPropagation()})),d.element.mouseup((function(t){var e;(null===(e=c)||void 0===e?void 0:e.isActive())&&t.stopPropagation()})),d.element.mousewheel((function(t){var e;((null===(e=c)||void 0===e?void 0:e.isActive())||f)&&t.stopPropagation()}))}}function xv(t,e){return(xv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ev(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var jv,Sv,Cv=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ev(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"updatedCellValueCache",[]),e}!function(t,e){t.prototype=Object.create(e.prototype),xv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.addCellCache=function(t){this.updatedCellValueCache.push(t)},r.getCellCache=function(){return this.updatedCellValueCache},r.clearCellCache=function(){this.updatedCellValueCache=[]},r.update=function(){},r.clear=function(){this.clearCellCache(),t.prototype.clear.call(this)},e}(Ke);function Pv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Ev(Cv,"NAME","CELL_CACHE"),(Sv=jv=jv||{})[Sv["Fine-Engine_Sort_No_Order"]=0]="Fine-Engine_Sort_No_Order",Sv[Sv["Fine-Engine_Sort_Ascending_Order"]=1]="Fine-Engine_Sort_Ascending_Order",Sv[Sv["Fine-Engine_Sort_Descending_Order"]=2]="Fine-Engine_Sort_Descending_Order";var Iv=function(){var t=e.prototype;function e(t,e){Pv(this,"options",void 0),Pv(this,"external",void 0),Pv(this,"cellControllerManager",void 0),Pv(this,"cellErrorTipManager",void 0),Pv(this,"cellCacheManager",void 0),Pv(this,"id",BI.UUID()),this.options=t,this.external=e,this.cellControllerManager=this.external.getStickerManagers().get(Vi.NAME)||new Vi,this.cellErrorTipManager=this.external.getStickerManagers().get(Mi.NAME)||new Mi,this.cellCacheManager=this.external.getStickerManagers().get(Cv.NAME)||new Cv,e.getStickerManagers().set(Vi.NAME,this.cellControllerManager),e.getStickerManagers().set(Mi.NAME,this.cellErrorTipManager),e.getStickerManagers().set(Cv.NAME,this.cellCacheManager),this.id=BI.isNotNull(t.cell.id)?"".concat(t.cell.id):Gy(t.cell.position.x,t.cell.position.y)}return t.getCellStickers=function(){return[this.toHtml(),this.toWidget(),this.toState(),this.toFilter()]},t.getTextByCellValue=function(t){var r=this.options,n=r.cell,i=r.widget,o=Iy.getTextTransformer(null==i?void 0:i.type)(e.transform2CellText(n.text||t||n.value));return BI.isNull(n.cv)||BI.isNull(n.transformed)?o:BI.contentFormat(o,n.fmt)},t.isDirectWidget=function(){var t=this.options,e=t.cell,r=t.widget;return!(!e.isShowWidgets&&!Iy.isDirect(null==r?void 0:r.type)||!r)},t.toCell=function(){return this.isDirectWidget()?this.toEmptyCell():this.toFullCell()},t.toHtml=function(){},e.transform2CellText=function(t){return BI.isObject(t)?JSON.stringify(t):BI.isNull(t)?"":"".concat(t)},e.transform2String=function(t){return"".concat(BI.isNull(t)?"":t)},t.fireEvent=function(t,e){var r=[];return this.options.listeners.forEach((function(n){n.eventName===t&&n.action&&r.push(Promise.resolve(n.action(e)))})),r},t.toEmptyCell=function(){var t=this,e=this.options,r=e.cell,n=e.celladvancedattr,i=e.style,o=i.borderStyle,a=i.backgroundStyle;return{type:BI.AbsoluteLayout.xtype,listeners:[{eventName:"CELL_DOUBLE_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_DOUBLE_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:[],id:t.id}),!0}},{eventName:"CELL_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:[],id:t.id}),!0}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}}],borderStyle:o,backgroundStyle:a,canCopy:!0,cursor:void 0,valid:r.valid,title:null==n?void 0:n.tooltipText,position:r.position}},t.toWidget=function(){return function(){var t=this,e=this.options.widget;return e?{id:"".concat(this.id,"_cell_controllers"),init:function(r,n,i,o,a){var c=!!t.cellControllerManager.getWidgetByName(t.id);if(t.isDirectWidget()||c)return Ov.apply(t,[r,n,i]),void(a?null==o||o():BI.defer((function(){null==o||o()})));t.cellControllerManager.addUninitializedWidget(t.id,{init:function(){Ov.apply(t,[r,n,i])},cellId:t.id,dependenceMap:e.dependenceMap||{},cellWidgetName:e.widgetName||""},o)},value:"",lazy:!0}:void 0}.apply(this)},t.toState=function(){var t=this;if(!this.options.widget){var e=this.options.cell,r=e.edited,n=e.errorMsg;if(r||n)return{id:"".concat(this.id,"_state"),init:function(e,r,n){var i=r-1,o=n-1,a=t.getStateWidgetJson(i,o);0<BI.size(a)&&(e.css("overflow","visible"),BI.createWidget({type:BI.DefaultLayout.xtype,element:e.el,items:[{type:BI.AbsoluteLayout.xtype,width:i,height:o,items:a}]}))},value:""}}},t.getStateWidgetJson=function(t,e){var r=this.options.cell,n=r.edited,i=r.errorMsg,o=this,a=[];return n&&a.push({el:{type:BI.Icon.xtype,height:10,width:10,cls:"cell-edited-tip"},top:0,left:0}),i&&a.push({el:{type:BI.Icon.xtype,height:15,width:15,cls:"cell-warning-tip",title:function(){return i}},left:0,bottom:0},{el:{type:BI.Label.xtype,invisible:!0,cls:"report-cell-error-tip",hgap:5,vgap:5,text:i,created:function(){o.cellErrorTipManager.register(this,o.id)}},left:t+1,top:1}),a},t.toFilter=function(){return function(){var t=this;if(this.options.sortHeader){var e=this.options.sortHeader,r=e.sortItems,n=e.headerArea,o=e.sortArea,a=e.index,c=e.direction,s=e.currentSortItem;return{id:"".concat(this.id,"_filter"),init:function(e){var u,l,f,h,p="triangle-left-font",y={};i.a.use(d(),b());var v,g=void 0,m=r.map((function(e){var r=e.iconId,u=e.type,l=i.a.createStyleSheet({icon:{background:"url(".concat(Dy(r,!0),") no-repeat center center"),"background-size":"contain"}}).attach().classes;y[r]=l.icon;var f=BI.i18nText(jv[u]);return{type:BI.DownListGroupItem.xtype,cls:"bi-list-item-active",height:24,iconCls1:l.icon,iconCls2:"",value:r,text:f,logic:{dynamic:!0},seleted:s===f,listeners:[{eventName:BI.DownListGroupItem.EVENT_CHANGE,action:function(){g=l.icon,t.fireEvent("CELL_FILTER_CLICK",{e:{},x:0,y:0,cell:{},id:t.id,headerArea:n,sortArea:o,sortRule:u,index:a,direction:c})}}]}})),w=s?null===(u=r.find((function(t){return t.description===s})))||void 0===u?void 0:u.iconId:void 0;g=w?y[w]:void 0,BI.createWidget({element:e.el,type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Combo.xtype,ref:function(t){v=t},adjustLength:2,hideWhenAnotherComboOpen:!0,el:{type:BI.IconChangeButton.xtype,iconCls:g||p,cls:"icon-size-16",width:16,height:16,ref:function(t){h=t}},popup:{minWidth:80,minHeight:25,maxHeight:500,el:{type:BI.ButtonGroup.xtype,items:m,layouts:[{type:BI.VerticalLayout.xtype}]}},listeners:[{eventName:BI.Combo.EVENT_BEFORE_POPUPVIEW,action:function(){h.setIcon(g||"triangle-down-font")}},{eventName:BI.Combo.EVENT_BEFORE_HIDEVIEW,action:function(){h.setIcon(g||p)}}]},bottom:1,right:0,width:16,height:16}]}),null===(l=v)||void 0===l||l.element.mousedown((function(t){t.stopPropagation()})),null===(f=v)||void 0===f||f.element.mouseup((function(t){t.stopPropagation()}))},value:""}}}.apply(this)},e}();function Bv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Tv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bv(Object(r),!0).forEach((function(e){_v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kv(t,e){return(kv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Nv=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),kv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.hyperLinks,o=e.celladvancedattr,a=n.texts,c=void 0===a?[]:a,s=n.backslash,u=void 0!==s&&s,l=r.contentStyle,f=r.borderStyle,h=r.backgroundStyle,p=BI.concat(.75*parseInt(BI.get(l,"fontSize"),10),"px");return{type:BI.AbsoluteLayout.xtype,bias:{texts:c,backslash:u},style:Tv(Tv({},l),{},{fontSize:p,defaultFontSize:p}),borderStyle:f,backgroundStyle:h,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,o){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:o,hyperLinks:i,id:t.id}),!0}},{eventName:"CELL_DOUBLE_CLICK",action:function(e,r,n,o){return t.fireEvent("CELL_DOUBLE_CLICK",{e:e,x:r,y:n,cell:o,hyperLinks:i,id:t.id}),!0}},{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}}],value:(c||[]).join("|"),position:n.position,title:null==o?void 0:o.tooltipText}},r.toWidget=function(){},r.isDirectWidget=function(){return!1},e}(Iv);function Av(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Vv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Av(Object(r),!0).forEach((function(e){zv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Av(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Dv(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Rv(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Dv(o,n,i,a,c,"next",t)}function c(t){Dv(o,n,i,a,c,"throw",t)}a(void 0)}))}}function Lv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mv(t,e){return(Mv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function zv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hv=function(t){function e(e,r){var n;return zv(Lv(n=t.call(this,e,r)||this),"cellChartManager",void 0),zv(Lv(n),"fontResizable",!1),n.cellChartManager=n.external.getStickerManagers().get(Pi.NAME)||new Pi,n.fontResizable=n.external.getFontResizable(),r.getStickerManagers().set(Pi.NAME,n.cellChartManager),n}!function(t,e){t.prototype=Object.create(e.prototype),Mv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getChartData=function(){var t=Rv(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.fireEvent("CELL_CHART_FETCH_DATA",{e:{},cell:{},x:this.options.cell.position.x,y:this.options.cell.position.y,id:this.id,requestParams:e}),0===BI.size(r))return t.abrupt("return",[]);t.next=3;break;case 3:return t.abrupt("return",BI.last(r));case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.toFullCell=function(){var t=this.options,e=t.style,r=t.cell,n=t.celladvancedattr,i=e.borderStyle,o=e.backgroundStyle;return{type:BI.AbsoluteLayout.xtype,borderStyle:i,backgroundStyle:o,stopPropagation:!0,position:r.position,title:null==n?void 0:n.tooltipText}},r.toHtml=function(){var t=this,e=this.options.cell,r=e,n=r.chartHeight,i=r.chartWidth,o=this.external.getWidgetName(),a=e.items?e.items[0].simpleChartInShowID:"";return{id:"".concat(this.id,"_html"),value:"",init:function(r,c,s){if(r){r.css("cursor",e.cursor||"default");var u,l=Math.round(c)/i,f=Math.round(s)/n,h=t.fontResizable?Math.min(l,f):1,p=t.cellChartManager.getWidgetByName(a),d=!!p;p||(p=BI.createWidget({type:gi.xtype,width:c,height:s,wScale:l,hScale:f,fontScale:h,chartAttrGetter:(u=Rv(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getChartData({chartID:a,widgetName:o}).then((function(t){return Vv(Vv({},t),{},{chartID:a})})));case 1:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),instantiateXHyperLinks:function(e){return Wr(e,{managersGetter:function(){return t.external.getStickerManagers()}})},listeners:[{eventName:vn.EVENT_LOADED,action:function(){var e=t.cellChartManager.getParameterCacheByChartID(a);BI.isEmptyObject(e)||(void 0).changeParameter(e)}}]}),t.cellChartManager.register(p,a)),BI.createWidget({type:BI.DefaultLayout.xtype,element:r.el,items:[{type:BI.AbsoluteLayout.xtype,items:[d?{el:{type:BI.DefaultLayout.xtype,mounted:function(){var t,e,r;BI.mount(p,this.element[0]),null===(t=p)||void 0===t||t.element.width(c),null===(e=p)||void 0===e||e.element.height(s),null===(r=p)||void 0===r||r.resize(l,f,h)}},top:0,left:0,right:0,bottom:0}:{el:p,top:0,left:0,right:0,bottom:0}]}]})}}}},r.toWidget=function(){},r.toState=function(){},e}(Iv);function Wv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gv(t,e){return(Gv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Uv=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Gv(t.prototype.constructor=t,e)}(e,t),e.prototype.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.hyperLinks,o=e.celladvancedattr,a=n.text,c=n.currencyLineAttr,s=Iv.transform2CellText(a),u=r.contentStyle,l=r.borderStyle,f=r.backgroundStyle;return{type:BI.AbsoluteLayout.xtype,currencyLineAttr:s?c:void 0,style:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wv(Object(r),!0).forEach((function(e){Fv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},u),borderStyle:l,backgroundStyle:f,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,o){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:o,hyperLinks:i,id:t.id}),!0}},{eventName:"CELL_DOUBLE_CLICK",action:function(e,r,n,o){return t.fireEvent("CELL_DOUBLE_CLICK",{e:e,x:r,y:n,cell:o,hyperLinks:i,id:t.id}),!0}},{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}}],value:s,position:n.position,canCopy:!0,cursor:0===i.length?"default":"pointer",valid:n.valid,title:null==o?void 0:o.tooltipText}},e}(Iv);function Yv(t,e){return(Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Xv=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Yv(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.celladvancedattr,o=(null==i?void 0:i.fileName)||"",a=r.contentStyle,c=r.borderStyle,s=r.backgroundStyle,u=r.paddingLeft,l=r.paddingRight,f=r.spacingBefore,h=r.spacingAfter,p=[Hr.getHandler({type:Mr,name:BI.UUID(),id:n.attach_id})];return a&&(a.underline={width:1,style:"solid",color:"#0000ff",dash:[]},a.color="#0000ff"),{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Label.xtype,style:a,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:p,id:t.id}),!0}}],text:o,autoWrapInfo:n.autoWrapInfo},left:u,right:l,top:f,bottom:h}],listeners:[{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}}],backgroundStyle:s,borderStyle:c,value:o,position:n.position,canCopy:!0,cursor:"pointer",valid:n.valid,title:null==i?void 0:i.tooltipText}},r.toWidget=function(){},e}(Iv);function qv(t,e){t.prototype=Object.create(e.prototype),function(t,e){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(t.prototype.constructor=t,e)}var Kv=function(t){function e(){return t.apply(this,arguments)||this}return qv(e,t),e.prototype.transform2ImageCell=function(t,e,r){var n,i,o=this,a=this.options,c=a.cell,s=a.hyperLinks,u=t.borderStyle,l=t.backgroundStyle,f=t.paddingLeft,h=t.paddingRight;return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.AbsoluteLayout.xtype,style:{backgroundImage:e,backgroundSize:r},listeners:[{eventName:"CELL_CLICK",action:function(t,e,r,n){return o.fireEvent("CELL_CLICK",{e:t,x:e,y:r,cell:n,hyperLinks:s,id:o.id}),!0}}]},left:f,right:h,top:0,bottom:0}],listeners:[{eventName:"CELL_DOUBLE_CLICK",action:function(t,e,r,n){return o.fireEvent("CELL_DOUBLE_CLICK",{e:t,x:e,y:r,cell:n,hyperLinks:s,id:o.id}),!0}},{eventName:"CELL_HOVER",action:function(t,e,r,n){o.fireEvent("CELL_HOVER",{e:t,x:e,y:r,cell:n})}},{eventName:"CELL_MOUSE_LEAVE",action:function(t,e,r,n){o.fireEvent("CELL_MOUSE_LEAVE",{e:t,x:e,y:r,cell:n})}},{eventName:"CELL_MOUSE_DOWN",action:function(t,e,r,n){o.fireEvent("CELL_MOUSE_DOWN",{e:t,x:e,y:r,cell:n})}}],borderStyle:u,backgroundStyle:l,position:c.position,image:e,canCopy:"SHOW_AS_IMAGE"===(null===(n=this.options.celladvancedattr)||void 0===n?void 0:n.contentShowType),cursor:0===this.options.hyperLinks.length?"default":"pointer",valid:c.valid,title:null===(i=this.options.celladvancedattr)||void 0===i?void 0:i.tooltipText}},e}(Iv),$v=function(t){function e(){return t.apply(this,arguments)||this}return qv(e,t),e.prototype.toFullCell=function(){var t=this.options,e=t.style,r=t.cell,n=r.attachid,i=void 0===n?"":n,o=r.cache,a=void 0!==o&&o,c=r.imageLayout,s=void 0===c?3:c,u=r.value,l=zy(s);return this.transform2ImageCell(e,u?"data:image;base64,".concat(u):Dy(i,a),l)},e}(Kv);function Jv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Qv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Jv(Object(r),!0).forEach((function(e){Zv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Zv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tg(t,e){return(tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}BI.createWidget({type:BI.DefaultLayout.xtype,items:[{type:BI.Layout.xtype,css:{"font-family":"fineui"}}],element:"body"});var eg=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),tg(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.hyperLinks,o=e.celladvancedattr,a=n.value,c=n.id,s=n.indent,u=void 0===s?0:s,l=n.open,f=n.direction,h=Iv.transform2CellText(a),p=r.contentStyle,d=r.borderStyle,y=r.backgroundStyle,v=r.paddingLeft,g=r.paddingRight,b=p?parseInt(p.fontSize,10):16,m=b/16,w=(null==p?void 0:p.textAlign)||"left",O=10*m,x="left"===w?15*u*m+O:0,E="";switch(w){case"center":E="bi.flow_center";break;case"right":E="bi.flow_right";break;case"left":default:E="bi.flow_left"}var j=[{eventName:"CELL_CLICK",action:function(e,r,n,o){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:o,hyperLinks:i}),!0}},{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}}];return{type:E,items:[{el:BI.isNull(l)?{}:{type:BI.Icon.xtype,dblclick:!1,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_NODE_CLICK",{e:e,x:r,y:n,cell:i,open:l,id:c,direction:f}),!0}}],icon:Qv(Qv({},p),{},{text:l?"":"",textAlign:"center",color:"#ffffff",backgroundColor:"#419bf9",fontStyle:"normal",fontFamily:"fineui",rotate:0,underline:void 0,strikeThrough:"",size:b})},left:x,right:g,top:0,bottom:0},{el:{type:BI.Label.xtype,style:p,text:h,listeners:j},left:BI.isNull(l)?Math.max(v||0):O,right:g,top:0,bottom:0}],backgroundStyle:y,borderStyle:d,value:h,position:n.position,listeners:j,canCopy:!0,cursor:0===i.length?"default":"pointer",valid:n.valid,title:null==o?void 0:o.tooltipText}},r.toWidget=function(){},e}(Iv);function rg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ng(t,e){return(ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ig(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var og=function(t){function e(e,r){var n,i,o;ig(rg(o=t.call(this,e,r)||this),"showAsHtml",void 0),ig(rg(o),"cellText",void 0),ig(rg(o),"hyperLinks",void 0),ig(rg(o),"cursor",void 0),o.showAsHtml="SHOW_AS_HTML"===(null===(n=e.celladvancedattr)||void 0===n?void 0:n.contentShowType);var a=e.style,c=e.cell,s=e.hyperLinks;return o.cellText=o.getTextByCellValue(c.value),o.hyperLinks=o.cellText||null!=a&&null!==(i=a.backgroundStyle)&&void 0!==i&&i.backgroundImage?s:[],o.cursor=0===BI.size(o.hyperLinks)?"default":"pointer",o}!function(t,e){t.prototype=Object.create(e.prototype),ng(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.celladvancedattr,o=this.cellText,a=r.contentStyle,c=r.borderStyle,s=r.backgroundStyle,u=r.paddingLeft,l=r.paddingRight,f=r.spacingBefore,h=r.spacingAfter;return{type:BI.AbsoluteLayout.xtype,items:[{el:{type:BI.Label.xtype,style:a,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:t.hyperLinks,id:t.id}),!0}}],text:this.showAsHtml?"":o,autoWrapInfo:n.autoWrapInfo,overflowConfig:{overflowHide:null==i?void 0:i.overflowHide,hideType:null==i?void 0:i.hideType,hideStrLength:null==i?void 0:i.hideStrLength,appendTailStr:null==i?void 0:i.appendTailStr}},left:u,right:l,top:f,bottom:h}],backgroundStyle:s,borderStyle:c,value:o,position:n.position,listeners:[{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i,id:t.id})}},{eventName:"CELL_DOUBLE_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_DOUBLE_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:t.hyperLinks,id:t.id}),!0}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}}],canCopy:!0,cursor:this.cursor,valid:n.valid,title:null==i?void 0:i.tooltipText}},r.toHtml=function(){var t=this.options.cell;return this.showAsHtml?{id:"".concat(this.id,"_html"),value:"".concat(t.value),cursor:this.cursor,extended:!0}:void 0},r.toWidget=function(){if(!this.shouldNotShowWidget())return t.prototype.toWidget.call(this)},r.toCell=function(){return this.shouldNotShowWidget()?this.toFullCell():t.prototype.toCell.call(this)},r.shouldNotShowWidget=function(){return 0<BI.size(this.hyperLinks)&&this.isDirectWidget()},e}(Iv);function ag(t,e){return(ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var cg=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),ag(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.toFullCell=function(){var t=this,e=this.options,r=e.style,n=e.cell,i=e.celladvancedattr,o=e.hyperLinks,a=r.borderStyle,c=r.backgroundStyle;return{type:BI.AbsoluteLayout.xtype,stick:!0,borderStyle:a,backgroundStyle:c,position:n.position,canCopy:!0,cursor:"default",valid:n.valid,title:null==i?void 0:i.tooltipText,listeners:[{eventName:"CELL_CLICK",action:function(e,r,n,i){t.fireEvent("CELL_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:o,id:t.id})}},{eventName:"CELL_DOUBLE_CLICK",action:function(e,r,n,i){return t.fireEvent("CELL_DOUBLE_CLICK",{e:e,x:r,y:n,cell:i,hyperLinks:o,id:t.id}),!0}},{eventName:"CELL_MOUSE_LEAVE",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_LEAVE",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_MOUSE_DOWN",action:function(e,r,n,i){t.fireEvent("CELL_MOUSE_DOWN",{e:e,x:r,y:n,cell:i})}},{eventName:"CELL_HOVER",action:function(e,r,n,i){t.fireEvent("CELL_HOVER",{e:e,x:r,y:n,cell:i})}}]}},r.toHtml=function(){var t=this.options.cell;return{id:"".concat(this.id,"_html"),value:"<div style=\"background: url('".concat(t.value,"'); height:100%; background-size: 100% 100%\"></div>"),style:{height:"100%"}}},e}(Iv);function sg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ug(t){var e=t.celladvancedattr,r=t.cell;return"SHOW_AS_DOWNLOAD"===(null==e?void 0:e.contentShowType)?$i:e&&!e.previewContent?Fi:r.type}var lg=new(function(){function t(){sg(this,"typeTransformer",ug)}var e=t.prototype;return e.transform=function(t){return this.typeTransformer(t)},e.use=function(t){this.typeTransformer=t},t}()),fg=new(function(){function t(){var t;sg(this,"cellDict",(sg(t={},Fi,Nv),sg(t,Gi,Hv),sg(t,Ui,Uv),sg(t,Yi,$v),sg(t,Xi,cg),sg(t,qi,og),sg(t,Ki,eg),sg(t,$i,Xv),t))}var e=t.prototype;return e.get=function(t,e){var r=lg.transform(t);return new(r in this.cellDict?this.cellDict[r]:this.cellDict.bias)(t,e)},e.set=function(t,e){this.cellDict[t]=e},t}());function hg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pg(t,e){return(pg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function dg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dg(hg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_CLICK"]),dg(hg(e),"merger",""),dg(hg(e),"name","CELL_HYPERLINK"),dg(hg(e),"handler",new ie(e.externalContext.attach)),e}return function(t,e){t.prototype=Object.create(e.prototype),pg(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(t){var e=t.e,r=t.hyperLinks;this.handler.handle(e,r)},e}(Ur);function vg(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function gg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bg(t,e){return(bg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function mg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var wg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return mg(gg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_DOUBLE_CLICK"]),mg(gg(e),"name","CELL_ACTIVE_WIDGET"),mg(gg(e),"merger","covered"),e}return function(t,e){t.prototype=Object.create(e.prototype),bg(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){vg(o,n,i,a,c,"next",t)}function c(t){vg(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,n=this.externalContext.getStickerManagers().get(Vi.NAME)){t.next=4;break}return t.abrupt("return");case 4:n.getWidgetsMap().forEach((function(t,e){e===r&&t.active()}));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Ur);function Og(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function xg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eg(t,e){return(Eg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function jg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Sg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return jg(xg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_DOUBLE_CLICK","CELL_CLICK"]),jg(xg(e),"name","CELL_INACTIVE_WIDGET"),jg(xg(e),"merger","uniqe"),e}return function(t,e){t.prototype=Object.create(e.prototype),Eg(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Og(o,n,i,a,c,"next",t)}function c(t){Og(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,n=this.externalContext.getStickerManagers().get(Vi.NAME)){t.next=4;break}return t.abrupt("return");case 4:n.getWidgetsMap().forEach((function(t,e){e!==r&&t.inactive()}));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Ur);function Cg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pg=function(){function t(t,e){Cg(this,"externalInterface",void 0),Cg(this,"cellData",void 0),this.externalInterface=t,this.cellData=e}var e=t.prototype;return e.setValue=function(t,e){var r=(null==e?void 0:e.cv)||"",n=Fy(t.cv=r),i=n.value,o=n.xtype,a=n.text;return t.xtype=o,t.value=i,t.text=a,new Promise((function(e){e(JSON.stringify(t))}))},e.getDependenceValue=function(t){var e=this;return t.reduce((function(t,r){return t[r]=e.externalInterface.getCellValueById(r),t}),{})},t}();function Ig(t,e){return(Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Bg=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Ig(t.prototype.constructor=t,e)}(e,t),e.prototype.setValue=function(t,e){var r,n=null!==(r=null==e?void 0:e.cv)&&void 0!==r?r:"",i=Fy(t.cv=n),o=i.value,a=i.xtype,c=i.text;return t.xtype=a,t.value=o,t.text=c,new Promise((function(e){e(JSON.stringify(t))}))},e}(Pg),Tg=new(function(){function t(){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"cellDict",new Map([["text",Bg]]))}var e=t.prototype;return e.setValue=function(t,e,r,n){var i=3<arguments.length&&void 0!==n?n:{},o=e.cv,a=e.cellhyperlink,c=Ry(t.value)||{type:"text",value:""};if(!c)return new Promise((function(t){t(!1)}));if(BI.isNull(a)&&BI.isEqual(c.cv,o))return new Promise((function(t){t(!1)}));t.edited=!0,t.transformed=!0,t.cellstyle=t.cellstyle||{fontStyle:{color:-16777216,fontFamily:"SimSun",fontSize:12,underLine:{width:0,style:"",color:-16777216}}},t.cellhyperlink=a;var s=r.getWidgetByCell(t.position.y,t.position.x);return s&&!0!==i.soft&&s.setValue(o),new(this.cellDict.get(c.type)||Pg)(r,t).setValue(c,e).then((function(e){var n=t.value!==e;if(t.value=e,n){t.errorMsg=void 0;var i=r.getStickerManagers().get(Cv.NAME);null==i||i.addCellCache(t)}return n}))},e.set=function(t,e){this.cellDict.set(t,e)},t}());function _g(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function kg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ng(t,e){return(Ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ag(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ag(kg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_SET_VALUE"]),Ag(kg(e),"name","CELL_SET_VALUE"),Ag(kg(e),"merger","uniqe"),e}return function(t,e){t.prototype=Object.create(e.prototype),Ng(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){_g(o,n,i,a,c,"next",t)}function c(t){_g(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r,n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.value,n=e.x,i=e.y,o=this.externalContext.getTableData(),a=o[i][n]){t.next=5;break}return t.abrupt("return",!1);case 5:return t.next=7,Tg.setValue(a,{cv:null!=r?r:""},this.externalContext);case 7:return t.sent&&this.externalContext.populate(this.tableData),t.abrupt("return",!0);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Ur);function Dg(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Rg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lg(t,e){return(Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Mg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Mg(Rg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_CLICK","CELL_DOUBLE_CLICK"]),Mg(Rg(e),"name","CELL_SELECT"),Mg(Rg(e),"merger","uniqe"),e}return function(t,e){t.prototype=Object.create(e.prototype),Lg(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){Dg(o,n,i,a,c,"next",t)}function c(t){Dg(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.id,n=e.cell,i=n.position,o=i.y,a=i.x,this.externalContext.setSelectCell({row:o,col:a,text:"".concat((s=this.tableData[o][a],Fy(Ly(s)).text)),cell:n}),c=this.externalContext.getStickerManagers().get(Vi.NAME)){t.next=7;break}return t.abrupt("return");case 7:c.initializeWidget(r),c.mountWidget(r),c.getWidgetsMap().forEach((function(t,e){t.setSeleted(e===r)}));case 10:case"end":return t.stop()}var s}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e}(Ur);function Hg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wg(t,e){return(Wg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Fg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Fg(Hg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_HOVER"]),Fg(Hg(e),"merger","uniqe"),Fg(Hg(e),"name","EVENT_INITIALIZE_WIDGET"),e}return function(t,e){t.prototype=Object.create(e.prototype),Wg(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(t){var e=t.id,r=this.externalContext.getStickerManagers().get(Vi.NAME);null==r||r.initializeWidget(e),null==r||r.mountWidget(e)},e}(Ur);function Ug(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ug(Object(r),!0).forEach((function(e){Kg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qg(t,e){return(qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Kg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var $g,Jg,Qg=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Kg(Xg(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_SET_STYLE"]),Kg(Xg(e),"name","CELL_SET_STYLE"),Kg(Xg(e),"merger","covered"),e}!function(t,e){t.prototype=Object.create(e.prototype),qg(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.action=function(t){var e,r=t.x,n=t.y,i=t.style,o=void 0===i?{}:i,a=this.transformStyle2CellStyle(o),c=this.tableData;BI.isNull(r)||BI.isNull(n)?BI.isNull(r)?c[n].forEach((function(t){BI.deepExtend(t.cellstyle,a)})):c.forEach((function(t){var e;BI.deepExtend(null===(e=t.find((function(t){return t.position.x===r})))||void 0===e?void 0:e.cellstyle,a)})):BI.deepExtend(null===(e=c[n].find((function(t){return t.position.x===r})))||void 0===e?void 0:e.cellstyle,a),this.externalContext.populate(c)},r.transformStyle2CellStyle=function(t){return{cellBackground:{background:this.transformBackground(t)},borderStyle:this.transformBorderStyle(t),fontStyle:this.transFormFontStyle(t),contentStyle:this.transformContentStyle(t)}},r.transFormFontStyle=function(t){var e=t.fontWeight,r=void 0===e?"normal":e,n=t.fontStyle,i=void 0===n?"normal":n,o=t.fontFamily,a=void 0===o?"":o,c=t.fontSize,s=void 0===c?12:c,u=t.color,l=void 0===u?"#000":u,f=t.textDecorationColor,h=void 0===f?"":f,p=t.textDecorationLine,d=void 0===p?"":p,y=t.textDecorationStyle,v=void 0===y?"":y,g=t.textDecorationThickness,b=void 0===g?0:g,m=t.textShadow,w=(null==m?void 0:m.split(" "))||[];return{bold:r,italic:i,fontFamily:a,strikeThrough:-1!==d.indexOf("line-through"),fontSize:this.getIntValue(s),color:l,underLine:{width:-1!==d.indexOf("underline")?this.getIntValue(b):0,style:v,color:h},textShadow:{shadowBlur:this.getIntValue(w[2]),shadowColor:w[3]||"black",shadowOffsetX:this.getIntValue(w[0]),shadowOffsetY:this.getIntValue(w[1])}}},r.transformContentStyle=function(t){var e=t.padding,r=t.paddingBottom,n=t.paddingLeft,i=t.paddingRight,o=t.paddingTop,a=t.lineHeight,c=void 0===a?0:a,s=t.verticalAlign,u=void 0===s?"":s,l=t.textAlign,f=void 0===l?"":l,h=t.whiteSpace,p=void 0===h?"":h,d=(null==e?void 0:e.split(" "))||[];return{paddingLeft:this.getIntValue(n||d[3]),paddingRight:this.getIntValue(i||d[1]),spacingAfter:this.getIntValue(r||d[2]),spacingBefore:this.getIntValue(o||d[0]),lineHeight:c,verticalAlign:u,textAlign:f,newLine:p}},r.transformBackground=function(t){var e=t.backgroundColor,r=t.backgroundImage,n=t.backgroundRepeat;return Yg(Yg(Yg({},BI.isNull(r)?{}:this.transformBackgroundImage(r)),BI.isNull(e)?{}:{backgroundType:"ColorBackground",color:e}),{},{layout:n})},r.transformBackgroundImage=function(t){var e={},r=this.transformRgb2Color(t),n=r.match(/url\((.+?)\)/g),i=r.match(/linear-gradient\((.+?)\)/g);if(BI.isNull(n)){if(!BI.isNull(i)){var o=i[0].replace(/"|'|linear-gradient|\(|\)/g,"").split(",");e.backgroundType="GradientBackground";var a=BI.size(o);e.direction=BI.size(o[0].match(/left|right/g))?0:1,e.startColor=o[a-2],e.endColor=o[a-1]}}else e.imgUrl=n[0].replace(/"|'|url|\(|\)/g,""),e.backgroundType="ImageBackground";return e},r.transformBorderStyle=function(t){function e(t){return BI.isNull(t)?u:r.transformCssBorder2XBorder(t)}var r=this,n=t.border,i=void 0===n?"0 solid #333":n,o=t.borderTop,a=t.borderBottom,c=t.borderLeft,s=t.borderRight,u=this.transformCssBorder2XBorder(i);return{topBorder:e(o),bottomBorder:e(a),leftBorder:e(c),rightBorder:e(s)}},r.getIntValue=function(t){return parseInt((0<arguments.length&&void 0!==t?t:0).toString(),10)},r.transformCssBorder2XBorder=function(t){var e=t.split(" ");return{width:this.getIntValue(e[0]),style:e[1]||"solid",color:e[2]||-1}},r.transformRgb2Color=function(t){var e,r=t;return null===(e=t.match(/rgb\((.+?)\)/g))||void 0===e||e.forEach((function(t){r=r.replace(t,B(t))})),r},e}(Ur);function Zg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function tb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zg(Object(r),!0).forEach((function(e){ob(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function eb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return rb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ib(t,e){return(ib=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ob(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}(Jg=$g=$g||{}).TL="tlRadius",Jg.TR="trRadius",Jg.BR="brRadius",Jg.BL="blRadius";var ab=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ob(nb(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_SET_RADIUS"]),ob(nb(e),"name","CELL_SET_RADIUS"),ob(nb(e),"merger","uniqe"),e}!function(t,e){t.prototype=Object.create(e.prototype),ib(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.action=function(t){var e=this,r=t.radius,n=t.range,i=void 0===n?{}:n,o=t.single,a=this.tableData,c=i.row,s=void 0===c?[]:c,u=i.column,l=void 0===u?[]:u,f=i.cell,h=void 0===f?[]:f,p=eb(s,2),d=p[0],y=void 0===d?1:d,v=p[1],g=void 0===v?Number.MAX_VALUE:v,b=eb(l,2),m=b[0],w=void 0===m?1:m,O=b[1],x=void 0===O?Number.MAX_VALUE:O;if(BI.size(h)&&(y=g=h[0]||1,w=x=h[1]||1),o)a.forEach((function(t,n){y-1<=n&&n<g&&t.forEach((function(t,n){w-1<=n&&n<x&&e.setCellRadius(t,r)}))}));else{var E=BI.size(a),j=a.reduce((function(t,e){return Math.max(t,BI.size(e))}),0),S=Math.min(g-1,E-1),C=Math.min(x-1,j-1),P=Math.max(y-1,0),I=Math.max(w-1,0);this.setCellRadius(a[P][I],r,$g.TL),this.setCellRadius(a[P][C],r,$g.TR),this.setCellRadius(a[S][I],r,$g.BL),this.setCellRadius(a[S][C],r,$g.BR)}this.externalContext.populate(a)},r.setCellRadius=function(t,e,r){var n,i,o=t.sourceCellPosition,a=BI.isNull(o)?t:this.tableData[o.y][o.x],c=tb({radius:e,tlRadius:!r,trRadius:!r,blRadius:!r,brRadius:!r},(null===(n=a.cellstyle)||void 0===n||null===(i=n.cellBackground)||void 0===i?void 0:i.background.radiusConfig)||{});BI.deepExtend(a,{cellstyle:{cellBackground:{background:{radiusConfig:r?tb(tb({},c),{},ob({},r,!0)):c}}}})},e}(Ur);function cb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sb(t,e){return(sb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function ub(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var lb=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ub(cb(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_SET_SIZE"]),ub(cb(e),"name","CELL_SET_SIZE"),ub(cb(e),"merger","uniqe"),e}return function(t,e){t.prototype=Object.create(e.prototype),sb(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(t){var e=t.x,r=t.y,n=t.width,i=t.height,o=this.tableData;BI.isNull(e)&&BI.isNull(r)||(BI.isNull(n)||o.forEach((function(t){t[e].celldimension.width=n})),BI.isNull(i)||o[r].forEach((function(t){t.celldimension.height=i})),this.externalContext.populate(o))},e}(Ur);function fb(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function hb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pb(t,e){return(pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function db(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var yb=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return db(hb(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_CHART_FETCH_DATA"]),db(hb(e),"name","CELL_CHART_FETCH_DATA"),db(hb(e),"merger","covered"),e}return function(t,e){t.prototype=Object.create(e.prototype),pb(t.prototype.constructor=t,e)}(e,t),e.prototype.action=function(){var t=function(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){fb(o,n,i,a,c,"next",t)}function c(t){fb(o,n,i,a,c,"throw",t)}a(void 0)}))}}(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.requestParams,t.abrupt("return",Bn(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}(Ur),vb=new(function(){function t(){!function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(this,"listeners",[yg,Sg,wg,Vg,zg,Gg,Qg,ab,lb,yb])}var e=t.prototype;return e.add=function(t){this.listeners.push(t)},e.get=function(){return this.listeners},t}());function gb(t){return function(t){if(Array.isArray(t))return bb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return bb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bb(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mb(t,e,r){return(mb=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&wb(i,r.prototype),i}).apply(null,arguments)}function wb(t,e){return(wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Ob(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xb=function(){function t(t){Ob(this,"listeners",void 0),Ob(this,"externalInterface",void 0),this.externalInterface=t,this.listeners=Eb(vb.get().map((function(e){return new e(t)})))}var e=t.prototype;return e.addHandler=function(t){for(var e,r,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];var a=mb(t,[this.externalInterface].concat(i));switch(a.merger){case"uniqe":var c;this.listeners.find((function(t){return t.name===a.name}))||(c=this.listeners).push.apply(c,gb(Eb([a])));break;case"covered":for(var s=this.listeners.length-1;0<=s;s--)this.listeners[s].name===a.name&&this.listeners.splice(s,1);(e=this.listeners).push.apply(e,gb(Eb([a])));break;default:(r=this.listeners).push.apply(r,gb(Eb([a])))}},e.generate=function(t){var e=t.cell,r=t.style,n=t.cellhyperlink,i=t.celladvancedattr,o=t.sortHeader,a=t.widget;return fg.get({cell:e,style:r,celladvancedattr:i,sortHeader:o,hyperLinks:this.getHyperLinks(n),listeners:this.listeners,widget:a},this.externalInterface)},e.getHyperLinks=function(t){var e,r=this;return Wr((null==t||null===(e=t.nxNameJavascriptGroup)||void 0===e?void 0:e.javaScriptGroup)||[],{managersGetter:function(){return r.externalInterface.getStickerManagers()}})},e.getListenerByName=function(t){return this.listeners.find((function(e){return e.name===t}))},t}();function Eb(t){return t.reduce((function(t,e){return t.concat(e.eventNames.map((function(t){return{eventName:t,name:e.name,action:function(t){return e.action(t)}}})))}),[])}var jb=["el"];function Sb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pb="data-font-scale";function Ib(t,e){e.el;var r=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(e,jb);return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Sb(Object(r),!0).forEach((function(e){Cb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({el:e.initialEl.replaceAll(/font-size:\s*[0-9.]+/,(function(e){return e.replaceAll(/[0-9.]+/,(function(e){return parseFloat(e)*t}))})).replaceAll(new RegExp("".concat(Pb,'=\\s*"[0-9.]+')),(function(e){return e.replaceAll(/[0-9.]+/,(function(){return t}))}))},r)}function Bb(t){return t[t.length-1]=0,t[t.length-2]=0,t[0]=0,t}function Tb(t){return t[0]=0,t[t.length-3]=0,t[t.length-2]=0,t[t.length-1]=0,t}function _b(t,e,r){return Ab(t,function(t,e){var r=0;return t.map((function(t){var n=t*e+r,i=Math.round(n);return r=n-i,i}))}(1<arguments.length&&void 0!==e?e:[],2<arguments.length&&void 0!==r?r:1))}function kb(t,e,r){var n=1<arguments.length&&void 0!==e?e:0,i=2<arguments.length?r:void 0;i&&BI.each(i,(function(e,r){BI.each(r,(function(e,r){var i;null!=r&&null!==(i=r.style)&&void 0!==i&&i.defaultFontSize&&(r.style.fontSize=Nb(r.style.defaultFontSize,t,n)),BI.each(BI.get(r,"items"),(function(e,r){var i;if(null!=r&&null!==(i=r.el)&&void 0!==i&&i.style){var o=r.el.style.lineHeight;r.el.style.lineHeight=function(t,e){return"".concat(e*parseInt(t,10))}(r.el.style.defaultLineHeight,t),r.el.style.fontSize=Nb(r.el.style.defaultFontSize,t,n),r.left*=r.el.style.lineHeight/o,r.right*=r.el.style.lineHeight/o}}))}))}))}function Nb(t,e,r){var n=parseInt(t,10)*e;return"".concat(Math.max(n,r),"px")}function Ab(t,e){var r=1<arguments.length&&void 0!==e?e:[],n=Math.round(r.reduce((function(t,e){return t+e}))),i=r.findIndex((function(t){return!!t}));return t<=n&&(4<n-t?(r[r.length-1]=2,r[0]=1):r[i]=Math.floor(r[i]-(n-t||1))),r}function Vb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Db(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Vb(Object(r),!0).forEach((function(e){Mb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Rb(t){return function(t){if(Array.isArray(t))return Lb(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Lb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Lb(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var zb=function(){function t(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};Mb(this,"isAdaptive",!0),Mb(this,"minResizeScale",.4),Mb(this,"minFontSize",void 0),Mb(this,"widthResizeScale",1),Mb(this,"heightResizeScale",1);var e=t.minFontSize,r=void 0===e?8:e;this.minFontSize=r}var e=t.prototype;return e.resizeWidth=function(t,e,r){var n=1<arguments.length&&void 0!==e?e:document.body.clientWidth,i=2<arguments.length&&void 0!==r?r:0,o=i;t[t.length-1]=0,t[t.length-2]=0,t[0]=0;var a=n-3,c=Rb(t);if(c.pop(),!i){var s=c.reduce((function(t,e){return t+e}));o=Math.max(a/s,this.minResizeScale)}for(var u=0;u<c.length;u++)t[u]*=o;return t[t.length-1]=1,t[0]=1,o},e.resizeHeight=function(t,e,r){var n=2<arguments.length&&void 0!==r?r:0,i=n;t[0]=0,t[t.length-3]=0,t[t.length-2]=0,t[t.length-1]=0;var o=Rb(t);if(o.pop(),!n){var a=e-2,c=o.reduce((function(t,e){return t+e}));i=Math.max(a/c,this.minResizeScale)}for(var s=0;s<o.length;s++)t[s]*=i;return t[t.length-1]=1,i},e.resizeFont=function(t,e){var r=this;e&&BI.each(e,(function(e,n){BI.each(n,(function(e,n){BI.each(BI.get(n,"items"),(function(e,n){if(n&&n.el&&n.el.style){var i=parseInt(n.el.style.defaultFontSize,10),o=Math.max(i*t,r.minFontSize);n.el.style.lineHeight=n.el.style.defaultLineHeight*o/i,n.el.style.fontSize="".concat(o,"px")}}))}))}))},e.resizeSticker=function(t,e){var r=this;(e.stickers||[]).forEach((function(e){e.el=e.extension?r.expandHtml(Ib(t,e.extension).el,e.extension.style,t).el:e.el}))},e.expandHtml=function(t,e,r){return BI.isNotNull(e)?My(t,Db(Db({},e),{},{lineHeight:e.lineHeight*r,paddingLeft:e.paddingLeft*this.widthResizeScale,paddingRight:e.paddingRight*this.widthResizeScale,spacingAfter:e.spacingAfter*this.heightResizeScale,spacingBefore:e.spacingBefore*this.heightResizeScale}),r):{el:t,style:e,initial:t}},e.resizeFontByFontScaleAttr=function(t){Array.from(t.find("*[".concat(Pb,"]"))).forEach((function(t){var e=window.getComputedStyle(t,null).getPropertyValue("font-size"),r=t.getAttribute(Pb);t.style.fontSize="calc(".concat(r," * ").concat(e,")")}))},t}();function Hb(t,e){return(Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Wb=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Hb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.paperWidth,i=e.tableHeight,o=e.paperHeight,a=e.fitAttr,c=a.fitFont,s=a.minFontSize,u=a.fontScaleGetter;if(this.widthResizeScale=r/n,this.heightResizeScale=i/o,t.sheet.cols=_b(r,Bb(t.sheet.initialCols||[]),this.widthResizeScale),t.sheet.rows=_b(i,Tb(t.sheet.initialRows||[]),this.heightResizeScale),c){var l,f=null!==(l=null==u?void 0:u())&&void 0!==l?l:Math.min(this.widthResizeScale,this.heightResizeScale);kb(f,s,t.sheet.data),this.resizeSticker(f,t.sheet)}return t},e}(zb);function Fb(t,e){return(Fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Gb=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Fb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=e.fitAttr,o=i.fitFont,a=i.minFontSize,c=Bb(t.sheet.initialCols||[]),s=Tb(t.sheet.initialRows||[]);if(this.widthResizeScale=(r-1)/c.reduce((function(t,e){return t+e})),this.heightResizeScale=(n-1)/s.reduce((function(t,e){return t+e})),t.sheet.cols=_b(r,c,this.widthResizeScale),t.sheet.rows=_b(n,s,this.heightResizeScale),o){var u=Math.min(this.widthResizeScale,this.heightResizeScale);kb(u,a,t.sheet.data),this.resizeSticker(u,t.sheet)}return t},e}(zb);function Ub(t,e){return(Ub=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Yb=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Ub(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=e.hasFrozen,o=void 0!==i&&i,a=e.fitAttr.fitFont,c=e.paperWidth;t.sheet.cols=(t.sheet.initialCols||t.sheet.cols||[]).slice(0),this.widthResizeScale=this.resizeWidth(t.sheet.cols||[],r);var s=o?1:0;if(t.sheet.rows=(t.sheet.initialRows||t.sheet.rows||[]).slice(0),this.heightResizeScale=this.resizeHeight(t.sheet.rows||[],n,s),a){var u=r/c;this.resizeFont(u,t.sheet.data),this.resizeSticker(u,t.sheet)}return t},e}(zb);function Xb(t,e){return(Xb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var qb=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Xb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=e.paperWidth,o=e.fitAttr,a=o.fitFont,c=o.minFontSize,s=o.fontScaleGetter;if(this.widthResizeScale=r/i,this.heightResizeScale=this.widthResizeScale,t.sheet.cols=_b(r,Bb(t.sheet.initialCols||[]),this.widthResizeScale),t.sheet.rows=_b(n,Tb(t.sheet.initialRows||[]),this.heightResizeScale),a){var u,l=null!==(u=null==s?void 0:s())&&void 0!==u?u:Math.min(this.widthResizeScale,this.heightResizeScale);kb(l,c,t.sheet.data),this.resizeSticker(l,t.sheet)}return t},e}(zb);function Kb(t,e){return(Kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var $b=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Kb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=e.fitAttr,o=i.fitFont,a=i.minFontSize,c=Bb(t.sheet.initialCols||[]),s=Tb(t.sheet.initialRows||[]);return this.widthResizeScale=(r-1)/c.reduce((function(t,e){return t+e})),this.heightResizeScale=this.widthResizeScale,t.sheet.cols=_b(r,c,this.widthResizeScale),t.sheet.rows=_b(n,s,this.heightResizeScale),o&&(kb(this.widthResizeScale,a,t.sheet.data),this.resizeSticker(this.widthResizeScale,t.sheet)),t},e}(zb);function Jb(t,e){return(Jb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Qb=function(t){function e(){return t.apply(this,arguments)||this}return function(t,e){t.prototype=Object.create(e.prototype),Jb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=e.hasFrozen,o=void 0!==i&&i,a=e.fitAttr.fitFont,c=e.paperWidth;if(t.sheet.rows=(t.sheet.initialRows||t.sheet.rows||[]).slice(0),t.sheet.cols=(t.sheet.initialCols||t.sheet.cols||[]).slice(0),this.widthResizeScale=this.resizeWidth(t.sheet.cols||[],r),this.heightResizeScale=o?1:this.widthResizeScale,this.resizeHeight(t.sheet.rows||[],n,this.heightResizeScale),a){var s=r/c;this.resizeFont(r/c,t.sheet.data),this.resizeSticker(s,t.sheet)}return t},e}(zb);function Zb(t,e){return(Zb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var tm=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t,e,r){e in t?Object.defineProperty(t,e,{value:!1,enumerable:!0,configurable:!0,writable:!0}):t[e]=!1}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"isAdaptive"),e}return function(t,e){t.prototype=Object.create(e.prototype),Zb(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){return t},e}(zb);function em(t,e){return(em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var rm,nm,im=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t,e,r){e in t?Object.defineProperty(t,e,{value:!1,enumerable:!0,configurable:!0,writable:!0}):t[e]=!1}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"isAdaptive"),e}return function(t,e){t.prototype=Object.create(e.prototype),em(t.prototype.constructor=t,e)}(e,t),e.prototype.resize=function(t,e){var r=e.tableWidth,n=e.tableHeight,i=t.sheet,o=i.rows,a=void 0===o?[]:o,c=i.cols,s=void 0===c?[]:c;return Ab(n,Tb(a)),Ab(r,Bb(s)),t},e}(zb);function om(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var am,cm,sm=P()((om(nm=function(){function t(){om(this,"resizeModes",new Map([[0,qb],[1,qb],[2,Wb],[3,im],[4,$b],[5,Gb],[-1,Qb],[-2,Yb],[-3,tm]]))}var e=t.prototype;return e.$get=function(){var t=this;return function(){function e(){}var r=e.prototype;return r.setResizer=function(e,r){t.resizeModes.set(e,r)},r.getResizer=function(e,r){return new(t.resizeModes.get(e)||tm)(r)},e}()},e.addResizer=function(t,e){var r=BI.inherit(tm,e);this.resizeModes.set(t,r)},t}(),"xtype","report.table_resizer.provider"),rm=nm))||rm,um=BI.Providers.getProvider(sm.xtype),lm=["data"];function fm(t){return function(t){if(Array.isArray(t))return hm(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return hm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hm(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function dm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?pm(Object(r),!0).forEach((function(e){gm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ym(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vm(t,e){return(vm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function gm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var bm=j()((gm(cm=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gm(ym(e=t.call.apply(t,[this].concat(n))||this),"data",void 0),gm(ym(e),"rowChunkLoadData",void 0),gm(ym(e),"setTableLoading",void 0),gm(ym(e),"options",void 0),gm(ym(e),"computed",{paperSetting:function(){return e.model.reportSettingDetail.paperSetting||{orientation:0,paperWidth:0,paperHeight:0,marginLeft:0,marginRight:0,marginTop:0,marginBottom:0}},paperBackground:function(){return e.model.reportSettingDetail.background||{}},footerHeight:function(){return e.model.reportSettingDetail.footerHeight||0},headerHeight:function(){return e.model.reportSettingDetail.headerHeight||0},headerBackground:function(){return""},footerBackground:function(){return""},paperWidth:function(){return 0===e.model.paperSetting.orientation?e.model.paperSetting.paperWidth:e.model.paperSetting.paperHeight},paperHeight:function(){return 0===e.model.paperSetting.orientation?e.model.paperSetting.paperHeight:e.model.paperSetting.paperWidth},resizeModel:function(){return um.getResizer(e.model.reportFitAttr.fitStateInPC,{minFontSize:e.model.reportFitAttr.minFontSize})},isAdaptiveTable:function(){return e.model.reportFitAttr&&e.model.resizeModel.isAdaptive},hasFrozen:function(){return e.model.frozen&&-1<(-1<e.model.frozen.colTo||e.model.frozen.rowTo)}}),gm(ym(e),"actions",{setTableLoading:function(t){!1===(e.model.loading=t)&&function(){if(Jt){var t=new Date;$t("consume",{data:{render:{time:Jt.getTime(),finish:t.getTime(),consume:t.getTime()-Jt.getTime(),memory:BI.get(performance,"memory.usedJSHeapSize")}}}),Jt=void 0}}()},setReportSetting:function(t){e.model.reportSettingDetail=t},setReportFitAttr:function(t){e.model.reportFitAttr=t},setViewAtCenter:function(t){e.model.viewAtCenter=t},setTableWidth:function(t){e.model.tableWidth=t},setTableHeight:function(t){e.model.tableHeight=t},setScreenWidth:function(t){e.model.screenWidth=t},setWebBackground:function(t){e.model.webBackground=t},prePopulate:function(t,r){e.options.tableData=e.transformTableData(r||[]);var n=r?r.slice():r;if(!n)return!1;if(!n.length)return e.setTableLoading(!1),!1;e.model.hasFrozen&&function(t,e){for(var r=e||{rowTo:-1,colTo:-1},n=r.rowTo,i=r.colTo,o=0;o<t.length;o++)if(t[o])for(var a=0;a<t[o].length;a++){var c=t[o][a];if(c){var s=c.position,u=s.rowSpan,l=void 0===u?1:u,f=s.columnSpan,h=void 0===f?1:f,p=s.x,d=void 0===p?0:p,y=s.y,v=void 0===y?0:y,g=c.value,b=0,m=0,w=!1;if(1<l&&v<=n&&n<v+l-1)b=d,t[m=v+n+1][b].position.rowSpan=l-n-1,c.position.rowSpan=1+n,w=!0,1<h&&(t[m][b].position.columnSpan=h);else{if(!(1<h&&d<=i&&i<d+h-1))break;b=d+i+1,t[m=o][b].position.columnSpan=h-i-1,c.position.columnSpan=1+i,w=!0,1<l&&(t[m][b].position.rowSpan=l)}w&&(t[m][b].value=g,t[m][b].celladjustattr=c.celladjustattr,t[m][b].cellstyle=c.cellstyle,t[m][b].celladvancedattr=c.celladvancedattr,t[m][b].cellhyperlink=c.cellhyperlink,c.value=JSON.stringify({type:"text",value:""}))}}}(n,e.model.frozen);var i=BI.get(n,"[0][0].position")||{},o=i.y||0,a=i.x||0,c=n.length,s=n.reduce((function(t,e){return Math.max(t,e[e.length-1]?e[e.length-1].position.x+1:0)}),0)-a;return e.fixData(n,a,o,s,c),c+=5,s+=3,o-=2,a-=1,dm({sheetData:[],rows:BI.makeArray(c,0),cols:[],stickers:[],merges:[],rowCount:c,columnCount:s,sx:a,sy:o,tableData:n},t)},getTableData:function(){return e.options.tableData||[]},completeLoadData:function(t){var r=t.sheetData,n=t.cols,i=t.rows,o=t.tableData,a=t.stickers,c=t.merges,s=t.sx,u=t.sy,l=t.rowCount,f=t.columnCount,h=t.screenWidth,p=t.tableWidth,d=t.tableHeight;o.forEach((function(t){e.transformTableRowData2SheetRowData({data:t,rows:i,cols:n,stickers:a,merges:c,sx:s,sy:u,sheetData:r})})),e.adjustAndLoadData({sheetData:r,cols:n,columnCount:f,rows:i,rowCount:l,stickers:a,merges:c,screenWidth:h,tableWidth:p,tableHeight:d,sx:s,sy:u})},rowChunkLoadData:function(t){var r=t.sheetData,n=t.cols,i=t.rows,o=t.tableData,a=t.stickers,c=t.merges,s=t.sx,u=t.sy,l=t.rowCount,f=t.columnCount,h=t.screenWidth,p=t.tableWidth,d=t.tableHeight,y=Math.floor(1560/f);o.splice(0,y).forEach((function(t){e.transformTableRowData2SheetRowData({data:t,rows:i,cols:n,stickers:a,merges:c,sx:s,sy:u,sheetData:r})}));var v=0<BI.size(o);e.adjustAndLoadData({sheetData:r,cols:n,columnCount:f,rows:i,rowCount:l,stickers:v?[]:a,merges:c,screenWidth:h,tableWidth:p,tableHeight:d,sx:s,sy:u}),v&&setTimeout((function(){e.rowChunkLoadData({sheetData:r,cols:n,rows:i,tableData:o,stickers:a,merges:c,sx:s,sy:u,rowCount:l,columnCount:f,screenWidth:h,tableWidth:p,tableHeight:d})}),0)},resize:function(t,r,n,i){if(!BI.isNull(e.data)){var o=e.adaptTable(t,r);if(e.model.viewAtCenter&&e.data.sheet.cols&&!o){var a=e.data.sheet.cols.reduce((function(t,e){return t+e}),e.model.paperSetting.marginLeft+e.model.paperSetting.marginRight-e.data.sheet.cols[0]-e.data.sheet.cols[e.data.sheet.cols.length-1]),c=i-a+e.model.paperSetting.marginLeft+e.model.paperSetting.marginRight;i<a||c/2<e.model.paperSetting.marginLeft||c/2<e.model.paperSetting.marginRight?(e.data.sheet.cols[0]=e.model.paperSetting.marginLeft,e.data.sheet.cols[e.data.sheet.cols.length-1]=e.model.paperSetting.marginRight):(e.data.sheet.cols[0]=c/2,e.data.sheet.cols[e.data.sheet.cols.length-1]=c/2),o=!0}o&&(e.options.loadData(e.data),e.model.resizeModel.resizeFontByFontScaleAttr(n))}},addHandler:function(t,r){e.options.tableCellGenerator.addHandler(t,r)},setFrozen:function(t){e.model.frozen=t},setActiveBox:function(t){e.model.activeBox=t},setSelectedCell:function(t){e.model.selectedCell=t},refreshCellValues:function(t){t.forEach((function(t){var r=e.transformTableCellData2SheetCellArgs({cellData:t,sheetData:e.data.sheet.data||[],sx:e.data.sx,sy:e.data.sy});r&&r.cell&&r.cell.getCellStickers().forEach((function(n){if(n){var i=Wy(r.x,r.y,n,t);if(e.data.sheet.stickers){var o=e.data.sheet.stickers.findIndex((function(t){return t.id===i.id}));-1!==o&&e.data.sheet.stickers.splice(o,1,i)}}}))})),e.options.loadData(e.data)}}),e}!function(t,e){t.prototype=Object.create(e.prototype),vm(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.state=function(){return{cellstyle:{},loading:!1,reportSettingDetail:this.options.reportSettingDetail,reportFitAttr:this.options.reportFitAttr,activeBox:this.options.activeBox,frozen:this.options.frozen,viewAtCenter:this.options.viewAtCenter,selectedCell:void 0,tableWidth:this.options.tableWidth,tableHeight:this.options.tableHeight,screenWidth:this.options.screenWidth,webBackground:this.options.webBackground}},r.setData=function(t){this.data=t},r.adaptTable=function(t,e){return!!(this.model.reportFitAttr&&t&&e)&&(this.model.resizeModel.resize(this.data,{tableWidth:Math.round(t),tableHeight:Math.round(e),fitAttr:this.model.reportFitAttr,hasFrozen:this.model.hasFrozen,paperWidth:this.model.paperSetting.paperWidth,paperHeight:this.model.paperSetting.paperHeight}),this.model.resizeModel.isAdaptive)},r.adjustAndLoadData=function(t){var e=t.sheetData,r=t.rows,n=t.rowCount,i=t.cols,o=t.columnCount,a=t.merges,c=t.stickers,s=t.tableHeight,u=t.tableWidth,l=t.screenWidth,f=t.sx,h=t.sy,p=this.adjustRowsAndCols(r,i,l),d=p.tableRows,y=p.tableCols,v={sheet:{rowc:n,colc:o,data:e,rows:d,cols:y,initialRows:fm(d),initialCols:fm(y),merges:a,freeze:function(t){var e=[0,0];return t&&(e=[-1<t.colTo?t.colTo+2:0,-1<t.rowTo?t.rowTo+3:0]),e}(this.model.frozen),stickers:c},topSequnce:{enable:!1,size:0},leftSequnce:{enable:!1,size:0},activeBox:this.model.activeBox,sx:f,sy:h};this.setData(v),this.adaptTable(u,s),this.options.loadData(v),this.setTableLoading(!1)},r.adjustRowsAndCols=function(t,e,r){var n=function(t,e,r){var n=2<arguments.length&&void 0!==r&&r;t[t.length-3]=0;var i=t.reduce((function(t,e){return t+e}),0);return t[t.length-3]=!n&&e<i?Math.max(e-i,0):14,t}(t,this.model.paperHeight,this.model.hasFrozen),i=function(t,e,r){var n=2<arguments.length&&void 0!==r&&r;if(2<=t.length){var i=t.reduce((function(t,e){return t+e}),0);!n&&e<i?t[t.length-2]=Math.max(e-i,0):(t[t.length-2]=0,t[t.length-1]=14)}return t}(e,this.model.paperWidth,this.model.hasFrozen),o=i.reduce((function(t,e){return t+e}),0),a=r-o+i[0]+i[i.length-1];return this.model.viewAtCenter&&(r<o||a/2<this.model.paperSetting.marginLeft||a/2<this.model.paperSetting.marginRight?(i[0]=this.model.paperSetting.marginLeft,i[i.length-1]=this.model.paperSetting.marginRight):(i[0]=a/2,i[i.length-1]=a/2)),{tableRows:n,tableCols:i}},r.transformTableRowData2SheetRowData=function(t){for(var e=t.data,r=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,lm),n=0;n<e.length;n++)e[n]&&this.transformTableCellData2SheetCellData(dm(dm({},r),{},{cellData:e[n]}))},r.transformTableCellData2SheetCellData=function(t){var e=t.rows,r=t.cols,n=t.stickers,i=t.merges,o=t.sx,a=t.sy,c=t.sheetData,s=t.cellData,u=t.simple,l=this.transformTableCellData2SheetCellArgs({cellData:s,sx:o,sy:a,sheetData:c});if(l){var f=l.x,h=l.y,p=l.celldimension,d=l.cell,y=l.position,v=function(t,e,r){var n=0,i=0;if(t){var o=t.width,a=t.height;n=Math.max(e||0,o),i=Math.max(r||0,a)}return{col:n,row:i}}(p,r[f],e[h]),g=v.col,b=v.row;if(r[f]=g,e[h]=b,d&&!u){d.getCellStickers().forEach((function(t){t&&n.push(Wy(f,h,t,s))}));var m=y.columnSpan,w=void 0===m?1:m,O=y.rowSpan,x=void 0===O?1:O;(1<w||1<x)&&i.push(function(t,e,r,n){return[[t,e],[t+r-1,e+n-1]]}(f,h,w,x))}}},r.transformTableCellData2SheetCellArgs=function(t){var e=t.sx,r=t.sy,n=t.sheetData,i=t.cellData;if(i){var o=i.value,a=i.celldimension,c=i.position,s=c.x,u=c.y;if(s-=e,u-=r,o){n[u]=n[u]||[];var l=function(t,e){var r=t.value,n=t.cellhyperlink,i=t.celladvancedattr,o=t.cellstyle,a=t.celladjustattr,c=t.valid,s=t.widget,u=t.sortHeader,l=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,By),f=Ry(r);return e.generate({style:Ay(o,{textAlign:"NaN"!==(null==f?void 0:f.value)&&BI.isNaN(null==f?void 0:f.value)?"left":"right",cellJust:(null==a?void 0:a.adjustStrategy)||"HEIGHT"}),cell:_y(_y(_y({},l),f),{},{valid:!!BI.isNull(c)||c}),widget:s,cellhyperlink:n,celladvancedattr:i,sortHeader:u})}(i,this.options.tableCellGenerator);return n[u][s]=l.toCell(),{cell:l,x:s,y:u,celldimension:a,position:c}}return{x:s,y:u,celldimension:a,position:c}}},r.fixData=function(t,e,r,n,i){var o=this.model.paperSetting,a=o.marginLeft,c=o.marginTop,s=o.marginRight,u=o.marginBottom;return t.push([Vy(e+n,r+i,0,0,1,1)]),t.unshift([Vy(e,r-1,0,this.model.headerHeight,1,n+1)]),t.push([Vy(e,r+i+1,0,this.model.footerHeight,1,n+1)]),t.unshift([Vy(e-1,r-2,a,c,1,n+3),Vy(e+1+n,r-2,s,c,1,1)]),t.push([Vy(e-1,r+i+2,a,u,1,n+3)]),t},r.transformTableData=function(t){return t.forEach((function(e,r){e.forEach((function(e,n){if(BI.isNull(e.merge)){var i=e.position,o=i.rowSpan,a=i.columnSpan;(o&&1<o||a&&1<a)&&function(t,e){for(var r=e.x,n=e.y,i=e.rowSpan,o=void 0===i?1:i,a=e.columnSpan,c=void 0===a?1:a,s=n;s<n+o;s++)for(var u=r;u<r+c;u++)BI.isNull(t[s][u].merge)||(t[s][u].sourceCellPosition={x:r,y:n})}(t,{rowSpan:o,columnSpan:a,x:n,y:r})}}))})),t},e}(C),"xtype","report.model.components.tool_bar.table"),am=cm))||am;function mm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function wm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?mm(Object(r),!0).forEach((function(e){Om(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Om(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xm=function(){function t(t){Om(this,"tableRowColumns",[]),Om(this,"externalContext",void 0),this.externalContext=t}var e=t.prototype;return e.setHeight=function(t){this.tableRowColumns.forEach((function(e){return e.setHeight(t)}))},e.getHeight=function(){return this.tableRowColumns.map((function(t){return t.getHeight()}))},e.setWidth=function(t){this.tableRowColumns.forEach((function(e){return e.setWidth(t)}))},e.getWidth=function(){return this.tableRowColumns.map((function(t){return t.getWidth()}))},e.getCell=function(t){return this.tableRowColumns.map((function(e){return e.getCell(t)}))},e.getIndex=function(){return this.tableRowColumns.map((function(t){return t.getIndex()}))},e.setStyle=function(t){this.tableRowColumns.forEach((function(e){return e.setStyle(t)}))},e.showToolTip=function(t){t.show&&this.tableRowColumns.forEach((function(e){return e.showToolTip(t)}))},e.createMultipleApi=function(t,e){var r,n,i=this;switch(t){case"row":default:n=(r=e.y)+(e.rowSpan||1);break;case"column":n=(r=e.x)+(e.columnSpan||1)}for(var o=r;o<n;o++){var a="row"===t?this.externalContext.getRow(o+1):this.externalContext.getColumn(o+1);BI.isNull(a)||this.tableRowColumns.push(a)}var c={};return this.tableRowColumns.forEach((function(t,e){c[e]=t})),wm(wm({},c),{},{length:BI.size(this.tableRowColumns),setHeight:function(t){return i.setHeight(t)},getHeight:function(){return i.getHeight()},setWidth:function(t){return i.setWidth(t)},getWidth:function(){return i.getWidth()},getCell:function(t){return i.getCell(t)},getIndex:function(){return i.getIndex()},setStyle:function(t){return i.setStyle(t)},showToolTip:function(t){return i.showToolTip(t)}})},t}();function Em(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function jm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Em(Object(r),!0).forEach((function(e){Sm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Em(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Cm=function(){function t(t,e){Sm(this,"cellData",void 0),Sm(this,"externalContext",void 0),this.externalContext=t,this.cellData=e}var e=t.prototype;return e.getPosition=function(){var t=this.cellData.position,e=t.x;return[t.y+1,e+1]},e.getPosition4Inside=function(){return this.cellData.position},e.getRow=function(){return this.getTableRowColumn("row")},e.getColumn=function(){return this.getTableRowColumn("column")},e.getTableRowColumn=function(t){return new xm(this.externalContext).createMultipleApi(t,this.cellData.position)},e.getValue=function(){return this.cellData.value},e.showToolTip=function(t){if(t.show){var e=t.content,r=t.style;this.externalContext.addHandler(sn,{position:this.getPosition4Inside(),scopeType:"cell",body:null==e?void 0:e.text,header:null==e?void 0:e.header,image:null==e?void 0:e.image,style:r})}},e.getCellStyle=function(){var t,e,r=this.cellData.cellstyle,n=r.borderStyle,i=r.cellBackground,o=r.contentStyle,a=r.fontStyle;return jm(jm(jm(jm({},n),{},{backgroundColor:null==i||null===(t=i.background)||void 0===t?void 0:t.color,backgroundImage:null==i||null===(e=i.background)||void 0===e?void 0:e.imgUrl},o),a),{},{textShadow:Yy(a.textShadow),italic:Xy(a.italic),fontWeight:Uy(a.bold)})},e.setStyle=function(t){this.externalContext.emitCellEvent("CELL_SET_STYLE",jm({style:jm(jm({},this.getCellStyle()),t)},this.getPosition4Inside()))},t}();function Pm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Im(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Bm=function(){function t(t,e){Im(this,"index",void 0),Im(this,"unifiedPosition",void 0),Im(this,"size",void 0),Im(this,"externalContext",void 0),this.externalContext=t,this.index=e.index,this.size=e.size,this.unifiedPosition=e.unifiedPosition}var e=t.prototype;return e.getWidth=function(){return-1},e.setWidth=function(t){},e.getHeight=function(){return-1},e.setHeight=function(t){},e.getIndex=function(){return this.index},e.setStyle=function(t){this.externalContext.emitCellEvent("CELL_SET_STYLE",function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Pm(Object(r),!0).forEach((function(e){Im(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({style:t},this.getUnifiedPosition()))},e.showToolTip=function(t){if(t.show){var e=t.content,r=t.style;this.externalContext.addHandler(sn,{position:this.getUnifiedPosition(),scopeType:"rowcolumn",body:null==e?void 0:e.text,header:null==e?void 0:e.header,image:null==e?void 0:e.image,style:r})}},t}();function Tm(t,e){return(Tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var _m=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),Tm(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getUnifiedPosition=function(){return{x:this.unifiedPosition}},r.setWidth=function(t){this.size=t,this.externalContext.emitCellEvent("CELL_SET_SIZE",{x:void 0,y:this.index-1,height:void 0,width:t})},r.getWidth=function(){return this.size},r.getCell=function(t){return this.externalContext.getCell(this.index,t)},e}(Bm);function km(t,e){return(km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Nm,Am,Vm=function(t){function e(){return t.apply(this,arguments)||this}!function(t,e){t.prototype=Object.create(e.prototype),km(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.getUnifiedPosition=function(){return{y:this.unifiedPosition}},r.setHeight=function(t){this.size=t,this.externalContext.emitCellEvent("CELL_SET_SIZE",{y:this.index-1,height:t})},r.getHeight=function(){return this.size},r.getCell=function(t){return this.externalContext.getCell(t,this.index)},e}(Bm);function Dm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,i,o=[],a=!0,c=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(o.push(n.value),!e||o.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{a||null==r.return||r.return()}finally{if(c)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Rm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Mm(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(r),!0).forEach((function(e){Wm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function zm(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hm(t,e){t.prototype=Object.create(e.prototype),function(t,e){(Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}(t.prototype.constructor=t,e)}function Wm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Hr.setHandler("chartpop",ji),Hr.setHandler("chartRelate",_i);var Fm=E()(Nm=S(bm,{props:function(){var t=this;return{reportSettingDetail:this.options.reportSettingDetail,reportFitAttr:this.options.reportFitAttr,tableData:this.options.tableData,frozen:this.options.frozen,viewAtCenter:this.options.viewAtCenter,activeBox:this.options.activeBox,loadData:function(e){var r;null===(r=t.sheet)||void 0===r||r.loadData(e)},tableCellGenerator:this.tableCellGenerator,tableWidth:this.options.tableWidth,tableHeight:this.options.tableHeight,screenWidth:this.options.screenWidth,webBackground:this.options.browserBg}}})((Wm(Am=function(t){function e(){for(var r,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Wm(zm(r=t.call.apply(t,[this].concat(i))||this),"loading",void 0),Wm(zm(r),"store",void 0),Wm(zm(r),"model",void 0),Wm(zm(r),"background",void 0),Wm(zm(r),"table",void 0),Wm(zm(r),"sheet",void 0),Wm(zm(r),"sheetStyles",void 0),Wm(zm(r),"mouseInBounds",!1),Wm(zm(r),"timer",void 0),Wm(zm(r),"isDisableContextMenu",void 0),Wm(zm(r),"stickerManagers",new Map),Wm(zm(r),"tableCellGenerator",new xb({attach:function(t){return BI.createWidget(Mm(Mm({},t),{},{element:zm(r)}))},getTableData:function(){return r.store.getTableData()},populate:function(t){return r.populate(t,{sync:!0,silent:!0,cache:!0})},partialPopulate:function(t){r.store.refreshCellValues(t)},getWidgetName:function(){return r.options.widgetName},getStickerManagers:function(){return r.stickerManagers},getCellValueById:function(t){return r.getCellValueById(t)},getCellValueByWidgetName:function(t){var e=Dm(r.getCellControllersByWidgetName(t),1)[0];if(!BI.isNull(e)){var n=e.attr("cellId");return r.getCellValueById(n)}},getWidgetByCell:function(t,e){return r.getWidgetByCell(t,e)},setSelectCell:function(t){r.store.setSelectedCell({row:t.row,col:t.col}),r.fireEvent(e.EVENT_SELECT_CELL,t)},getDependenceValueById:function(t){return r.getDependenceValueById(t)},getFontResizable:function(){return r.model.reportFitAttr.fitFont}})),Wm(zm(r),"tableContext4Api",{addHandler:function(t,e){return r.addHandler(t,e)},emitCellEvent:function(t,e){return r.emitCellEvent(t,e)},getRow:function(t){return r.getRow(t)},getColumn:function(t){return r.getColumn(t)},getCell:function(t,e){return r.getCell(t,e)}}),Wm(zm(r),"props",{baseCls:"report-table",$testId:"report-table",tableData:[],reportSettingDetail:{},reportFitAttr:{fitFont:!1,fitStateInPC:3},viewAtCenter:!1,frozen:void 0,browserBg:{},widgetName:"",activeBox:!0,synchronize:!1,supportCSSTransform:!1,isDisableContextMenu:!1}),Wm(zm(r),"watch",{reportSettingDetail:function(){r.reLayout()},loading:function(t){r.loading.setVisible(t)},webBackground:function(){r.changeBackground("webBackground")}}),r}Hm(e,t);var r=e.prototype;return r.mounted=function(){var t=this;this.model.tableWidth||this.store.setTableWidth(this.table.element.width()),this.model.tableHeight||this.store.setTableHeight(this.table.element.height()),this.model.screenWidth||this.store.setScreenWidth(this.element.width());var e=this.store.getTableData();this.sheet=function(t,e,r){return new wt(t,e,r)}(this.table.element[0],{tableWidth:this.model.tableWidth,tableHeight:this.model.tableHeight,options:{sheet:{colc:0,rowc:0},contextMenuItems:[{key:"copy",icon:"",label:BI.i18nText("Fine-Report_Copy"),accel:""}],sync:this.options.synchronize,supportCSSTransform:this.options.supportCSSTransform,disableContextMenu:function(){return t.isDisableContextMenu}}}),this.sheet.sheet.addEventListener("scroll",(function(e){var r=e.x,n=e.y;t.model.isAdaptiveTable||t.background.element.css("transform","translate(-".concat(r,"px, -").concat(n,"px)"))})),this.populate(e),this.table.element.on("mouseenter",(function(){t.mouseInBounds=!0})),this.table.element.on("mouseleave",(function(){t.mouseInBounds=!1}))},r.render=function(){var t=this;return this.sheetStyles=i.a.createStyleSheet({paperBackground:this.model.paperBackground,webBackground:this.model.webBackground},{link:!0}).attach(),{type:BI.AbsoluteLayout.xtype,scrollable:!1,cls:"".concat(this.sheetStyles.classes.webBackground),items:[{el:this.model.isAdaptiveTable?{type:BI.Layout.xtype,invisible:!0,cls:"".concat(this.sheetStyles.classes.paperBackground),ref:function(e){t.background=e}}:{type:BI.HorizontalLayout.xtype,scrollx:!1,horizontalAlign:this.model.viewAtCenter?BI.HorizontalAlign.Center:BI.HorizontalAlign.Left,items:[{type:BI.Layout.xtype,invisible:!0,cls:"".concat(this.sheetStyles.classes.paperBackground),ref:function(e){t.background=e},width:Math.min(this.model.paperWidth,25e3),height:Math.min(this.model.paperHeight,25e3)}]},top:0,left:0,right:0,bottom:0},{el:{type:BI.Layout.xtype,ref:function(e){t.table=e}},top:0,left:0,right:0,bottom:0},{el:{type:Ce.xtype,ref:function(e){t.loading=e},$testId:"report-table-loading",invisible:!this.model.loading},top:0,left:0,right:0,bottom:0}]}},r.getPaperWidget=function(){return this.background},r.getCellIdByPosition=function(t,e){var r=this.store.getTableData()[t][e];return"".concat(r.id)||Gy(e,t)},r.getWidgetByCell=function(t,e){var r=BI.isString(t)?{address:t,position:void 0}:BI.isNumber(t)&&BI.isNumber(e)?{address:void 0,position:{row:t,col:e}}:{address:void 0,position:void 0},n=r.address,i=r.position;if(!BI.isNull(n)||!BI.isNull(i)){var o=i?this.getCellIdByPosition(i.row,i.col):n;if(o){var a=this.stickerManagers.get(Vi.NAME);if(a)return a.initializeWidget(o),a.getWidgetByName(o)}}},r.getDependenceValueById=function(t){var e=this.getWidgetByCell(t),r=BI.isNull(e)?this.getCellValueById(t):e.getDependenceValue(),n=Dm(this.getCellControllersByWidgetName(t),1)[0];return BI.isNull(r)?(null==n?void 0:n.getDependenceValue())||"":r},r.getCellControllersByWidgetName=function(t){var e=this.stickerManagers.get(Vi.NAME);return e?(e.getUninitializedWidgetsDict().forEach((function(r,n){r.cellWidgetName.toUpperCase()===t.toUpperCase()&&e.initializeWidget(n)})),e.getWidgets().filter((function(e){return e.attr("cellWidgetName")&&e.attr("cellWidgetName").toUpperCase()===t.toUpperCase()}))):[]},r.selectCell=function(t){var e,r=BI.isString(t)?{id:t,position:void 0,selectedCell:void 0}:BI.isNull(t)?{position:void 0,id:void 0,selectedCell:void 0}:"row"in t?{position:t,id:void 0,selectedCell:void 0}:{position:void 0,id:void 0,selectedCell:t},n=r.id,i=r.position,o=r.selectedCell,a=this.store.getTableData();if(o?e=o:n?a.some((function(t){return t.some((function(t){return t.id===n&&(e=t,!0)}))})):i?e=a[i.row][i.col]:a.some((function(t){return t.some((function(t){return!!t.widget&&(e=t,!0)}))})),e){var c=n||this.getCellIdByPosition(e.position.y,e.position.x);return this.emitCellEvent("CELL_SELECT",{id:c,cell:e}),{id:c,cell:e}}},r.selectNextCell=function(){var t,e=this.model.selectedCell||{row:0,col:0},r=e.row,n=e.col;this.store.getTableData().some((function(e){return e.some((function(e){if(e.position.y<r)return!1;var i=!!e.widget;return e.position.y>r?(i&&(t=e),i):!!(e.widget&&e.position.x>n)&&(t=e,!0)}))})),this.selectCell(t)},r.setSelectCell=function(t){var e=this.getSelectedCell();if(e){var r=this.getWidgetByCell(e.row,e.col);(null==r?void 0:r.isActive())&&this.emitCellEvent("ACTIVE_CELL_FORCE_UPDATE",{})}return this.selectCell(t)},r.getSelectedCell=function(){return this.model.selectedCell},r.getTableData=function(){return this.store.getTableData()},r.populate=function(t,r){var n=r||{},i=n.sync,o=void 0!==i&&i,a=n.cache,c=void 0!==a&&a,s=n.silent,u=void 0!==s&&s,l=this.store.prePopulate({tableWidth:this.model.tableWidth,tableHeight:this.model.tableHeight,screenWidth:this.model.screenWidth},t);l&&(c?this.updateInstances():this.clearInstances(),this.model.isAdaptiveTable||o||this.options.synchronize?this.store.completeLoadData(l):this.store.rowChunkLoadData(l),u||this.fireEvent(e.EVENT_LOADED,this),this.background.visible())},r.setLoading=function(t){this.store.setTableLoading(t)},r.setReportSettingDetail=function(t){this.store.setReportSetting(t)},r.setFrozen=function(t){this.store.setFrozen(t)},r.setReportFitAttr=function(t){this.store.setReportFitAttr(t),this.reset()},r.setViewAtCenter=function(t){this.store.setViewAtCenter(t),this.reset()},r.setActiveBox=function(t){this.store.setActiveBox(t),this.reset()},r.setTableWidth=function(t){this.store.setTableWidth(t),this.reset()},r.setTableHeight=function(t){this.store.setTableHeight(t),this.reset()},r.setScreenWidth=function(t){this.store.setScreenWidth(t),this.reset()},r.setWebBackground=function(t){this.store.setWebBackground(t)},r.resize=function(t,e){this.store.setTableWidth(t),this.store.setTableHeight(e),this.store.setScreenWidth(this.element.width()),this.updateInstances(),this.store.resize(t,e,this.element,this.model.screenWidth),this.sheet.resize(t,e)},r.clearInstances=function(){this.stickerManagers.forEach((function(t){t.destroy()}))},r.updateInstances=function(){this.stickerManagers.forEach((function(t){t.update()}))},r.getCellPosition=function(t,e){return this.sheet.getCellPosition({row:t+1,col:e})},r.setHScrollBarVisible=function(t){this.sheet.sheet.setHScrollBarVisible(t)},r.setVScrollBarVisible=function(t){this.sheet.sheet.setVScrollBarVisible(t)},r.startMarquee=function(t){var e=this,r=t||{},n=r.offset,i=void 0===n?5:n,o=r.interval,a=void 0===o?.1:o,c=r.stopOnHover,s=void 0===c||c,u=r.to,l=void 0===u?"top":u;e.timer||(e.timer=window.setTimeout((function t(){var r=0===e.table.element.width()||0===e.table.element.height();s&&e.mouseInBounds||r||("left"===l||"right"===l?e.whellScrollX("right"===l?0-i:i):e.whellScrollY("bottom"===l?0-i:i)),e.timer=window.setTimeout(t,1e3*a)}),1e3*a))},r.stopMarquee=function(){window.clearTimeout(this.timer),this.timer=void 0},r.addBackgroundColorHandler=function(t){this.store.addHandler(en,t)},r.addHighlightRowEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"line",trigger:e})},r.addHighlightRowHoldEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"line",hold:"row",trigger:e})},r.addHighlightColEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"column",trigger:e})},r.addHighlightColHoldEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"column",hold:"column",trigger:e})},r.addHighlightCrossEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"cross",trigger:e})},r.addHighlightCrossHoldEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"cross",hold:"cross",trigger:e})},r.addHighlightCellEffect=function(t,e){this.addBackgroundColorHandler({style:t,type:"cell",trigger:e})},r.addHighlightCellHoldEffect=function(t,e,r){var n=1<arguments.length&&void 0!==e&&e,i=2<arguments.length?r:void 0;this.addBackgroundColorHandler({style:t,type:"cell",hold:n?"row":"all",trigger:i})},r.addFontStyleHandler=function(t){this.store.addHandler(nn,t)},r.addSetCellFontEffect=function(t,e){this.addFontStyleHandler({style:t,type:"cell",trigger:e})},r.addSetCellFontHoldEffect=function(t,e,r){var n=1<arguments.length&&void 0!==e&&e,i=2<arguments.length?r:void 0;this.addFontStyleHandler({style:t,type:"cell",hold:n?"row":"all",trigger:i})},r.addSetRowFontEffect=function(t,e){this.addFontStyleHandler({style:t,type:"line",trigger:e})},r.addSetRowFontHoldEffect=function(t,e,r){var n=1<arguments.length&&void 0!==e&&e,i=2<arguments.length?r:void 0;this.addFontStyleHandler({style:t,type:"line",hold:n?"row":"all",trigger:i})},r.addPopoverEffect=function(t,e){this.store.addHandler(sn,{position:Hy(t),scopeType:e.type,body:e.text,header:e.header,image:e.image,style:e.style})},r.addHandler=function(t,e){this.store.addHandler(t,e)},r.setCellRadius=function(t,e,r){this.emitCellEvent("CELL_SET_RADIUS",{radius:t,range:e,single:r})},r.setRowHeight=function(t,e){var r=this.store.getTableData();r[t-1].forEach((function(t){t.celldimension.height=e})),this.populate(r)},r.setColWidth=function(t,e){var r=this.store.getTableData();r.forEach((function(r){r[t-1].celldimension.width=e})),this.populate(r)},r.getCellValue=function(t,e){return BI.isNumber(t)&&BI.isNumber(e)?this.getTableCellValueByPosition(e+1,t+1):this.getTableCellValueByPosition(t,e)},r.getCellVal=function(t,e){return this.getTableCellValueByPosition(t,e)},r.getTableCellValueByPosition=function(t,e){var r=this.store.getTableData(),n=BI.isNumber(t)&&BI.isNumber(e)?{x:e-1,y:t-1}:BI.isString(t)?Hy(t):void 0;if(n&&r)return Ly(r[n.y][n.x])},r.verifyCellControllers=function(){var t=this.stickerManagers.get(Vi.NAME);if(!t)return[];var e=[];return t.getWidgets().forEach((function(t){var r=t.getValidation();r.result||e.push({id:t.attr("cellId"),message:r.errorMsg})})),e},r.getDirtyCells=function(t){var e=!(0<arguments.length&&void 0!==t)||t,r=this.store.getTableData(),n=[];return r.forEach((function(t){t.forEach((function(t){if(t.dirty){var e=Ry(t.value)||{value:"",xtype:""},r=e.value,i=e.xtype,o=void 0===i?"":i;n.push({col:t.position.x,row:t.position.y,value:r,xtype:o||"S",frs:!!t.frs})}}))})),e&&this.clearDirtyCells(),n},r.clearDirtyCells=function(){this.store.getTableData().forEach((function(t){t.forEach((function(t){t.dirty&&(t.dirty=!1)}))}))},r.getEditedCells=function(){var t=[];return this.store.getTableData().forEach((function(e){e.forEach((function(e){e.edited&&t.push(e)}))})),t},r.clearEditedCells=function(){this.store.getTableData().forEach((function(t){t.forEach((function(t){t.edited&&(t.edited=!1)}))}))},r.setErrorCells=function(t){var e=this.store.getTableData(),r=t.reduce((function(t,e){var r=e.id,n=e.message;return t.set(r,n),t}),new Map);return e.forEach((function(t){t.forEach((function(t){if(!BI.isNull(t.id)){var e=r.get(t.id);e&&(t.errorMsg=e)}}))})),[]},r.getErrorCells=function(){var t=this.store.getTableData(),e=[];return t.forEach((function(t){t.forEach((function(t){BI.isNull(t.id)||BI.isNotNull(t.errorMsg)&&e.push(t)}))})),e},r.clearErrorCells=function(){return this.store.getTableData().forEach((function(t){t.forEach((function(t){t.errorMsg&&(t.errorMsg=void 0)}))})),[]},r.setCellValue=function(t,e,r){return BI.isNumber(t)&&BI.isNumber(e)?this.setTableCellValueByPosition(e+1,t+1,r):this.setTableCellValueByPosition(t,e,r)},r.setCellVal=function(t,e,r){return this.setTableCellValueByPosition(t,e,r)},r.setTableCellValueByPosition=function(t,e,r){var n=BI.isNumber(t)&&BI.isNumber(e)?{x:e-1,y:t-1}:BI.isString(t)?Hy(t):void 0,i=BI.isNaN(r)?"":BI.isNumber(t)?null!=r?r:"":null!=r?r:"".concat(null!=e?e:"");return this.setCellValueByPosition(i,n)},r.setCellValueByPosition=function(t,e){return!!e&&(this.emitCellEvent("CELL_SET_VALUE",{value:t,x:e.x,y:e.y}),!0)},r.beforeDestroy=function(){this.stopMarquee()},r.highlightErrorCell=function(t,e){var r=this.stickerManagers.get(Mi.NAME);null==r||r.getWidgets().forEach((function(t){t.invisible()}));var n=null==r?void 0:r.getWidgetByName(t);e&&(null==n||n.setText(e)),null==n||n.visible()},r.reLayout=function(){this.changeSize(),this.changeBackground("paperBackground")},r.changeSize=function(){this.background.setWidth(this.model.paperSetting.paperWidth),this.background.setHeight(this.model.paperSetting.paperHeight)},r.changeBackground=function(t){var e=this.sheetStyles.getRule(t);!function(t){BI.keys(BI.get(t,"style")).forEach((function(e){t.prop(e,"")}))}(e),function(t,e){BI.keys(e).forEach((function(r){t.prop(r,BI.get(e,r))}))}(e,this.model[t])},r.emitCellEvent=function(t,e){var r;return Promise.resolve(null===(r=this.tableCellGenerator.getListenerByName(t))||void 0===r?void 0:r.action(e))},r.whellScrollY=function(t){var e=this.sheet.sheet.whellScroll(0,t),r=e.maxScrollY,n=e.scrollY;t<0?0===n&&this.sheet.sheet.whellScroll(0,r):n>=Math.floor(r)&&this.sheet.sheet.whellScroll(0,0-r)},r.adjustCell2Visible=function(t){var e=this.getCellPositionById(t);if(e){var r=this.getCellPosition(e.row+1,e.column+1);this.sheet.sheet.whellByBounds(r);var n=this.stickerManagers.get(Mi.NAME);null==n||n.adjustErrorTip(t,r,this.sheet.sheet.getBounds())}},r.whellScrollX=function(t){var e=this.sheet.sheet.whellScroll(t,0),r=e.maxScrollX,n=e.scrollX;t<0?0===n&&this.sheet.sheet.whellScroll(r,0):n>=Math.floor(r)&&this.sheet.sheet.whellScroll(0-r,0)},r.getCellValueById=function(t){return Ly(this.getCellById(t))},r.getCellById=function(t){var e=void 0;return this.store.getTableData().some((function(r){return r.some((function(r){return"".concat(r.id||"").toUpperCase()===t.toUpperCase()&&(e=r,!0)}))})),e},r.getCellPositionById=function(t){var e,r=null===(e=this.getCellById(t))||void 0===e?void 0:e.position;return r?{row:r.y,column:r.x}:void 0},r.getTDRow=function(t){var e=this.getCellPositionById(t);return null==e?void 0:e.row},r.hideSelectFrame=function(){var t=this.stickerManagers.get(Vi.NAME);t&&(null==t||t.setHideSelectFrameSign(!0))},r.getCell=function(t,e){var r=this.store.getTableData()[+t-1].find((function(t){return t.position.x===+e-1&&t.value}));return BI.isNull(r)?void 0:new Cm(this.tableContext4Api,r)},r.getRow=function(t){var e=this.store.getTableData();if(!BI.isNull(e[t-1])){var r=e[t-1].filter((function(t){return t.value}));return BI.size(r)?new Vm(this.tableContext4Api,{index:t,size:r[0].celldimension.height,unifiedPosition:r[0].position.y}):void 0}},r.getColumn=function(t){var e=this.store.getTableData().reduce((function(e,r){var n=r.find((function(e){return e.value&&e.position.x===t-1}));return BI.isNull(n)||e.push(n),e}),[]);return BI.size(e)?new _m(this.tableContext4Api,{index:t,size:e[0].celldimension.width,unifiedPosition:e[0].position.x}):void 0},r.getRowCount=function(){return this.store.getTableData().reduce((function(t,e){return t+(BI.isNull(e.some((function(t){return t.value})))?0:1)}),0)},r.getColumnCount=function(){return this.store.getTableData().reduce((function(t,e){return Math.max(t,e.filter((function(t){return t.value})).length)}),0)},r.createCustomEventHandler=function(t,e){var r=this;return function(n){function i(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wm(zm(e=n.call.apply(n,[this].concat(i))||this),"name","".concat(t,"_CUSTOM_EVENT")),Wm(zm(e),"eventNames",[t]),Wm(zm(e),"merger",""),e}return Hm(i,n),i.prototype.action=function(t){var n=t.e,i=t.cell;if(!BI.isNull(i)){var o=i.position,a=o.x,c=o.y;e(n,r.getCell(c+1,a+1))}},i}(Ur)},r.addMouseEventHandler=function(t,e){this.store.addHandler(this.createCustomEventHandler(t,e))},r.scrollTo=function(t,e){t&&this.whellScrollX(t),e&&this.whellScrollY(e)},r.getScrollOffset=function(){var t=this.sheet.sheet.getBounds();return{x:t.left,y:t.top}},r.destroyed=function(){var t;null===(t=this.sheet)||void 0===t||t.tear()},r.disableContextMenu=function(t){this.isDisableContextMenu=t},e}(BI.Widget),"xtype","report.table"),Wm(Am,"EVENT_LOADED","EVENT_LOADED"),Wm(Am,"EVENT_FETCH_DATA","EVENT_FETCH_DATA"),Wm(Am,"EVENT_SELECT_CELL","EVENT_SELECT_CELL"),Nm=Am))||Nm)||Nm;function Gm(t,e){return(Gm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}var Um=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return function(t,e,r){e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(e=t.call.apply(t,[this].concat(n))||this),"eventNames",["CELL_DOUBLE_CLICK","CELL_CLICK"]),e}return function(t,e){t.prototype=Object.create(e.prototype),Gm(t.prototype.constructor=t,e)}(e,t),e}(wg);function Ym(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return Xm(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xm(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){c=!0,o=t},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw o}}}}function Xm(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qm(t,e,r,n,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,i)}function Km(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){qm(o,n,i,a,c,"next",t)}function c(t){qm(o,n,i,a,c,"throw",t)}a(void 0)}))}}function $m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jm(t,e){return(Jm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return function(t,e){for(var r=Object.getOwnPropertyNames(e),n=0;n<r.length;n++){var i=r[n],o=Object.getOwnPropertyDescriptor(e,i);o&&o.configurable&&void 0===t[i]&&Object.defineProperty(t,i,o)}}(t,e),t})(t,e)}function Qm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Zm=function(t){function e(e,r){var n;return Qm($m(n=t.call(this,e)||this),"eventNames",["CELL_NODE_CLICK"]),Qm($m(n),"name","NODE_CLICK"),Qm($m(n),"merger","uniqe"),Qm($m(n),"cache",new Map),Qm($m(n),"loading",void 0),Qm($m(n),"effectEntryMap",new Map),Qm($m(n),"nodeDataFetcher",Km(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",void 0);case 1:case"end":return t.stop()}}),t)})))),n.nodeDataFetcher=(null==r?void 0:r.nodeDataFetcher)||n.nodeDataFetcher,n}!function(t,e){t.prototype=Object.create(e.prototype),Jm(t.prototype.constructor=t,e)}(e,t);var r=e.prototype;return r.setEffectEntryMap=function(t){var e=this;(BI.isArray(t)?t:[t]).forEach((function(t){var r=t.key,n=t.value;e.effectEntryMap.set(r,n)}))},r.setCache=function(t){var e=this;(BI.isArray(t)?t:[t]).forEach((function(t){var r=t.value,n=t.key;e.cache.set(n,r)}))},r.attach=function(){var t=this;this.loading||this.externalContext.attach({type:BI.AbsoluteLayout.xtype,items:[{el:{type:Ce.xtype,ref:function(e){t.loading=e},cls:"transparent"},top:0,left:0,right:0,bottom:0}]})},r.action=function(){var t=Km(regeneratorRuntime.mark((function t(e){var r,n,i,o,a,c,s,u,l,f,h,p,d,y,v,g,b,m,w,O,x,E,j,S,C,P,I,B;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.open,n=e.id,i=e.eventName,o=e.layer,this.attach(),a=this.externalContext.getTableData(),i){t.next=12;break}if(a.some((function(t){return t.some((function(t){return t.id===n&&(c=t,!0)}))})),c){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,this.getPageResults(a,c,r);case 9:a=t.sent,t.next=136;break;case 12:if("NODE_COLLAPSE"!==i){t.next=56;break}s=0,a.forEach((function(t){t.forEach((function(t){var e=t.indent;BI.isNotNull(e)&&(s=Math.max(s,e))}))})),u=s;case 16:if(!(u>=Math.max(s-o,0))){t.next=54;break}l=Ym(a),t.prev=18,l.s();case 20:if((f=l.n()).done){t.next=43;break}h=f.value,p=Ym(h),t.prev=23,p.s();case 25:if((d=p.n()).done){t.next=33;break}if((y=d.value).id&&y.indent===u&&y.open===r)return t.next=30,this.getPageResults(a,y,r);t.next=31;break;case 30:a=t.sent;case 31:t.next=25;break;case 33:t.next=38;break;case 35:t.prev=35,t.t0=t.catch(23),p.e(t.t0);case 38:return t.prev=38,p.f(),t.finish(38);case 41:t.next=20;break;case 43:t.next=48;break;case 45:t.prev=45,t.t1=t.catch(18),l.e(t.t1);case 48:return t.prev=48,l.f(),t.finish(48);case 51:u--,t.next=16;break;case 54:t.next=136;break;case 56:if("NODE_COLLAPSE_TO"!==i){t.next=93;break}v=Ym(a),t.prev=58,v.s();case 60:if((g=v.n()).done){t.next=83;break}b=g.value,m=Ym(b),t.prev=63,m.s();case 65:if((w=m.n()).done){t.next=73;break}if((O=w.value).id&&O.indent===o&&O.open===r)return t.next=70,this.getPageResults(a,O,r);t.next=71;break;case 70:a=t.sent;case 71:t.next=65;break;case 73:t.next=78;break;case 75:t.prev=75,t.t2=t.catch(63),m.e(t.t2);case 78:return t.prev=78,m.f(),t.finish(78);case 81:t.next=60;break;case 83:t.next=88;break;case 85:t.prev=85,t.t3=t.catch(58),v.e(t.t3);case 88:return t.prev=88,v.f(),t.finish(88);case 91:t.next=136;break;case 93:x=0;case 94:if(!(x<o)){t.next=136;break}E=!1,j=Ym(a),t.prev=97,j.s();case 99:if((S=j.n()).done){t.next=123;break}C=S.value,P=Ym(C),t.prev=102,P.s();case 104:if((I=P.n()).done){t.next=113;break}if((B=I.value).id&&B.indent===x&&B.open===r)return t.next=109,this.getPageResults(a,B,r);t.next=110;break;case 109:a=t.sent;case 110:E=E||!!BI.isNotNull(B.indent)&&B.indent>=x;case 111:t.next=104;break;case 113:t.next=118;break;case 115:t.prev=115,t.t4=t.catch(102),P.e(t.t4);case 118:return t.prev=118,P.f(),t.finish(118);case 121:t.next=99;break;case 123:t.next=128;break;case 125:t.prev=125,t.t5=t.catch(97),j.e(t.t5);case 128:return t.prev=128,j.f(),t.finish(128);case 131:if(E){t.next=133;break}return t.abrupt("break",136);case 133:x++,t.next=94;break;case 136:this.externalContext.populate(a),this.loading.invisible();case 138:case"end":return t.stop()}}),t,this,[[18,45,48,51],[23,35,38,41],[58,85,88,91],[63,75,78,81],[97,125,128,131],[102,115,118,121]])})));return function(e){return t.apply(this,arguments)}}(),r.getPageResults=function(){var t=Km(regeneratorRuntime.mark((function t(e,r,n){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.id){t.next=2;break}return t.abrupt("return",e);case 2:if(n){t.next=8;break}return t.next=5,this.expandRow(e,r.id);case 5:i=t.sent,t.next=9;break;case 8:i=this.collapseRow(e,r.id);case 9:return r.open=!n,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t,this)})));return function(e,r,n){return t.apply(this,arguments)}}(),r.getNodeData=function(){var t=Km(regeneratorRuntime.mark((function t(e){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loading.visible(),r=this.cache.get(e))return this.cache.delete(e),t.abrupt("return",r);t.next=5;break;case 5:return t.next=7,this.nodeDataFetcher({layer:e});case 7:if(n=t.sent){t.next=10;break}return t.abrupt("return",[]);case 10:return n.effectEntries&&this.effectEntryMap.set(e,n.effectEntries),t.abrupt("return",n.pageResult);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.expandRow=function(){var t=Km(regeneratorRuntime.mark((function t(e,r){var n,i,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=tw,t.t1=e,t.next=4,this.getNodeData(r);case 4:return t.t2=t.sent,t.t3=r,n=(0,t.t0)(t.t1,t.t2,t.t3),i=ew(e,n),o=this.getEffectEntries(n,r),a=o.map((function(t){return t.targetId})),i.forEach((function(t){t.forEach((function(t){t.id&&a.includes(t.id)&&o.forEach((function(e){var r=e.targetId,n=e.effectRows;t.id===r&&(t.position.rowSpan=(t.position.rowSpan||1)+n)}))}))})),t.abrupt("return",i);case 12:case"end":return t.stop()}}),t,this)})));return function(e,r){return t.apply(this,arguments)}}(),r.collapseRow=function(t,e){var r=function t(e,r){var n,i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=[],a=[],c=[];if(e.some((function(t){return t.some((function(t){return!(!t.id||t.id!==r||(n=t,0))}))})),!n)return{expanded:[],unexpanded:e};var s=new Set,u=new Set;e.forEach((function(t){t.forEach((function(t){if(n.id&&t.pId===n.id&&u.add(t.pId),!(t.position.y!==n.position.y||t.position.x<n.position.x)&&t.position.rowSpan)for(var e=1;e<t.position.rowSpan;e++)s.add(n.position.y+e)}))})),e.forEach((function(t){t.some((function(t){return t.id===r}))?a.push(t):(t.some((function(t){return t.pId&&u.has(t.pId)}))&&t.some((function(t){return!(!BI.isNotNull(t.id)||!BI.isNotNull(t.pId)||(o=BI.uniq(o.concat([t.id])),0))})),a.push(t))})),o.forEach((function(e){var r=t(a,e,!1);a=r.unexpanded,c=c.concat(r.expanded)})),a=a.filter((function(t){var e=t.some((function(t){return t.id&&o.includes(t.id)}));return e&&c.push(t),!e}));var l=[];return a.forEach((function(t){t.some((function(t){return s.has(t.position.y)}))&&!i?c.push(t):l.push(t)})),{unexpanded:l,expanded:c}}(t,e),n=r.expanded,i=r.unexpanded,o=rw(n,"y");i.forEach((function(t){t.forEach((function(t){var e=t.position.y;o<=e&&(t.position.y-=n.length)}))})),this.cache.set(e,n);var a=this.getEffectEntries(n,e),c=a.map((function(t){return t.targetId}));return i.forEach((function(t){t.forEach((function(t){t.id&&c.includes(t.id)&&a.forEach((function(e){var r=e.targetId,n=e.effectRows;t.id===r&&t.position.rowSpan&&(t.position.rowSpan-=n)}))}))})),i},r.getEffectEntries=function(t,e){var r=this,n=[e];return t.forEach((function(t){t.forEach((function(t){t.id&&t.open&&n.push(t.id)}))})),n.reduce((function(t,e){return t.concat(r.effectEntryMap.get(e)||[])}),[])},e}(Ur);function tw(t,e,r){var n=new Set,i=t.find((function(t){return t.map((function(t){return t.id})).includes(r)}));if(!i)return e;var o=!1,a=BI.first(i).position.y;i.forEach((function(t){(o=o||t.id===r)&&(a=Math.max(a,t.position.y+(t.position.rowSpan||1)-1))})),t.forEach((function(t){var e=BI.first(t).position.y;e<=a&&n.add(e)}));var c=rw(e,"y")-n.size;return e.forEach((function(t){t.forEach((function(t){t.position.y-=c}))})),e}function ew(t,e){var r=rw(e,"y");return t.forEach((function(t){t.forEach((function(t){var n=t.position.y;r<=n&&(t.position.y+=e.length)}))})),t.concat(e)}function rw(t,e){return t.reduce((function(t,r){return Math.min(r.reduce((function(t,r){return Math.min(t,r.position[e])}),1/0),t)}),1/0)}r.d(e,"createSheet",(function(){return cw})),r.d(e,"tableCellProvider",(function(){return fg})),r.d(e,"tableCellTypeProvider",(function(){return lg})),r.d(e,"Transform2CellArgs",(function(){})),r.d(e,"transformCellTypeByOpts",(function(){return ug})),r.d(e,"EventCellWidgetChangeArgs",(function(){})),r.d(e,"FilterTableCellEventArgs",(function(){})),r.d(e,"ImageCell",(function(){return Kv})),r.d(e,"ImageTableCell",(function(){return $v})),r.d(e,"TextTableCell",(function(){return og})),r.d(e,"AbstractCellControllerHoc",(function(){return Zy})),r.d(e,"tableCellValueTransformerProvider",(function(){return Tg})),r.d(e,"NormalCellValueTransformer",(function(){return Pg})),r.d(e,"HandlerConfig",(function(){})),r.d(e,"TriggerType",(function(){})),r.d(e,"HandlerExternalContext",(function(){})),r.d(e,"tableClickHandlerProvider",(function(){return vb})),r.d(e,"AbstractCellHandler",(function(){return Ur})),r.d(e,"WidgetActiveWithClickHandler",(function(){return Um})),r.d(e,"WidgetActiveHandler",(function(){return wg})),r.d(e,"NodeCellClickHandler",(function(){return Zm})),r.d(e,"ResizeOption",(function(){})),r.d(e,"resizerProvider",(function(){return um})),r.d(e,"AbstractResizer",(function(){return zb})),r.d(e,"FullPaperResizer",(function(){return Wb})),r.d(e,"FullTableResizer",(function(){return Gb})),r.d(e,"FullTableLimitResizer",(function(){return Yb})),r.d(e,"HorizontalPaperResizer",(function(){return qb})),r.d(e,"HorizontalTableResizer",(function(){return $b})),r.d(e,"HorizontalTableLimitResizer",(function(){return Qb})),r.d(e,"NoneResizer",(function(){return tm})),r.d(e,"NoneTableResizer",(function(){return im})),r.d(e,"AxisSheet",(function(){return Fm})),r.d(e,"CellControllerManager",(function(){return Vi})),r.d(e,"CellErrorTipManager",(function(){return Mi})),r.d(e,"CellCacheManager",(function(){return Cv})),r.d(e,"getImgLayout",(function(){return zy})),r.d(e,"transformCellCv",(function(){return Fy})),r.d(e,"CellTooltipArgs",(function(){})),r.d(e,"CellType",(function(){})),r.d(e,"DataTemplate",(function(){})),r.d(e,"Frozen",(function(){})),r.d(e,"PageResult",(function(){})),r.d(e,"ReportSettingDetail",(function(){})),r.d(e,"TableDirtyCell",(function(){})),r.d(e,"TableEventCellSelectTextArgs",(function(){})),r.d(e,"TableRadiusRangeArgs",(function(){})),r.d(e,"XCelladjustattr",(function(){})),r.d(e,"XCellPosition",(function(){})),r.d(e,"XCellSortHeader",(function(){})),r.d(e,"XCellStyle",(function(){})),r.d(e,"XCellValue",(function(){})),r.d(e,"XReportFitAttr",(function(){})),r.d(e,"XLegalTableData",(function(){})),r.d(e,"XTableData",(function(){}));var nw=["container"];function iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ow(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iw(Object(r),!0).forEach((function(e){aw(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function aw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cw(t){var e=t.container,r=function(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],0<=e.indexOf(r)||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}(t,nw);return BI.createWidget(ow(ow({},r),{},{type:Fm.xtype,element:e}))}}]);
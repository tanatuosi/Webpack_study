{"version":3,"file":"report_date.js","sourceRoot":"","sources":["../../../../src/modules/datetime/report_date/report_date.ts"],"names":[],"mappings":"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","sourcesContent":["import { getFormatType, parseDateTime, transformFormat } from './report_date.service';\n\nexport class ReportDate {\n    private format?: string;\n    private date: Date\n\n    public isLegal = false;\n    public isDateFormat = true;\n    public isTimeFormat = true;\n    public isYearFormat = true;\n\n    public constructor(date: DateType, format?: string) {\n        this.format = transformFormat(format || '');\n        if (this.format) {\n            const { isDateFormat, isTimeFormat, isYearFormat } = getFormatType(this.format);\n            this.isDateFormat = isDateFormat;\n            this.isTimeFormat = isTimeFormat;\n            this.isYearFormat = isYearFormat;\n        }\n        const { date: reportDate, isLegal } = this.formatDate(date);\n        this.date = reportDate;\n        this.isLegal = isLegal;\n    }\n\n    public getTime() {\n        return this.date.getTime();\n    }\n\n    public toString(format = ''): string {\n        return BI.print(this.date, transformFormat(format));\n    }\n\n    public getValue() {\n        return this.date;\n    }\n\n    public toJSON() {\n        return {\n            year: this.date.getFullYear(),\n            month: this.date.getMonth() + 1,\n            day: this.date.getDate(),\n            hour: this.date.getHours(),\n            minute: this.date.getMinutes(),\n            second: this.date.getSeconds(),\n        };\n    }\n\n    public setFullYear(year: number) {\n        this.date.setFullYear(year);\n        \n        return this;\n    }\n\n    public setMonth(month: number) {\n        this.date.setMonth(month - 1);\n        \n        return this;\n    }\n\n    public setDay(date: number) {\n        this.date.setDate(date);\n        \n        return this;\n    }\n\n    public setHours(hours: number) {\n        this.date.setHours(hours);\n        \n        return this;\n    }\n\n    public setMinutes(minutes: number) {\n        this.date.setMinutes(minutes);\n        \n        return this;\n    }\n\n    public setSeconds(sec: number) {\n        this.date.setSeconds(sec);\n        \n        return this;\n    }\n\n    private formatDate(date: DateType) {\n        return parseDateTime(date, this.format);\n    }\n}\n\nexport type DateType = string | number | { date_milliseconds: number; } | { __time__: number; } | Date | undefined\n\nexport {\n    transformFormat,\n    getFormatType,\n};\n"]}
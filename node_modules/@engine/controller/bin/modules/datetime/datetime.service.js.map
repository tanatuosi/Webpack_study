{"version":3,"file":"datetime.service.js","sourceRoot":"","sources":["../../../src/modules/datetime/datetime.service.ts"],"names":[],"mappings":"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","sourcesContent":["import { getFormatType, ReportDate } from './report_date/report_date';\nimport jss from 'jss';\nimport jssGlobal from 'jss-plugin-global';\nimport jssNested from 'jss-plugin-nested';\n\n/*\n * @Author: iapyang\n * @Maintainers: Teller\n */\nimport { YearMonthCombo } from './yearmonth/combo.yearmonth';\nimport { ParameterDatetime } from './datetime';\n\n\n/**\n * 转换时间控件对象值为毫秒数\n * @param dateValue 时间控件对象值\n */\nexport function transformDateValue2DateMs(dateValue: {\n    type: 1 | 2;\n    value: {\n        year: number;\n        month: number;\n        day?: number;\n        hour?: number;\n        minute?: number;\n        second?: number;\n    };\n}): number {\n    if (dateValue.type === BI.DynamicDateCombo.Dynamic) {\n        return (BI.DynamicDateHelper.getCalculation(dateValue.value) as Date).getTime();\n    }\n\n    const { year, month = 1, day = 1, hour = 0, minute = 0, second = 0 } = dateValue.value;\n\n    return BI.getDate(year, month - 1, day, hour, minute, second)\n        .getTime();\n}\n\n/**\n * 根据日期格式获得日期控件类型\n * @param format 格式\n */\nexport function getControlTypeByFormat(format: string): string {\n    const { isDateFormat, isTimeFormat, isYearFormat } = getFormatType(format);\n\n    return isYearFormat ? BI.DynamicYearCombo.xtype :\n        isTimeFormat\n            ? isDateFormat\n                ? BI.DynamicDateTimeCombo.xtype : BI.TimeCombo.xtype\n            : isDateFormat\n                ? BI.DynamicDateCombo.xtype : YearMonthCombo.xtype;\n}\n\n/**\n * 根据Format类型获取时间范围\n * REPORT-80190: \"本月\"和\"今年\"按钮只有当天日期在 [minDate, maxDate] 范围内时才生效\n * @param startDate 外部传入的startDate\n * @param endDate 外部传入的endDate\n * @param format 格式\n */\nexport function getDateRangeByFormat(startDate: string | Date | undefined, endDate: string | Date | undefined, format: string): { minDate: string | undefined; maxDate: string | undefined } {\n    let minDate: string | undefined = undefined, maxDate: string | undefined = undefined;\n    const { isDateFormat, isTimeFormat, isYearFormat } = getFormatType(format);\n    const startReportDate = new ReportDate(startDate, format);\n    const endReportDate = new ReportDate(endDate, format);\n    if (isYearFormat) { // 年\n        startReportDate.isLegal && (minDate = `${startReportDate.toString('yyyy')}-01-01`);\n        endReportDate.isLegal && (maxDate = `${endReportDate.toString('yyyy')}-12-31`);\n    } else if (!isTimeFormat && !isDateFormat) { // 年月\n        startReportDate.isLegal && (minDate = `${startReportDate.toString('yyyy-MM')}-01`);\n        if (endReportDate.isLegal) {\n            const endYear = endReportDate.getValue().getFullYear();\n            const endMonth = endReportDate.getValue().getMonth() + 1;\n            maxDate = `${endReportDate.toString('yyyy-MM')}-${endMonth === 2 ? BI.isLeapYear(endYear) ? 29 : 28 : [4, 6, 9, 11].includes(endMonth) ? 30 : 31}`;\n        }\n    } else if (isTimeFormat) { // 含时间\n        startReportDate.isLegal && (minDate = `${startReportDate.toString('yyyy-MM-dd HH:mm:ss')}`);\n        startReportDate.isLegal && (maxDate = `${endReportDate.toString('yyyy-MM-dd HH:mm:ss')}`);\n    } else {\n        minDate = transform2YMDFormat(startDate, format);\n        maxDate = transform2YMDFormat(endDate, format);\n    }\n    \n    return { minDate, maxDate };\n}\n\n/**\n * 将日期毫秒数转为格式所要求的字符串\n * @param milliseconds 毫秒数或者2010-07这样的字符串\n * @param format 格式\n */\nexport function transformDateMs2String(milliseconds: number | string, format: string): string {\n    if (BI.isNumber(milliseconds)) {\n        return new ReportDate({ date_milliseconds: milliseconds }).toString(format);\n    }\n\n    return new ReportDate(milliseconds).toString(format);\n}\n\n/**\n * 转换time_combo控件对象值为毫秒数\n * @param milliseconds 毫秒数\n */\nexport function transformTimeValue2DateMs(timeValue: {\n    hour: number;\n    minute: number;\n    second: number;\n}, reportDate: ReportDate): number {\n    const { hour, minute, second } = timeValue;\n\n    return reportDate\n        .setHours(hour)\n        .setMinutes(minute)\n        .setSeconds(second)\n        .getTime();\n}\n\n/**\n * 将字符串格式转换为xxxx-xx-xx\n * @param date 日期字符串\n * @param format 格式\n */\nexport function transform2YMDFormat(date: string | undefined | Date, format: string): string | undefined {\n    const reportDate = new ReportDate(date, format);\n    if (!reportDate.isLegal) {\n        return undefined;\n    }\n\n    return reportDate.toString('yyyy-MM-dd');\n}\n\n/**\n * 设置下拉框下拉图标字体大小样式\n * @param baseCls 基础样式class\n * @param dep 字体大小、宽高\n * @returns 返回新的样式class\n */\nexport function setDatetimeComboFontSize(baseCls: string, dep: {\n    fontSize: number;\n    width: number;\n    height: number;\n}): string {\n    // fontsize 12px对应16px的图标大小\n    const ratio = 16 / 12;\n\n    const cls = `${baseCls}-${BI.UUID()}`;\n\n    const selector = `.${cls} .bi-combo .bi-trigger`;\n\n    const { fontSize, width, height } = dep;\n\n    const scale = fontSize / 12;\n\n    // 下拉按钮的宽度，跟随字体大小变化，字体12px时宽度24px\n    const triggerWidthStyle = `${scale * 24}px !important`;\n\n    jss.use(jssGlobal(), jssNested());\n\n    jss.createStyleSheet({\n        '@global': {\n            [`.${cls} .bi-trigger-icon-button.bi-icon-button`]: {\n                width: triggerWidthStyle,\n                'font-size': `${Math.min(fontSize * ratio, width, height)}px`,\n            },\n            [selector]: {\n                'font-size': `${fontSize}px`,\n            },\n        },\n    })\n        .attach();\n\n    return cls;\n}\n\nexport function isLegal(date: ReportDate, format: string, start?: string, end?: string) {\n    if (!date.isLegal) {\n        return false;\n    }\n    const reportDate = new ReportDate(date.toString(format), format);\n    const startDate = new ReportDate(start, format);\n    const endDate = new ReportDate(end, format);\n\n    if (start && startDate.isLegal && new ReportDate(start, format).getTime() > reportDate.getTime()) {\n        BI.Msg.toast(BI.i18nText('Fine-Report_Value_Less_Than', start));\n\n        return false;\n    }\n\n    if (end && endDate.isLegal && new ReportDate(end, format).getTime() < reportDate.getTime()) {\n        BI.Msg.toast(BI.i18nText('Fine-Report_Value_More_Than', end));\n\n        return false;\n    }\n\n    return true;\n}\n\n\n/**\n * 日期转化为控件所需的格式\n */\nexport function transform2DateComboValue(date: ReportDate, format: string, start?: string, end?: string) {\n    if (!isLegal(date, format, start, end)) {\n        return undefined;\n    }\n\n    const isTimeValue = !date.isDateFormat && date.isTimeFormat;\n    const dateValue = date.toJSON();\n\n    return isTimeValue ? {\n        hour: dateValue.hour,\n        minute: dateValue.minute,\n        second: dateValue.second,\n    } : {\n        type: 1,\n        value: dateValue,\n    };\n}\n\nexport function setDatetimeComboStyle({ opacity, background, color, border, ['border-radius']: borderRadius }: {\n    opacity?: number;\n    background?: string;\n    color?: string;\n    border?: string;\n    'border-radius'?: string;\n}) {\n    jss.use(jssGlobal(), jssNested());\n\n    const cls = `${ParameterDatetime.BASE_CLS}-${BI.UUID()}`;\n\n    const selector = `.${cls}`;\n\n    jss.createStyleSheet({\n        '@global': {\n            [`${selector}`]: {\n                opacity,\n                background,\n            },\n            [`${selector} .bi-card`]: {\n                background,\n                color,\n            },\n            [`${selector} .bi-text`]: {\n                color,\n            },\n            [`${selector} .bi-icon-button`]: {\n                color,\n            },\n            [`${selector} .bi-border`]: {\n                border,\n                'border-radius': borderRadius,\n            },\n        },\n    })\n        .attach();\n\n    return cls;\n}\n\nexport function setDatetimeComboPopupStyle({ itemHeight, fontSize }: {\n    itemHeight: string;\n    fontSize: string;\n}) {\n    jss.use(jssGlobal(), jssNested());\n\n    const cls = `${ParameterDatetime.BASE_CLS}-${BI.UUID()}`;\n\n    const selector = `.${cls}`;\n\n    jss.createStyleSheet({\n        '@global': {\n            [`${selector} .bi-calendar .bi-grid`]: {\n                height: `${parseInt(itemHeight, 10) / 24 * 44}px !important`,\n            },\n            [`${selector} .bi-calendar .bi-grid .bi-label`]: {\n                'line-height': `${itemHeight} !important`,\n                'font-size': `${fontSize} !important`,\n            },\n            [`${selector} .bi-calendar .bi-t .bi-abs`]: {\n                height: `${itemHeight} !important`,\n            },\n            [`${selector} .bi-calendar .bi-t .bi-abs >.bi-basic-button`]: {\n                height: `${itemHeight} !important`,\n            },\n            [`${selector} .bi-calendar .bi-t .bi-abs .bi-text`]: {\n                'font-size': `${fontSize} !important`,\n            },\n        },\n    })\n        .attach();\n\n    return cls;\n}\n"]}
{"version":3,"file":"label.js","sourceRoot":"","sources":["../../../src/modules/label/label.ts"],"names":[],"mappings":"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","sourcesContent":["import { WIDTH, HEIGHT } from '../controller.constants';\nimport { setLabelStyle, setParamLabelStyles } from './label.service';\nimport { shortcut, click } from '@engine/core';\nimport { ParameterControllerBasicProps4Item, ParameterControllerBasicProps4Render } from '../controller';\nimport './label.less';\nimport { AbstractParameterControllerWidget, ControllerValidation } from '../controller.abstract';\nimport { Text } from '@fui/core';\n\n@shortcut()\nexport class ParameterLabel extends AbstractParameterControllerWidget {\n    public static xtype = 'report.main.parameter_container.controller.label';\n\n    public static BASE_CLS = 'report-main-parameter-container-controller-label';\n\n    private label: Text;\n\n    /**\n     * 对外接口\n     */\n    public editComp: Text['element'];\n\n    public props: ParamLabelProps = {\n        baseCls: ParameterLabel.BASE_CLS,\n        $testId: ParameterLabel.BASE_CLS,\n        color: 'rgb(0,0,0)',\n        fontSize: 12,\n        fontfamily: '',\n        decoration: 'none',\n        textColor: '0,0,0,1',\n        textalign: 'left',\n        verticalcenter: false,\n        value: '',\n        disabled: false,\n        invisible: false,\n        needSubmit: false,\n        width: WIDTH,\n        height: HEIGHT,\n        wrap: false,\n        fontweight: undefined,\n        fontstyle: undefined,\n        allowBg: true,\n    }\n\n    @click()\n    public render() {\n        const { width, height, value, wrap, verticalcenter, textalign, fontfamily, fontSize, decoration, color, fontweight, fontstyle } : ParamLabelProps = this.options;\n\n        const whiteSpace = wrap ? 'normal' : 'nowrap';\n\n        const labelCls = setParamLabelStyles(ParameterLabel.BASE_CLS, {\n            fontFamily: fontfamily,\n            fontSize,\n            decoration,\n            color,\n            fontWeight: fontweight,\n            fontStyle: fontstyle,\n        });\n\n        const baseProps = {\n            ref: (_ref: Text) => {\n                this.label = _ref;\n\n                this.editComp = _ref.element[0];\n            },\n            cls: `${labelCls}`,\n            whiteSpace,\n            value: `${value}`,\n            textWidth: width,\n            textAlign: textalign,\n        };\n\n        return verticalcenter ? {\n            type: BI.CenterAdaptLayout.xtype,\n            width,\n            height,\n            scrollx: true,\n            items: [{\n                type: BI.Text.xtype,\n                width,\n                ...baseProps,\n            }],\n        } : {\n            type: BI.VerticalLayout.xtype,\n            width,\n            height,\n            scrolly: false,\n            scrollable: false,\n            items: [{\n                type: BI.Text.xtype,\n                ...baseProps,\n            }],\n        };\n    }\n\n    public async setControllerValue(v: any, fire?: boolean) {\n        this.label.setValue(v);\n\n        !this.silence && fire && this.fireEvent('change');\n    }\n\n    public preGetValidation(): ControllerValidation {\n        return { result: true };\n    }\n\n    public postGetValidation(): ControllerValidation {\n        return { result: true };\n    }\n\n    public postValidateAndToast() {\n        return true;\n    }\n\n    public getValue() {\n        return this.label.getValue();\n    }\n\n    public setInteractValue(v: string) {\n        this.setControllerValue(v);\n    }\n\n    public reset() {}\n\n    public resize(width: number, height: number) {\n        const restoreValue = this.label.getValue();\n\n        super.resize(width, height);\n\n        this.label.setValue(restoreValue);\n    }\n\n    public setFontSize(fontSize: number) {\n        this.options.fontSize = fontSize;\n    }\n\n    public setStyle(styles: Parameters<AbstractParameterControllerWidget['setStyle']>[0]) {\n        this.label.element.addClass(setLabelStyle(styles));\n    }\n\n    public getText() {\n        return this.label.getValue();\n    }\n}\n\n\n\nexport interface ParamLabelProps extends ParameterControllerLabelProps4Render4Item {\n    baseCls: string;\n    fontSize: number;\n    $testId: string;\n}\n\n/**\n * 标签\n */\nexport interface ParameterControllerLabelProps4Render4Item extends ParameterControllerBasicProps4Item {\n\n    /**\n     * 字体颜色\tcss格式\n     */\n    color: string;\n\n    /**\n     * 下划线\n     */\n    decoration: string;\n\n    /**\n     * 字体家族\n     */\n    fontfamily: string;\n\n    /**\n     * 字体颜色\trgb格式\n     */\n    textColor: string;\n\n    /**\n     * 横向对齐方向\n     */\n    textalign: string;\n\n    /**\n     * 值\n     */\n    value: string | string[];\n\n    /**\n     * 纵向居中对齐\n     */\n    verticalcenter: boolean;\n\n    /**\n     * 换行\n     */\n    wrap: boolean;\n\n    /**\n     * 加粗\t默认无, bold加粗\n     */\n    fontweight: string | undefined\n\n    /**\n     * 斜体\t默认无, italic斜体\n     */\n    fontstyle: string | undefined;\n}\n\nexport interface ParameterControllerLabelProps4Render extends ParameterControllerBasicProps4Render, ParameterControllerLabelProps4Render4Item {}\n"]}
{"version":3,"file":"button.service.js","sourceRoot":"","sources":["../../../src/modules/button/button.service.ts"],"names":[],"mappings":"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","sourcesContent":["import jss from 'jss';\nimport jssGlobal from 'jss-plugin-global';\nimport jssNested from 'jss-plugin-nested';\nimport { getFontStyle } from '../controller.service';\n\n/**\n * 创建0-9，a-z对应keycode\n * @returns code\n */\nfunction createCommonCode () {\n    const commonCode: {[key: string]: number | number[]} = {};\n    for (let i = 0; i < 26; i++) {\n        if (i >= 0 && i <= 9) {\n            // 小键盘0-9对应96-105\n            commonCode[i] = [48 + i, 96 + i];\n        }\n        commonCode[String.fromCharCode(97 + i)] = i + 65;\n    }\n    \n    return commonCode;\n}\n\nconst keyAlias2Code = {\n    backspace: 8,\n    tab: 9,\n    enter: 13,\n    shift: 16,\n    ctrl: 17,\n    alt: 18,\n    pause: 19,\n    capslock: 20,\n    esc: 27,\n    space: 32,\n    pageup: 33,\n    pagedown: 34,\n    end: 35,\n    home: 36,\n    left: 37,\n    up: 38,\n    right: 39,\n    down: 40,\n    insert: 45,\n    del: 46,\n    numlock: 144,\n    scroll: 145,\n    f1: 112,\n    f2: 113,\n    f12: 123,\n    'return': 13,\n    ...createCommonCode(),\n};\n\nexport function setStyles({\n    fontSize,\n    color,\n    fontWeight,\n    fontFamily,\n    decoration,\n    initial,\n    click,\n    hover,\n    fontStyle,\n    opacity,\n    background,\n    border,\n    ['border-radius']: borderRadius,\n}: {\n    fontSize?: number;\n    color?: string;\n    fontWeight?: string;\n    fontFamily?: string;\n    decoration?: string;\n    initial?: {\n        background?: string;\n        'background-size'?: string;\n        'background-position'?: string;\n        'image-rendering'?: string;\n    };\n    click?: {\n        background: string;\n    };\n    hover?: {\n        background: string;\n    };\n    fontStyle?: string;\n    opacity?: number;\n    background?: string;\n    border?: string;\n    'border-radius'?: string;\n}, btnCls: string) {\n    jss.use(jssGlobal(), jssNested());\n\n    const styles4Attach: {\n        'font-size'?: string | number;\n        color?: string;\n        'font-weight'?: string;\n        'font-family'?: string;\n        decoration?: string;\n        initial?: string;\n        background?: string;\n        'text-decoration'?: string;\n        '&:hover'?: {\n            background: string;\n        };\n        '&:active'?: {\n            background: string;\n        };\n        'border-radius'?: string;\n        'border-width'?: string;\n        'background-size'?: string;\n        'background-position'?: string;\n        'image-rendering'?: string;\n        opacity?: string;\n        border?: string;\n    } = {};\n\n    if (fontSize) {\n        styles4Attach['font-size'] = BI.isNumeric(fontSize) ? `${fontSize}px` : `${fontSize}`;\n    }\n\n    styles4Attach.color = color;\n    styles4Attach['font-weight'] = fontWeight;\n    styles4Attach['font-family'] = fontFamily;\n    styles4Attach['text-decoration'] = decoration;\n    styles4Attach.background = initial?.background || 'transparent';\n    if (initial?.['background-size']) {\n        styles4Attach['background-size'] = initial?.['background-size'];\n    }\n    if (initial?.['background-position']) {\n        styles4Attach['background-position'] = initial?.['background-position'];\n    }\n    if (initial?.['image-rendering']) {\n        styles4Attach['image-rendering'] = initial?.['image-rendering'];\n    }\n    styles4Attach['border-radius'] = '2px';\n    styles4Attach['border-width'] = '1px solid transparent';\n\n    if (opacity) {\n        styles4Attach.opacity = `${opacity}`;\n    }\n\n    if (background) {\n        styles4Attach.background = `${background}`;\n    }\n\n    if (border) {\n        styles4Attach.border = `${border}`;\n    }\n\n    if (borderRadius) {\n        styles4Attach['border-radius'] = `${borderRadius}`;\n    }\n\n    if (hover) {\n        styles4Attach['&:hover'] = {\n            background: hover.background,\n        };\n    }\n\n    if (click) {\n        styles4Attach['&:active'] = {\n            background: click.background,\n        };\n    }\n\n    jss.createStyleSheet({\n        '@global': ['body', '#body']\n            .reduce((styles, prefix) => {\n                const baseSelector = `${prefix} .bi-button.button-common.${btnCls}`;\n\n                styles[baseSelector] = styles4Attach;\n                styles[`${baseSelector} .bi-text`] = fontStyle ? getFontStyle(fontStyle) : {};\n                styles[`${baseSelector} .bi-icon-label`] = {\n                    margin: '0 4px',\n                };\n\n                return styles;\n            }, {} as { [key: string]: any }),\n    }).attach();\n}\n\nexport function transform2KeyCode(char: string) {\n    if (char in keyAlias2Code) {\n        return keyAlias2Code[<keyof typeof keyAlias2Code>char];\n    }\n\n    return keyAlias2Code.enter;\n}\n"]}